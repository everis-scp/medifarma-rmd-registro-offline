/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/layout/HorizontalLayout","sap/m/Button","sap/m/ButtonType","sap/m/Input","sap/m/Select","sap/m/CheckBox","sap/m/DateRangeSelection","sap/ui/core/InvisibleText","sap/ui/core/Item","sap/m/Label",],function(H,B,a,I,S,C,D,b,c,L){"use strict";var d;var e=H.extend("sap.esh.search.ui.controls.SearchAdvancedCondition",{metadata:{properties:{type:"",},},constructor:function(o){var t=this;o=jQuery.extend({},{allowWrapping:true,content:t.contentFactory(o),},o);H.prototype.constructor.apply(this,[o]);t.addStyleClass("sapUshellSearchFacetDialogDetailPageCondition");},renderer:"sap.ui.layout.HorizontalLayoutRenderer",contentFactory:function(o){var t=this;var A=new C({select:function(E){if(o.type==="string"||o.type==="text"){d.updateCountInfo(E.getSource().getParent().getParent().getParent().getParent().getParent().getParent());}else{d.updateCountInfo(E.getSource().getParent().getParent().getParent());}},}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionCheckBox");var f=sap.ui.getCore().byId("advancedCheckBoxLabel");if(!f){f=new b("advancedCheckBoxLabel",{text:sap.esh.search.ui.resources.i18n.getText("checkBox"),});}A.addAriaLabelledBy("advancedCheckBoxLabel");var O=sap.ui.getCore().byId("operatorLabel");if(!O){O=new b("operatorLabel",{text:sap.esh.search.ui.resources.i18n.getText("operator"),});}var i,g,h,s;switch(o.type){case"timestamp":case"date":i=new D({width:"86%",change:function(E){t.onDateRangeSelectionChange(E);},}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");i.onAfterRendering=function(){var m=$(this.getDomRef());$("input",m).attr("readonly","readonly");};break;case"string":A.setVisible(false);h=new I({width:"57%",placeholder:sap.esh.search.ui.resources.i18n.getText("filterCondition"),liveChange:function(E){t.onAdvancedInputChange(E);},}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");s=new S({width:"40%",tooltip:sap.esh.search.ui.resources.i18n.getText("operator"),items:[new c({text:sap.esh.search.ui.resources.i18n.getText("equals"),key:"eq",}),new c({text:sap.esh.search.ui.resources.i18n.getText("beginsWith"),key:"bw",}),new c({text:sap.esh.search.ui.resources.i18n.getText("endsWith"),key:"ew",}),new c({text:sap.esh.search.ui.resources.i18n.getText("contains"),key:"co",}),],}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionSelect");s.addAriaLabelledBy("operatorLabel");i=new H({allowWrapping:true,content:[s,h],});g=new B({icon:"sap-icon://sys-cancel",type:a.Transparent,tooltip:sap.esh.search.ui.resources.i18n.getText("removeButton"),press:function(E){t.onDeleteButtonPress(E);},});break;case"text":A.setVisible(false);h=new I({width:"57%",placeholder:sap.esh.search.ui.resources.i18n.getText("filterCondition"),liveChange:function(E){t.onAdvancedInputChange(E);},}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");s=new S({width:"40%",tooltip:sap.esh.search.ui.resources.i18n.getText("operator"),items:[new c({text:sap.esh.search.ui.resources.i18n.getText("containsWords"),key:"co",}),],}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionSelect");s.addAriaLabelledBy("operatorLabel");i=new H({allowWrapping:true,content:[s,h],});g=new B({icon:"sap-icon://sys-cancel",type:a.Transparent,tooltip:sap.esh.search.ui.resources.i18n.getText("removeButton"),press:function(E){t.onDeleteButtonPress(E);},});break;case"integer":case"number":var j=new I({width:"46.5%",placeholder:sap.esh.search.ui.resources.i18n.getText("fromPlaceholder"),liveChange:function(E){t.onAdvancedNumberInputChange(E);},}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");var k=new I({width:"46.5%",placeholder:sap.esh.search.ui.resources.i18n.getText("toPlaceholder"),liveChange:function(E){t.onAdvancedNumberInputChange(E);},}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");var l=new L({text:"...",}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionLabel");i=new H({allowWrapping:true,content:[j,l,k],});i.addEventDelegate({onAfterRendering:function(E){var m=E.srcControl.getParent().getParent().getContent().length;var n=E.srcControl.getParent().getParent().indexOfAggregation("content",E.srcControl.getParent());if(n===m-2){var v=E.srcControl.getContent()[2].getValue();E.srcControl.getContent()[2].setValue();E.srcControl.getContent()[2].setValue(v);}},});break;default:break;}return[A,i,g];},onDateRangeSelectionChange:function(E){var o=E.getSource();var A=o.getParent();var f=A.getContent()[0];if(o.getDateValue()&&o.getSecondDateValue()){f.setSelected(true);d.insertNewAdvancedCondition(A,"date");d.updateCountInfo(A.getParent().getParent());}else{f.setSelected(false);}},onAdvancedInputChange:function(E){var i=E.getSource();var A=i.getParent().getParent();var o=A.getContent()[0];if(i.getValue()){o.setSelected(true);d.updateCountInfo(A.getParent().getParent().getParent().getParent().getParent());}else{o.setSelected(false);}},onDeleteButtonPress:function(E){var A=E.getSource().getParent();d.deleteAdvancedCondition(A);},onAdvancedNumberInputChange:function(E){var i=E.getSource();var A=i.getParent().getParent();var o=A.getContent()[0];if(i.getParent().getContent()[0].getValue()&&i.getParent().getContent()[2].getValue()){o.setSelected(true);d.insertNewAdvancedCondition(A,"number");d.updateCountInfo(A.getParent().getParent());}else{o.setSelected(false);}},});e.setSearchFacetDialogHelper=function(_){d=_;};return e;});
