/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/helpers/ClassSupport","./MacroAPI"],function(C,M){"use strict";var _,a,b,c,d,f,g,h,j,k,l,m,n,q,r,s,t,u,v;var A=C.Association;var P=C.Property;var E=C.Event;var w=C.EventHandler;var x=C.APIClass;function y(e,p,i,o){if(!i)return;Object.defineProperty(e,p,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(o):void 0});}function z(i,e){if(!(i instanceof e)){throw new TypeError("Cannot call a class as a function");}}function B(e,p){for(var i=0;i<p.length;i++){var o=p[i];o.enumerable=o.enumerable||false;o.configurable=true;if("value"in o)o.writable=true;Object.defineProperty(e,o.key,o);}}function D(e,p,i){if(p)B(e.prototype,p);if(i)B(e,i);return e;}function F(e,i){if(typeof i!=="function"&&i!==null){throw new TypeError("Super expression must either be null or a function");}e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:true,configurable:true}});if(i)G(e,i);}function G(o,p){G=Object.setPrototypeOf||function G(o,p){o.__proto__=p;return o;};return G(o,p);}function H(e){return function(){var S=L(e),i;if(K()){var o=L(this).constructor;i=Reflect.construct(S,arguments,o);}else{i=S.apply(this,arguments);}return I(this,i);};}function I(e,i){if(i&&(typeof i==="object"||typeof i==="function")){return i;}return J(e);}function J(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return e;}function K(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function L(o){L=Object.setPrototypeOf?Object.getPrototypeOf:function L(o){return o.__proto__||Object.getPrototypeOf(o);};return L(o);}function N(o,e,i){if(e in o){Object.defineProperty(o,e,{value:i,enumerable:true,configurable:true,writable:true});}else{o[e]=i;}return o;}function O(e,p,i,o,S){var T={};Object.keys(o).forEach(function(U){T[U]=o[U];});T.enumerable=!!T.enumerable;T.configurable=!!T.configurable;if('value'in T||T.initializer){T.writable=true;}T=i.slice().reverse().reduce(function(T,U){return U(e,p,T)||T;},T);if(S&&T.initializer!==void 0){T.value=T.initializer?T.initializer.call(S):void 0;T.initializer=undefined;}if(T.initializer===void 0){Object.defineProperty(e,p,T);T=null;}return T;}function Q(e,i){throw new Error('Decorating class property failed. Please ensure that '+'proposal-class-properties is enabled and runs after the decorators transform.');}var R=(_=x("sap.fe.macros.FieldAPI"),a=P({type:"boolean"}),b=P({type:"boolean"}),c=P({type:"string"}),d=A({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),f=P({type:"boolean"}),g=P({type:"sap.fe.macros.FieldFormatOptions"}),h=P({type:"string"}),_(j=(k=(v=function(e){F(R,e);var o=H(R);function R(){var i;z(this,R);for(var p=arguments.length,S=new Array(p),T=0;T<p;T++){S[T]=arguments[T];}i=o.call.apply(o,[this].concat(S));y(J(i),"editable",l,J(i));y(J(i),"readOnly",m,J(i));y(J(i),"id",n,J(i));y(J(i),"change",q,J(i));y(J(i),"ariaLabelledBy",r,J(i));y(J(i),"required",s,J(i));y(J(i),"formatOptions",t,J(i));y(J(i),"semanticObject",u,J(i));return i;}D(R,[{key:"handleChange",value:function p(i){this.fireChange({value:this.getValue(),isValid:i.getParameter("valid")});}},{key:"onBeforeRendering",value:function V(){var p=this.getContent();if(p&&p.addAriaLabelledBy){var S=this.getAriaLabelledBy();for(var i=0;i<S.length;i++){var T=S[i];var U=p.getAriaLabelledBy()||[];if(U.indexOf(T)===-1){p.addAriaLabelledBy(T);}}}}},{key:"enhanceAccessibilityState",value:function T(i,p){var S=this.getParent();if(S&&S.enhanceAccessibilityState){S.enhanceAccessibilityState(this,p);}return p;}},{key:"getAccessibilityInfo",value:function p(){var i=this.content;return i&&i.getAccessibilityInfo?i.getAccessibilityInfo():{};}},{key:"getValue",value:function S(){var i=this.content,p;if(i.isA("sap.fe.core.controls.FieldWrapper")){p=i.getContentEdit()||[i.getContentDisplay()]||[];if(p.length===1){i=p[0];}else{throw"getting value not yet implemented for this field type";}}if(i.isA("sap.m.CheckBox")){return i.getSelected();}else if(i.isA("sap.m.Input")){return i.getValue();}else if(i.isA("sap.ui.mdc.Field")){return i.getValue();}else if(i.isA("sap.m.TextArea")){return i.getValue();}else{throw"getting value not yet implemented for this field type";}}}]);return R;}(M),v),(l=O(k.prototype,"editable",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),m=O(k.prototype,"readOnly",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),n=O(k.prototype,"id",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),q=O(k.prototype,"change",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),r=O(k.prototype,"ariaLabelledBy",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),s=O(k.prototype,"required",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),t=O(k.prototype,"formatOptions",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),u=O(k.prototype,"semanticObject",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),O(k.prototype,"handleChange",[w],Object.getOwnPropertyDescriptor(k.prototype,"handleChange"),k.prototype)),k))||j);return R;},false);
