/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/mdc/filterbar/IFilterContainer","sap/m/HeaderContainer","sap/m/FlexBox"],function(I,H,F){"use strict";var V=I.extend("sap.fe.core.controls.filterbar.VisualFilterContainer",{metadata:{aggregations:{_layout:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}}});V.prototype.init=function(){I.prototype.init.apply(this,arguments);this.oHeaderContainer=new H();this.oButtonFlexBox=new F({alignItems:"End",justifyContent:"End"});this.oLayout=new F({direction:"Column",items:[this.oHeaderContainer,this.oButtonFlexBox]});this.aAllFilterFields=[];this.aVisualFilterFields={};};V.prototype.exit=function(){I.prototype.exit.apply(this,arguments);var a=this.getAllFilterFields();a.forEach(function(f){f.destroy();});this.oHeaderContainer=null;this.oButtonFlexBox=null;this.aAllFilterFields=[];};V.prototype.insertFilterField=function(c,i){var f={onBeforeRendering:function(){if(!c._fnGetContentCopy){c._fnGetContentCopy=c.getContent;}c.getContent=function(){var C=[];C.push(c._oFilterField);return C;};c.removeEventDelegate(f);}};c.addEventDelegate(f);var b=false;var v=this.aVisualFilterFields;var _;this.aAllFilterFields.forEach(function(o){if(o.getContent()[1].getId()===c.getContent()[1].getId()){var s=c.getContent()[1].getId();if(v[s]){_=v[s];o.getContent().forEach(function(a){if(a.isA("sap.ui.mdc.FilterField")&&a.data("hasVisualFilter")==="true"){a.setContent(_);b=true;}});}}});if(b){this.oHeaderContainer.insertContent(c,i);}};V.prototype.removeFilterField=function(c){this.oHeaderContainer.removeContent(c);};V.prototype.removeAllFilterFields=function(){this.aAllFilterFields=[];this.aVisualFilterFields={};this.oHeaderContainer.removeAllContent();};V.prototype.getFilterFields=function(){return this.oHeaderContainer.getContent();};V.prototype.addButton=function(c){this.oButtonFlexBox.insertItem(c);};V.prototype.getAllButtons=function(){return this.oButtonFlexBox.getItems().reverse();};V.prototype.removeButton=function(c){this.oButtonFlexBox.removeItem(c);};V.prototype.getAllFilterFields=function(){return this.aAllFilterFields.slice();};V.prototype.setAllFilterFields=function(f,v){this.aAllFilterFields=f;this.aVisualFilterFields=v;};return V;});
