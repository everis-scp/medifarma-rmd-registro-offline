// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define([],function(){"use strict";function R(){var d=false,c,b=false;this.resetBackNavigationFlag=function(){b=false;};sap.ui.getCore().getEventBus().subscribe("relatedServices","resetBackNavigation",this.resetBackNavigationFlag,this);this._defaultBackNavigation=function(){window.history.back();};sap.ui.getCore().getEventBus().subscribe("relatedServices","resetBackNavigation",this.resetBackNavigationFlag,this);this.isBackNavigation=function(){return b;};this.navigateBack=function(){b=true;if(d===true){this._defaultBackNavigation();}else if(c){c();}else{if(sap.ushell.Container.getService("CrossApplicationNavigation").isInitialNavigation()){sap.ushell.Container.getService("CrossApplicationNavigation").toExternal({target:{shellHash:"#"},writeHistory:false});return;}this._defaultBackNavigation();}};this.setNavigateBack=function(i){d=false;c=i;};this.resetNavigateBack=function(){d=true;c=undefined;};this.restore=function(i){d=i.bDefaultBrowserBack;c=i.fnCustomBackNavigation;};this.store=function(s){s.bDefaultBrowserBack=d;s.fnCustomBackNavigation=c;};}return new R();},true);
