sap.ui.define([],function(){'use strict';function g(){return{"changeHandler":{},"layers":{"VENDOR":true,"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}};}var P={"changeHandler":{applyChange:function(C,p,m){var a=m.appComponent.getRootControl();var d=a.getController();d.appendIncomingDeltaChange(C);return;},completeChangeContent:function(C,s,p){return;},revertChange:function(C,o,p){return;}},"layers":{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}};var U={"changeHandler":"default","layers":{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}};var H=g();var b=g();H.changeHandler.applyChange=function(C,o,p){return c(C,o,p,false);};H.changeHandler.revertChange=function(C,o,p){return _(C,o,p,true);};H.changeHandler.completeChangeContent=function(C,s,p){C.setContent(s.removedElement);};b.changeHandler.applyChange=function(C,o,p){return c(C,o,p,true);};b.changeHandler.revertChange=function(C,o,p){return _(C,o,p,false);};b.changeHandler.completeChangeContent=function(C,s,p){C.setContent({"id":s.revealedElementId});};function _(C,o,p,v){var m=p.modifier,M=p.appComponent.getRootControl(),a=M.getController(),u=a.getUIModel(),l=a.getLayout(),s=C.getRevertData(),d=m.bySelector(s);m.setVisible(d,v);C.resetRevertData();if(u.getProperty('/containerLayout')==='resizable'){var L=l.getDashboardLayoutUtil();L.updateCardVisibility([{id:L.getCardIdFromComponent(s),visibility:v}]);}l.rerender();return true;}function c(C,o,p,v){var m=p.modifier,M=p.appComponent.getRootControl();if(!M){throw new Error("Main view is not initialized yet.");}var d=M.getController(),u=d.getUIModel(),l=d.getLayout(),s=C.getContent().id,A=p.appComponent,S={id:s,isLocalId:false},e=m.bySelector(S,A,M);var f=d.deltaChanges.filter(function(a){return a._oDefinition.selector.id===C._oDefinition.content.id&&a._oDefinition.changeType==="visibility";});if(d.aManifestOrderedCards){for(var i=0;i<d.aManifestOrderedCards.length;i++){if(d.aManifestOrderedCards[i].id===C._oDefinition.content.id.split("--")[1]){d.oView.oController.aManifestOrderedCards[i].visibility=C._oDefinition.changeType==="hideCardContainer"?false:true;}}}if(!d.aManifestOrderedCards||f.length===0){C.setRevertData(s);m.setVisible(e,v);if(u.getProperty('/containerLayout')==='resizable'){var L=l.getDashboardLayoutUtil();if(L.aCards){L.updateCardVisibility([{id:L.getCardIdFromComponent(s),visibility:v}]);}d.appendIncomingDeltaChange(C);}if(v){var h=M.byId(s);if(!h.getComponentInstance()&&d.bFinishedCardsCreationProcess){var j=d._getCardFromManifest(d._getCardId(s));d.recreateRTAClonedCard(j);}}l.rerender();return true;}return false;}return{HideCardContainer:H,UnhideCardContainer:b,PersonalizationDefaultConfig:P,UnhideControlConfig:U};});
