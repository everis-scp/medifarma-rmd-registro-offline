/*!
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/zen/dsh/firefly/ff1040.kernel.native"],function(f){"use strict";f.SerenityShell=function(){};f.SerenityShell.prototype=new f.DfProgram();f.SerenityShell.prototype._ff_c="SerenityShell";f.SerenityShell.createKernelShell=function(p){var n=new f.SerenityShell();n.setup();n.setProcess(p);return n;};f.SerenityShell.createShellByProcess=function(p){var s=null;if(f.notNull(p)){s=p;}else{var k=f.Kernel.getInstance();s=k.getKernelProcess();}if(f.notNull(s)){var n=f.ProgramArgs.create();var a=f.ProgramStartCfg.create(s,"shell",null,n);a.setIsNewConsoleNeeded(true);a.setIsCreatingChildProcess(false);a.processExecution(f.SyncType.NON_BLOCKING,null,null);}};f.SerenityShell.prototype.m_useStartMarker=false;f.SerenityShell.prototype.m_shellCommands=null;f.SerenityShell.prototype.m_currentSubSession=null;f.SerenityShell.prototype.newProgram=function(){var n=new f.SerenityShell();n.setup();return n;};f.SerenityShell.prototype.setup=function(){f.DfProgram.prototype.setup.call(this);this.m_shellCommands=f.XHashSetOfString.create();this.m_shellCommands.add("set");this.m_shellCommands.add("cd");this.m_shellCommands.add("rm");this.m_shellCommands.add("pwd");};f.SerenityShell.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameterList("start","Program with following arguments to start");};f.SerenityShell.prototype.initializeProgram=function(){f.DfProgram.prototype.initializeProgram.call(this);this.registerOnProgramContainerOpen(this);this.registerOnProgramContainerClose(this);};f.SerenityShell.prototype.runProcess=function(){if(this.getSession().hasCapability("terminal")===false){this.m_useStartMarker=true;}var p=this.getArgumentStructure().getListByKey("start");if(f.notNull(p)&&p.size()>0){var s=f.XListOfString.create();for(var k=0;k<p.size();k++){s.add(p.getStringAt(k));}var a=f.ProgramStartCfg.createByArgs(this.getProcess(),s,0);a.registerProgramTerminatedListener(this,a);a.processExecution(f.SyncType.BLOCKING,this,a);}else{if(this.getStdin().supportsSyncType(f.SyncType.NON_BLOCKING)){this.readInputLine();return true;}else{while(true){this.readInputLine();}}}return false;};f.SerenityShell.prototype.readInputLine=function(){if(this.m_useStartMarker===true){this.print(">> ");}var s=this.getStdin();s.readLine(this);};f.SerenityShell.prototype.onLineRead=function(t){var m=false;if(f.XStringUtils.isNullOrEmpty(f.XString.trim(t))){m=true;}else{var s=this.getSession().getStdout();var a=f.ProgramStartCfg.createByCmdLine(this.getProcess(),t);if(f.isNull(a)){s.println(f.XStringUtils.concatenate2("Cannot find prg: ",t));m=true;}else{var p=a.getName();a.setIsUsingParentEnvironment(this.m_shellCommands.contains(p));a.registerProgramTerminatedListener(this,a);a.processExecution(f.SyncType.BLOCKING,this,a);}}if(m&&this.getStdin().supportsSyncType(f.SyncType.NON_BLOCKING)){this.readInputLine();}};f.SerenityShell.prototype.onProgramStarted=function(e,p,c){if(e.hasErrors()){var s=this.getSession().getStdout();s.println(e.getSummary());}};f.SerenityShell.prototype.onProgramTerminated=function(e,a,c){var s=this.getStdin().supportsSyncType(f.SyncType.NON_BLOCKING);if(s){this.readInputLine();}};f.SerenityShell.prototype.signalExit=function(e){var s=this.getStdin().supportsSyncType(f.SyncType.NON_BLOCKING);if(s){this.readInputLine();}};f.SerenityShell.prototype.getCurrentSubSession=function(){return this.m_currentSubSession;};f.SerenityShell.prototype.getProcess=function(){return this.getSession();};f.SerenityShell.prototype.onProgramContainerOpen=function(p){this.printWelcomeMessage();};f.SerenityShell.prototype.onProgramContainerClose=function(p){return true;};f.SerenityShell.prototype.printWelcomeMessage=function(){this.println("                      ______ _           __ _             ");this.println("                     |  ____(_)         / _| |            ");this.println("                     | |__   _ _ __ ___| |_| |_   _       ");this.println("                     |  __| | | '__/ _ \\  _| | | | |     ");this.println("                     | |    | | | |  __/ | | | |_| |      ");this.println("                     |_|    |_|_|  \\___|_| |_|\\__, |    ");this.println("                                               __/ |      ");this.println("                                              |___/       ");this.println("                                 \\     /                 ");this.println("                             \\    o ^ o    /             ");this.println("                               \\ (     ) /               ");this.println("                    ____________(       )____________     ");this.println("                   (     /   /  )       (  \\   \\     )  ");this.println("                   (___/___/__/           \\__\\___\\___) ");this.println("                      (     /  /(       )\\  \\     )     ");this.println("                       (__/___/ (       ) \\___\\__)      ");this.println("                               /(%%%%%%%)\\               ");this.println("                             /   (%%%%%)   \\             ");this.println("                                  (%%%)                   ");this.println("                                    !                     ");this.println("                                                          ");this.println("Welcome to the firefly shell!");this.println("Type 'help' to get started...");this.println("");};f.ShellCache=function(){};f.ShellCache.prototype=new f.DfProgram();f.ShellCache.prototype._ff_c="ShellCache";f.ShellCache.prototype.m_command=null;f.ShellCache.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameter("command"," The command. Can be 'status', 'enable' or 'disable'. ");};f.ShellCache.prototype.newProgram=function(){var n=new f.ShellCache();n.setup();return n;};f.ShellCache.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);this.m_command=this.getArgumentStructure().getStringByKey("command");};f.ShellCache.prototype.runProcess=function(){var p=this.getProcess();var k=p.getKernel();var s=k.getSubSystemContainer(f.SubSystemType.CACHE);var a=s.getStatus();var o=f.XStringBufferExt.create();o.setIndentationString("    ");o.appendLine("*** Cache ***");if(f.XString.isEqual(this.m_command,"status")){o.append("Status: ").appendLine(a.getName());var m=s.getMessageCollection();if(m.getMessages().size()>0){o.appendLine("Messages:");o.appendLine(m.getSummary());}if(a===f.SubSystemStatus.ACTIVE){var c=s.getMainApi();o.append("Type: ").appendLine(c.getCacheType());if(c.supportsNameSpaceEnumeration()){o.appendLine("Defined Caches:");o.indent();var n=c.getNameSpaces();if(n.size()>0){this.renderSubCache(c,o);}else{o.appendLine("None");}o.outdent();}}}this.print(o.toString());this.exitNow(0);return false;};f.ShellCache.prototype.renderSubCache=function(p,o){var n=p.getNameSpaces();for(var i=0;i<n.size();i++){var a=n.get(i);o.append("  ").append(a).append(" ");var c=p.getSubCache(a);if(c.isEnabled()===true){o.append("Active");o.append(" - ");if(c.isReadEnabled()){o.append("R");}if(c.isWriteEnabled()){o.append("W");}}else{o.append("Inactive");}o.append(" - Max Count: ");o.appendInt(c.getMaxCount());o.append(" - Timout: ");o.appendInt(c.getValidityTime());o.append(" - Hits: ");o.appendInt(c.getHitCount());o.appendNewLine();o.indent();this.renderSubCache(c,o);o.outdent();}};f.ShellCd=function(){};f.ShellCd.prototype=new f.DfProgram();f.ShellCd.prototype._ff_c="ShellCd";f.ShellCd.prototype.m_param=null;f.ShellCd.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameter("directory"," Change the current directory to dir.");};f.ShellCd.prototype.newProgram=function(){var n=new f.ShellCd();n.setup();return n;};f.ShellCd.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);this.m_param=this.getArgumentStructure().getStringByKey("directory");};f.ShellCd.prototype.runProcess=function(){var p=this.getProcess().getParentProcess();var c=p.getCurrentWorkingDirectory();var a=f.XFile.createByUri(this.getSession(),c);if(f.notNull(a)){var n=f.XUri.createChild(c,this.m_param);n.normalizePath(true);var b=f.XFile.createByUri(this.getSession(),n);if(b.isExisting()&&b.isDirectory()){p.setCurrentWorkingDirectory(n);}else{this.println(f.XStringUtils.concatenate3("'",this.m_param,"':  No such file or directory"));}}else{this.println(f.XStringUtils.concatenate3("'",this.m_param,"':  No valid path"));}this.exitNow(0);return false;};f.ShellDel=function(){};f.ShellDel.prototype=new f.DfProgram();f.ShellDel.prototype._ff_c="ShellDel";f.ShellDel.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);};f.ShellDel.prototype.newProgram=function(){var n=new f.ShellDel();n.setup();return n;};f.ShellDel.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);};f.ShellDel.prototype.runProcess=function(){this.println("Del: ToDo!");this.exitNow(0);return false;};f.ShellDir=function(){};f.ShellDir.prototype=new f.DfProgram();f.ShellDir.prototype._ff_c="ShellDir";f.ShellDir.PARAM_SHOW_DATE="showdate";f.ShellDir.prototype.m_showDate=false;f.ShellDir.prototype.newProgram=function(){var n=new f.ShellDir();n.setup();return n;};f.ShellDir.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption(f.ShellDir.PARAM_SHOW_DATE,null,"Output of date and time. Default is true.",f.XValueType.BOOLEAN);};f.ShellDir.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);this.m_showDate=this.getArgumentStructure().getBooleanByKeyExt(f.ShellDir.PARAM_SHOW_DATE,true);};f.ShellDir.prototype.runProcess=function(){var p=this.getProcess();var c=p.getCurrentWorkingDirectory();this.log(c.toString());var b=f.XStringBuffer.create();var a=f.XFile.create(p,".");var d=a.getUrl();b.append(" Directory of ");b.append(d);this.println(b.toString());this.println("");var e=a.getChildren();var s=f.XList.create();s.addAll(e);s.sortByComparator(this);for(var i=0;i<s.size();i++){var g=this.getFileInfo(s.get(i));this.println(g);}this.exitNow(0);return false;};f.ShellDir.prototype.getFileInfo=function(a){var r=f.XStringBuffer.create();if(this.m_showDate){var t=f.XDateTime.createWithMilliseconds(a.getLastModifiedTimestamp());r.append(t.getDate().toIsoFormat()).append(" ").append(t.getHourOfDay()<10?"0":"").appendInt(t.getHourOfDay()).append(":").append(t.getMinuteOfHour()<10?"0":"").appendInt(t.getMinuteOfHour());r.append(" ");}var b=a.isDirectory()?"<DIR> ":"      ";r.append(b);r.append(a.getName()).append(" ");return r.toString();};f.ShellDir.prototype.compare=function(o,a){if(o.isDirectory()&&a.isDirectory()===false){return-1;}else if(o.isDirectory()===false&&a.isDirectory()){return 1;}else{var n=o.getName();var b=a.getName();return f.XString.compare(n,b);}};f.ShellGrep=function(){};f.ShellGrep.prototype=new f.DfProgram();f.ShellGrep.prototype._ff_c="ShellGrep";f.ShellGrep.prototype.newProgram=function(){var n=new f.ShellGrep();n.setup();return n;};f.ShellGrep.prototype.runProcess=function(){this.println("Hello World!");this.exitNow(0);return false;};f.ShellHelp=function(){};f.ShellHelp.prototype=new f.DfProgram();f.ShellHelp.prototype._ff_c="ShellHelp";f.ShellHelp.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);};f.ShellHelp.prototype.newProgram=function(){var n=new f.ShellHelp();n.setup();return n;};f.ShellHelp.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);};f.ShellHelp.prototype.runProcess=function(){this.println("    _          _       ");this.println("   | |__   ___| |_ __  ");this.println("   | '_ \\ / _ \\ | '_ \\ ");this.println("   | | | |  __/ | |_) |");this.println("   |_| |_|\\___|_| .__/ ");this.println("                |_|  ");this.println("   ");this.println("There is not much yet here, but...");this.println("You can type 'listprgs' to see a list of available programs!");this.exitNow(0);return false;};f.ShellKill=function(){};f.ShellKill.prototype=new f.DfProgram();f.ShellKill.prototype._ff_c="ShellKill";f.ShellKill.DEFAULT_PROGRAM_NAME="kill";f.ShellKill.prototype.m_id=null;f.ShellKill.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);m.addMandatoryOption("id","The id of the process to be killed.","",f.XValueType.STRING);};f.ShellKill.prototype.newProgram=function(){var n=new f.ShellKill();n.setup();return n;};f.ShellKill.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);this.m_id=this.getArgumentStructure().getStringByKey("id");};f.ShellKill.prototype.runProcess=function(){var k=this.getProcess().getKernel();var e=k.processProgramTerminate(f.SyncType.BLOCKING,null,null,this.m_id,false);var s=e.getSummary();this.println(s);this.exitNow(0);return false;};f.ShellListPrgs=function(){};f.ShellListPrgs.prototype=new f.DfProgram();f.ShellListPrgs.prototype._ff_c="ShellListPrgs";f.ShellListPrgs.prototype.m_showDetails=false;f.ShellListPrgs.prototype.newProgram=function(){var n=new f.ShellListPrgs();n.setup();return n;};f.ShellListPrgs.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption("details","Show detailed program infos","true|false",f.XValueType.BOOLEAN);};f.ShellListPrgs.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);this.m_showDetails=this.getArguments().getBooleanByKey("details");};f.ShellListPrgs.prototype.runProcess=function(){var a=f.ProgramRegistration.getAllEntries();var s=f.XListOfString.create();s.addAll(a.getKeysAsReadOnlyListOfString());s.sortByDirection(f.XSortDirection.ASCENDING);if(this.m_showDetails){this.printWithDetails(a,s);}else{this.printCompact(s);}this.exitNow(0);return false;};f.ShellListPrgs.prototype.printCompact=function(s){this.println("Programs:");this.println("-----------");for(var i=0;i<s.size();i++){this.println(f.XStringUtils.concatenate2("- ",s.get(i)));}};f.ShellListPrgs.prototype.printWithDetails=function(a,s){var t=this.generateFixedLengthStr("Program name:",38);t=f.XStringUtils.concatenate2(t,this.generateFixedLengthStr("Display name:",38));t=f.XStringUtils.concatenate2(t,this.generateFixedLengthStr("Author:",38));this.println(t);this.println("---------------------------------------------------------------------------------------------");for(var i=0;i<s.size();i++){var b=a.getByKey(s.get(i));var d=f.XStringUtils.concatenate2("- ",this.generateFixedLengthStr(s.get(i),37));d=f.XStringUtils.concatenate2(d,this.generateFixedLengthStr(f.XStringUtils.concatenate2(" | ",b.getDisplayName()),35));d=f.XStringUtils.concatenate2(d,this.generateFixedLengthStr(f.XStringUtils.concatenate2(" | ",b.getAuthor()),35));this.println(d);this.println("---------------------------------------------------------------------------------------------");}};f.ShellListPrgs.prototype.generateFixedLengthStr=function(i,l){var t="";if(f.XStringUtils.isNotNullAndNotEmpty(i)){t=i;}var s=f.XString.size(t);return f.XStringUtils.rightPad(t," ",l-s);};f.ShellMkdir=function(){};f.ShellMkdir.prototype=new f.DfProgram();f.ShellMkdir.prototype._ff_c="ShellMkdir";f.ShellMkdir.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);};f.ShellMkdir.prototype.newProgram=function(){var n=new f.ShellMkdir();n.setup();return n;};f.ShellMkdir.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);};f.ShellMkdir.prototype.runProcess=function(){this.println("Mdir: Todo!");this.exitNow(0);return false;};f.ShellProcesses=function(){};f.ShellProcesses.prototype=new f.DfProgram();f.ShellProcesses.prototype._ff_c="ShellProcesses";f.ShellProcesses.DEFAULT_PROGRAM_NAME="proc";f.ShellProcesses.prototype.m_showAsTree=false;f.ShellProcesses.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption("tree","Show the processes in a tree.","true|false",f.XValueType.BOOLEAN);};f.ShellProcesses.prototype.newProgram=function(){var n=new f.ShellProcesses();n.setup();return n;};f.ShellProcesses.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);this.m_showAsTree=this.getArguments().getBooleanByKey("tree");};f.ShellProcesses.prototype.runProcess=function(){var k=this.getProcess().getKernel().getKernelProcess();var b=f.XStringBufferExt.create();b.appendLine("*** List of all processes ***");this.recursiveCollect(k,b);b.appendLine("*****************************");this.println(b.toString());this.exitNow(0);return false;};f.ShellProcesses.prototype.recursiveCollect=function(p,b){b.append(p.getProcessId());b.append(" - ");if(p.getParentProcess()===null){b.append("root-process");}else{b.append("child       ");}var s=p.getProgramCfg();if(f.notNull(s)){b.append(" - ");b.append(s.getName());var a=s.getArguments();if(f.notNull(a)){var c=a.getArgumentString();b.append(" ");b.append(c);}}b.appendNewLine();if(this.m_showAsTree){b.indent();}var d=p.getChildProcesses();for(var i=0;i<d.size();i++){var e=d.get(i);this.recursiveCollect(e,b);}if(this.m_showAsTree){b.outdent();}};f.ShellPwd=function(){};f.ShellPwd.prototype=new f.DfProgram();f.ShellPwd.prototype._ff_c="ShellPwd";f.ShellPwd.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);};f.ShellPwd.prototype.newProgram=function(){var n=new f.ShellPwd();n.setup();return n;};f.ShellPwd.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);};f.ShellPwd.prototype.runProcess=function(){var c=this.getSession().getEnvironment().getVariable("pwd");this.println(c);this.exitNow(0);return false;};f.ShellRmdir=function(){};f.ShellRmdir.prototype=new f.DfProgram();f.ShellRmdir.prototype._ff_c="ShellRmdir";f.ShellRmdir.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);};f.ShellRmdir.prototype.newProgram=function(){var n=new f.ShellRmdir();n.setup();return n;};f.ShellRmdir.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);};f.ShellRmdir.prototype.runProcess=function(){this.println("Rmdir: Todo!");this.exitNow(0);return false;};f.ShellSet=function(){};f.ShellSet.prototype=new f.DfProgram();f.ShellSet.prototype._ff_c="ShellSet";f.ShellSet.prototype.newProgram=function(){var n=new f.ShellSet();n.setup();return n;};f.ShellSet.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption("resolve",null,"Resolve all inner variables",f.XValueType.BOOLEAN);m.addParameter("variable","name=value");};f.ShellSet.prototype.runProcess=function(){var s=this.getSession();var e=s.getEnvironment();var a=s.getStdout();var v=this.getArgumentStructure().getStringByKey("variable");if(f.XStringUtils.isNullOrEmpty(v)){var r=this.getArgumentStructure().getBooleanByKeyExt("resolve",false);var b=e.getVariableNames();var c=f.XListOfString.createFromReadOnlyList(b);c.sortByDirection(f.XSortDirection.ASCENDING);var d=f.XStringBuffer.create();for(var i=0;i<c.size();i++){var n=c.get(i);var g;g=e.getVariable(n);if(r===true){g=e.resolveString(g);if(f.isNull(g)){g=f.XStringUtils.concatenate2("Cannot resolve: ",g);}}d.append(n).append("=").append(g).appendNewLine();}a.println(d.toString());}else{var h=f.XString.indexOf(v,"=");if(h===-1){a.println("Missing '=': The parameter assignment must be in the form 'name=value'.");}else{var t=f.XString.substring(v,0,h);var j=f.XString.substring(v,h+1,-1);e.setVariable(t,j);}}this.exitNow(0);return false;};f.ShellTakeOver=function(){};f.ShellTakeOver.prototype=new f.DfProgram();f.ShellTakeOver.prototype._ff_c="ShellTakeOver";f.ShellTakeOver.prototype.newProgram=function(){var n=new f.ShellTakeOver();n.setup();return n;};f.ShellTakeOver.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameter("program","the program to run");m.addParameter("containerId","the id of the container to be hijacked");};f.ShellTakeOver.prototype.runProcess=function(){this.println("Rendering...");var c=this.getArgumentStructure().getStringByKey("containerId");var p=this.getArgumentStructure().getStringByKey("program");if(f.XStringUtils.isNullOrEmpty(c)){c="content";}if(f.XStringUtils.isNullOrEmpty(p)){p="FireflyStudio";}this.doHijack(c,p);var n=f.ProgramArgs.create();var s=f.ProgramStartCfg.create(this.getProcess(),p,null,n);s.setIsNewConsoleNeeded(true);s.setIsCreatingChildProcess(false);s.setEnforcedOutputDevice(f.ProgramDevice.EMBEDDED);s.setNativeAnchorId(c);s.processExecution(f.SyncType.NON_BLOCKING,null,null);this.exitNow(0);return false;};f.ShellTakeOver.prototype.doHijack=function(c,p){this.println("No native code. Please implement native hijack process!");};f.ShellWget=function(){};f.ShellWget.prototype=new f.DfProgram();f.ShellWget.prototype._ff_c="ShellWget";f.ShellWget.prototype.m_url=null;f.ShellWget.prototype.m_uriObj=null;f.ShellWget.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameter("url","The url to get");};f.ShellWget.prototype.newProgram=function(){var n=new f.ShellWget();n.setup();return n;};f.ShellWget.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);this.m_url=this.getArgumentStructure().getStringByKey("url");};f.ShellWget.prototype.runProcess=function(){this.m_uriObj=f.XUri.createFromUrl(this.m_url);this.log2("Connecting to ",this.m_uriObj.toString());var h=f.HttpClientFactory.newInstanceByConnection(this.getSession(),this.m_uriObj);if(f.notNull(h)){var r=h.getRequest();r.setFromUri(this.m_uriObj);h.processHttpRequest(f.SyncType.BLOCKING,this,null);}else{this.println("Cannot create connection");}this.exitNow(0);return false;};f.ShellWget.prototype.onHttpResponse=function(e,r,c){if(e.isValid()){var d=e.getData();if(f.notNull(d)){var o=d.getString();this.println(o);}else{this.println("No data available");}}else{this.log(e.getSummary());}};f.ShellWhoami=function(){};f.ShellWhoami.prototype=new f.DfProgram();f.ShellWhoami.prototype._ff_c="ShellWhoami";f.ShellWhoami.prototype.m_uriObj=null;f.ShellWhoami.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);};f.ShellWhoami.prototype.newProgram=function(){var n=new f.ShellWhoami();n.setup();return n;};f.ShellWhoami.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);};f.ShellWhoami.prototype.runProcess=function(){var p=this.getSession().resolvePath("${ff_network_dir}/api/user");this.m_uriObj=f.XUri.createFromUrl(p);this.log2("Connecting to ",this.m_uriObj.toString());var h=f.HttpClientFactory.newInstanceByConnection(this.getSession(),this.m_uriObj);var r=h.getRequest();r.setFromUri(this.m_uriObj);h.processHttpRequest(f.SyncType.BLOCKING,this,null);this.exitNow(0);return false;};f.ShellWhoami.prototype.onHttpResponse=function(e,r,c){if(e.isValid()){var d=e.getData();if(f.notNull(d)){var j=d.getJsonContent();if(f.notNull(j)){var o=j.toString();this.println(o);}else{this.println("No data available");}}else{this.println("No data available");}}else{this.log(e.getSummary());}};f.ShellModule=function(){};f.ShellModule.prototype=new f.DfModule();f.ShellModule.prototype._ff_c="ShellModule";f.ShellModule.s_module=null;f.ShellModule.getInstance=function(){if(f.isNull(f.ShellModule.s_module)){f.DfModule.checkInitialized(f.KernelNativeModule.getInstance());f.ShellModule.s_module=f.DfModule.startExt(new f.ShellModule());f.ProgramRegistration.setProgramFactory("shell",new f.SerenityShell());f.ProgramRegistration.setProgramFactory("help",new f.ShellHelp());f.ProgramRegistration.setProgramFactory("grep",new f.ShellGrep());f.ProgramRegistration.setProgramFactory("set",new f.ShellSet());f.ProgramRegistration.setProgramFactory("wget",new f.ShellWget());f.ProgramRegistration.setProgramFactory("whoami",new f.ShellWhoami());f.ProgramRegistration.setProgramFactory("dir",new f.ShellDir());f.ProgramRegistration.setProgramFactory("ls",new f.ShellDir());f.ProgramRegistration.setProgramFactory("del",new f.ShellDel());f.ProgramRegistration.setProgramFactory("rm",new f.ShellDel());f.ProgramRegistration.setProgramFactory("rmdir",new f.ShellRmdir());f.ProgramRegistration.setProgramFactory("md",new f.ShellMkdir());f.ProgramRegistration.setProgramFactory("mkdir",new f.ShellMkdir());f.ProgramRegistration.setProgramFactory("cd",new f.ShellCd());f.ProgramRegistration.setProgramFactory("pwd",new f.ShellPwd());f.ProgramRegistration.setProgramFactory("listprgs",new f.ShellListPrgs());f.ProgramRegistration.setProgramFactory("proc",new f.ShellProcesses());f.ProgramRegistration.setProgramFactory("takeOver",new f.ShellTakeOver());f.DfModule.stopExt(f.ShellModule.s_module);}return f.ShellModule.s_module;};f.ShellModule.prototype.getName=function(){return"ff2040.shell";};f.ShellModule.getInstance();return sap.firefly;});
