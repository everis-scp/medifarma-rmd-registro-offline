/*!
 * SAPUI5
  (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/zen/dsh/firefly/ff3100.system.ui","sap/zen/dsh/firefly/ff8000.quasar","sap/zen/dsh/firefly/ff4200.olap.api","sap/zen/dsh/firefly/ff5500.story","sap/zen/dsh/firefly/ff8010.olap.ui"],function(f){"use strict";f.ShCell=function(){};f.ShCell.prototype=new f.XObject();f.ShCell.prototype._ff_c="ShCell";f.ShCell.create=function(d,x,y){var c=new f.ShCell();c.setPosition(x,y);c.m_document=d;return c;};f.ShCell.convertToAZ=function(c){var b=f.XStringBuffer.create();if(c<26){b.appendChar(65+c);}else{b.append("ZZ");}return b;};f.ShCell.prototype.m_x=0;f.ShCell.prototype.m_y=0;f.ShCell.prototype.m_name=null;f.ShCell.prototype.m_key=null;f.ShCell.prototype.m_value=null;f.ShCell.prototype.m_text=null;f.ShCell.prototype.m_expression=null;f.ShCell.prototype.m_int=0;f.ShCell.prototype.m_double=0.0;f.ShCell.prototype.m_type=null;f.ShCell.prototype.m_document=null;f.ShCell.prototype.setPosition=function(x,y){this.m_x=x;this.m_y=y;var b=f.ShCell.convertToAZ(this.m_x);b.appendInt(this.m_y);this.m_name=b.toString();var a=f.XStringBuffer.create();a.appendInt(this.m_x);a.append("_");a.appendInt(this.m_y);this.m_key=a.toString();};f.ShCell.prototype.setInteger=function(v){this.m_int=v;this.m_value=f.XInteger.convertToString(this.m_int);this.m_type=f.XValueType.INTEGER;return this;};f.ShCell.prototype.getInteger=function(){return this.m_int;};f.ShCell.prototype.setDouble=function(v){this.m_double=v;this.m_value=f.XDouble.convertToString(this.m_double);this.m_type=f.XValueType.DOUBLE;return this;};f.ShCell.prototype.getDouble=function(){return this.m_double;};f.ShCell.prototype.setText=function(t){this.m_text=t;this.m_value=this.m_text;this.m_type=f.XValueType.STRING;return this;};f.ShCell.prototype.setExpression=function(e){this.m_expression=e;this.m_value=this.m_expression;this.m_type=f.XComponentType._DATASOURCE;return this;};f.ShCell.prototype.getName=function(){return this.m_name;};f.ShCell.prototype.getKey=function(){return this.m_key;};f.ShCell.prototype.hasExpression=function(){return f.notNull(this.m_expression);};f.ShCell.prototype.hasNumber=function(){return this.m_type.isTypeOf(f.XValueType.NUMBER);};f.ShCell.prototype.getValueType=function(){return this.m_type;};f.ShCell.prototype.getExpression=function(){return this.m_expression;};f.ShCell.prototype.beforeScriptExecution=function(i){};f.ShCell.prototype.afterScriptExecution=function(i){};f.ShCell.prototype.nativeCall=function(a,n,r,s,p){var o=s.size()-p;var b=null;var c=s.get(o);var d;if(f.XString.isEqual("set",n)){if(f.notNull(c)){d=c.getComponentType();if(d===f.XValueType.STRING){this.setText(c.getString());}else if(d===f.XValueType.INTEGER){var e=c;this.setInteger(e.getInteger());}}}else if(f.XString.isEqual("sum",n)){if(f.notNull(c)){d=c.getComponentType();if(d===f.XValueType.STRING){var g=c.getString();var h=this.parseSelection(g);var j=this.m_document.select(h);var t=0.0;for(var i=0;i<j.size();i++){var k=j.get(i);var v=k.getValueType();if(v===f.XValueType.INTEGER){var l=k.getInteger();t=t+l;}else if(v===f.XValueType.DOUBLE){var m=k.getDouble();t=t+m;}}this.setDouble(t);}}}return b;};f.ShCell.prototype.parseSelection=function(q){var s=f.XString.indexOf(q,":");var a=null;var b=null;if(s!==-1){a=f.XString.substring(q,0,s);b=f.XString.substring(q,s+1,-1);}else{a=q;}var c=f.ShSelection.create();var d=this.parsePosition(a);c.setStart(d);if(f.notNull(b)){var e=this.parsePosition(b);c.setEnd(e);}return c;};f.ShCell.prototype.parsePosition=function(v){var l=f.XString.getCharAt(v,0);var n=f.XString.getCharAt(v,1);var x=l-65;var y=n-49;return f.ShPosition.create(x,y);};f.ShCell.prototype.toString=function(){return this.m_value;};f.ShDocument=function(){};f.ShDocument.prototype=new f.XObject();f.ShDocument.prototype._ff_c="ShDocument";f.ShDocument.create=function(){var n=new f.ShDocument();n.setup();return n;};f.ShDocument.prototype.m_rowCount=0;f.ShDocument.prototype.m_colCount=0;f.ShDocument.prototype.m_emptyCell=null;f.ShDocument.prototype.m_cells=null;f.ShDocument.prototype.setup=function(){f.XObject.prototype.setup.call(this);this.m_emptyCell=f.ShCell.create(this,0,0);this.m_cells=f.XHashMapByString.create();};f.ShDocument.prototype.newCell=function(x,y){var c=f.ShCell.create(this,x,y);var k=c.getKey();this.m_cells.put(k,c);if(x>=this.m_colCount){this.m_colCount=x+1;}if(y>=this.m_rowCount){this.m_rowCount=y+1;}return c;};f.ShDocument.prototype.getCell=function(x,y){var k=f.XStringBuffer.create().appendInt(x).append("_").appendInt(y).toString();var c=this.m_cells.getByKey(k);if(f.isNull(c)){c=this.m_emptyCell;}return c;};f.ShDocument.prototype.evaluate=function(){var c=this.m_cells.getIterator();var a=f.XList.create();while(c.hasNext()){var b=c.next();if(b.hasExpression()){a.add(b);}}for(var i=0;i<a.size();i++){var d=a.get(i);this.evaluateCell(d);}};f.ShDocument.prototype.evaluateCell=function(c){var s=c.getExpression();var i=f.ScriptEngine.create();i.setVmCallback(c);i.compile(s);if(i.isValid()){i.execute();}};f.ShDocument.prototype.select=function(s){var c=f.XList.create();var a=s.getStartX();var b=s.getStartX();var e=s.getEndX();var d=s.getEndY();if(a===-1){a=0;}if(b===-1){b=0;}if(e===-1){e=this.m_colCount-1;}if(d===-1){d=this.m_rowCount-1;}var g;for(var y=b;y<=d;y++){for(var x=a;x<=e;x++){g=this.getCell(x,y);c.add(g);}}return c;};f.ShDocument.prototype.toGridStructure=function(){var m=f.PrFactory.createStructure();m.putInteger("RowCount",this.m_rowCount+1);m.putInteger("ColCount",this.m_colCount+1);var c=m.putNewList("Cells");for(var y=0;y<this.m_rowCount+1;y++){for(var x=0;x<this.m_colCount+1;x++){var a=c.addNewStructure();a.putString("Type","Text");if(x>0&&y>0){var b=this.getCell(x-1,y-1);a.putString("Value",b.toString());a.putString("Color","#AABBCC");}else if(x===0&&y>0){a.putString("Value",f.XInteger.convertToString(y));a.putString("Color","#AABB00");}else if(y===0&&x>0){a.putString("Value",f.ShCell.convertToAZ(x-1).toString());a.putString("Color","#00BB00");}else{a.putString("Value","");a.putString("Color","#00BB00");}}}return m;};f.ShDocument.prototype.toString=function(){var c;var a;var s;var b=f.XArrayOfInt.create(this.m_colCount+1);for(var y=0;y<this.m_rowCount+1;y++){for(var x=0;x<this.m_colCount+1;x++){if(x>0&&y>0){c=this.getCell(x-1,y-1);a=c.toString();}else if(x===0&&y>0){a=f.XInteger.convertToString(y);}else if(y===0&&x>0){a=f.ShCell.convertToAZ(x-1).toString();}else{a="";}if(f.isNull(a)){s=0;}else{s=f.XString.size(a);}if(s>b.get(x)){b.set(x,s);}}}var d=f.XStringBuffer.create();for(var i=0;i<this.m_rowCount+1;i++){if(i>0){d.appendNewLine();}for(var j=0;j<this.m_colCount+1;j++){if(j>0){d.append(" | ");}if(j>0&&i>0){c=this.getCell(j-1,i-1);a=c.toString();}else if(j===0&&i>0){a=f.XInteger.convertToString(i);}else if(i===0&&j>0){a=f.ShCell.convertToAZ(j-1).toString();}else{a="";}if(f.isNull(a)){s=0;}else{s=f.XString.size(a);}var e=b.get(j)-s;for(var k=0;k<e;k++){d.append(" ");}d.append(a);}}return d.toString();};f.ShPosition=function(){};f.ShPosition.prototype=new f.XObject();f.ShPosition.prototype._ff_c="ShPosition";f.ShPosition.create=function(x,y){var n=new f.ShPosition();n.m_x=x;n.m_y=y;return n;};f.ShPosition.prototype.m_x=0;f.ShPosition.prototype.m_y=0;f.ShPosition.prototype.getX=function(){return this.m_x;};f.ShPosition.prototype.getY=function(){return this.m_y;};f.ShPosition.prototype.toString=function(){return f.XStringBuffer.create().append("X: ").appendInt(this.m_x).append(" Y: ").appendInt(this.m_y).toString();};f.ShSelection=function(){};f.ShSelection.prototype=new f.XObject();f.ShSelection.prototype._ff_c="ShSelection";f.ShSelection.create=function(){var n=new f.ShSelection();n.setup();return n;};f.ShSelection.prototype.m_startX=0;f.ShSelection.prototype.m_startY=0;f.ShSelection.prototype.m_endX=0;f.ShSelection.prototype.m_endY=0;f.ShSelection.prototype.setup=function(){this.m_startX=-1;this.m_startY=-1;this.m_endX=-1;this.m_endY=-1;};f.ShSelection.prototype.setStart=function(p){this.m_startX=p.getX();this.m_startY=p.getY();};f.ShSelection.prototype.setEnd=function(p){this.m_endX=p.getX();this.m_endY=p.getY();};f.ShSelection.prototype.getStartX=function(){return this.m_startX;};f.ShSelection.prototype.getStartY=function(){return this.m_startY;};f.ShSelection.prototype.getEndX=function(){return this.m_endX;};f.ShSelection.prototype.getEndY=function(){return this.m_endY;};f.GyrosNumberFormatter=function(){};f.GyrosNumberFormatter.prototype=new f.XObject();f.GyrosNumberFormatter.prototype._ff_c="GyrosNumberFormatter";f.GyrosNumberFormatter.create=function(){return new f.GyrosNumberFormatter();};f.GyrosNumberFormatter.prototype.format=function(v){try{return f.XNumberFormatter.formatDoubleToString(f.XDouble.convertFromString(v),"#,#.###");}catch(e){return v;}};f.GyrosNumberFormatter.prototype.parseFormattedNumber=function(v){if(f.XStringUtils.isNullOrEmpty(v)){return v;}var p=f.XString.replace(v,",","");try{var V=f.XDouble.convertFromString(p);return f.XDouble.convertToString(V);}catch(e){return null;}};f.GyrosNumberFormatter.prototype.formatTextForDateTimeKey=function(t,k,a){if(f.notNull(k)&&!f.XString.isEqual(t,"#")&&a===f.XValueType.TIME||a===f.XValueType.DATE){return f.XStringUtils.concatenate4(t," [GyrosFormatted:",k,"]");}return t;};f.UiFeatureToggleDialog=function(){};f.UiFeatureToggleDialog.prototype=new f.XObject();f.UiFeatureToggleDialog.prototype._ff_c="UiFeatureToggleDialog";f.UiFeatureToggleDialog.createFeatureDialog=function(s,u,l){var o=new f.UiFeatureToggleDialog();o.setupExt(s,u,l);return o;};f.UiFeatureToggleDialog.prototype.m_dialog=null;f.UiFeatureToggleDialog.prototype.m_okBtn=null;f.UiFeatureToggleDialog.prototype.m_cancelBtn=null;f.UiFeatureToggleDialog.prototype.m_featureList=null;f.UiFeatureToggleDialog.prototype.m_listener=null;f.UiFeatureToggleDialog.prototype.m_selectedToggles=null;f.UiFeatureToggleDialog.prototype.setupExt=function(s,u,l){this.m_listener=l;this.m_dialog=u.newControl(f.UiType.DIALOG);this.m_dialog.setTitle("FeatureToggles");this.m_dialog.registerOnAfterClose(this);this.m_okBtn=this.m_dialog.addNewDialogButton();this.m_okBtn.setName("featureToggleOk");this.m_okBtn.setText("Ok");this.m_okBtn.registerOnPress(this);this.m_cancelBtn=this.m_dialog.addNewDialogButton();this.m_cancelBtn.setName("featureToggleCancel");this.m_cancelBtn.setText("Cancel");this.m_cancelBtn.registerOnPress(this);var d=f.UiGenesis.create(this.m_dialog,f.UiPosition.CONTENT,f.UiOperation.SET,0,0);this.m_featureList=f.UiFeatureToggleList.createFeatureList(s);this.m_featureList.buildUi(d);this.m_dialog.setWidthCss("40%");};f.UiFeatureToggleDialog.prototype.open=function(){return this.m_dialog.open();};f.UiFeatureToggleDialog.prototype.onAfterClose=function(e){this.m_listener.onFeatureToggleDialogClose(this.m_selectedToggles);};f.UiFeatureToggleDialog.prototype.onPress=function(e){var c=e.getControl();if(c===this.m_okBtn){this.m_selectedToggles=this.m_featureList.getSelectedToggles();this.m_dialog.close();}else if(c===this.m_cancelBtn){this.m_selectedToggles=null;this.m_dialog.close();}};f.UiFeatureToggleDialog.prototype.releaseObject=function(){this.m_dialog=f.XObjectExt.release(this.m_dialog);this.m_okBtn=null;this.m_cancelBtn=null;this.m_featureList=f.XObjectExt.release(this.m_featureList);this.m_selectedToggles=f.XObjectExt.release(this.m_selectedToggles);this.m_listener=null;f.XObject.prototype.releaseObject.call(this);};f.UiFeatureToggleList=function(){};f.UiFeatureToggleList.prototype=new f.XObject();f.UiFeatureToggleList.prototype._ff_c="UiFeatureToggleList";f.UiFeatureToggleList.createFeatureList=function(s){var o=new f.UiFeatureToggleList();o.setupExt(s);return o;};f.UiFeatureToggleList.prototype.m_session=null;f.UiFeatureToggleList.prototype.m_layout=null;f.UiFeatureToggleList.prototype.m_searchField=null;f.UiFeatureToggleList.prototype.m_list=null;f.UiFeatureToggleList.prototype.m_allToggles=null;f.UiFeatureToggleList.prototype.m_selectedToggles=null;f.UiFeatureToggleList.prototype.setupExt=function(s){this.m_session=s;this.m_allToggles=f.FeatureToggleOlap.getAllFeatureToggles();this.m_selectedToggles=f.XSetOfNameObject.create();var i=this.m_allToggles.getIterator();while(i.hasNext()){var t=i.next();if(this.m_session.hasFeature(t)){this.m_selectedToggles.add(t);}}};f.UiFeatureToggleList.prototype.buildUi=function(g){this.m_layout=g.newRoot(f.UiType.FLEX_LAYOUT);this.m_layout.setDirection(f.UiFlexDirection.COLUMN);this.m_layout.setHeightCss("650px");this.m_layout.setMarginCss("4px");this.m_searchField=this.m_layout.addNewItemOfType(f.UiType.SEARCH_FIELD);this.m_searchField.registerOnSearch(this);var i=this.m_layout.addNewItemOfType(f.UiType.FLEX_LAYOUT);i.setMarginCss("6px");i.setFlex("0 0 auto");i.addNewItemOfType(f.UiType.ICON).setIcon("message-information");i.addNewItemOfType(f.UiType.SPACER).setWidthCss("12px");i.addNewItemOfType(f.UiType.LABEL).setText("Toggles past the current XVersion cannot be disabled anymore.");var s=this.m_layout.addNewItemOfType(f.UiType.SCROLL_CONTAINER);s.setFlex("1 1 auto");this.m_list=s.setNewContent(f.UiType.LIST);this.m_list.setName("featureToggleList");this.m_list.setSelectionMode(f.UiSelectionMode.MULTI_SELECT);this.m_list.setBorderSizeCss("0px");this.m_list.registerOnSelectionChange(this);this.update(this.m_allToggles);};f.UiFeatureToggleList.prototype.update=function(t){this.m_list.clearItems();var i=t.getKeysAsIteratorOfString();while(i.hasNext()){var a=t.getByKey(i.next());var l=this.m_list.addNewItem();l.setText(a.getName());l.setCustomObject(a);l.setEnabled(a.getMaxXVersion()>this.m_session.getXVersion());l.setSelected(this.m_selectedToggles.contains(a));}f.XObjectExt.release(i);};f.UiFeatureToggleList.prototype.getSelectedToggles=function(){return this.m_selectedToggles;};f.UiFeatureToggleList.prototype.onSearch=function(e){var c=e.getParameters().getBooleanByKeyExt(f.UiControlEvent.PARAM_CLEAR_BUTTON_PRESSED,false);if(c){this.update(this.m_allToggles);}else{var s=e.getParameters().getStringByKeyExt(f.UiControlEvent.PARAM_SEARCH_TEXT,"");var t=f.XSetOfNameObject.create();var i=this.m_allToggles.getIterator();while(i.hasNext()){var a=i.next();if(f.XString.containsString(f.XString.toLowerCase(a.getName()),f.XString.toLowerCase(s))){t.add(a);}}f.XObjectExt.release(i);this.update(t);}};f.UiFeatureToggleList.prototype.onSelectionChange=function(e){var d=this.m_list.getItems();var s=this.m_list.getSelectedItems();for(var i=0;i<d.size();i++){var a=d.get(i);var t=a.getCustomObject();if(s.contains(a)){this.m_selectedToggles.add(t);}else{this.m_selectedToggles.removeElement(t);}}};f.UiFeatureToggleList.prototype.releaseObject=function(){this.m_session=null;this.m_list=null;this.m_searchField=null;this.m_layout=f.XObjectExt.release(this.m_layout);this.m_selectedToggles=f.XObjectExt.release(this.m_selectedToggles);this.m_allToggles=null;f.XObject.prototype.releaseObject.call(this);};f.OqdController=function(){};f.OqdController.prototype=new f.XObject();f.OqdController.prototype._ff_c="OqdController";f.OqdController.create=function(a,u,l){var o=new f.OqdController();o.setupController(a,u,l);return o;};f.OqdController.prototype.m_application=null;f.OqdController.prototype.m_uiManager=null;f.OqdController.prototype.m_listener=null;f.OqdController.prototype.m_openQueryDialog=null;f.OqdController.prototype.m_cancelBtn=null;f.OqdController.prototype.m_systemsCombobox=null;f.OqdController.prototype.m_queryListTable=null;f.OqdController.prototype.m_searchInput=null;f.OqdController.prototype.m_fullQueryNames=null;f.OqdController.prototype.setupController=function(a,u,l){if(f.isNull(a)){throw f.XException.createRuntimeException("Cannot create a Open Query Dialog instance without an application. Please sepcify a application!");}if(f.isNull(u)){throw f.XException.createRuntimeException("Cannot create a Open Query Dialog instance without a uiManager. Please sepcify a uiManager!");}this.m_application=a;this.m_uiManager=u;this.m_listener=l;this.m_fullQueryNames=f.XHashMapOfStringByString.create();var i=this.m_uiManager.getLocalization();var b=this.m_uiManager.getFreeGenesis();this.m_openQueryDialog=b.newControl(f.UiType.DIALOG);this.m_openQueryDialog.setName("OpenQueryDialog");this.m_openQueryDialog.setTitle(i.getText(f.OpenQueryDialogI18n.I18N_OD_TITLE));this.m_openQueryDialog.setHeightExt(50,f.UiSizeUnit.PERCENT);this.m_openQueryDialog.setWidthExt(800,f.UiSizeUnit.PIXEL);this.m_openQueryDialog.setPaddingCss("20px");this.m_openQueryDialog.registerOnBeforeOpen(this);this.m_openQueryDialog.registerOnAfterOpen(this);this.m_cancelBtn=this.m_openQueryDialog.addNewDialogButton();this.m_cancelBtn.setText(i.getText(f.OlapUiI18n.I18N_CANCEL));this.m_cancelBtn.setName("OpenQueryDialogCancelBtn");this.m_cancelBtn.registerOnPress(this);this.createDialogContent(this.m_openQueryDialog,i);};f.OqdController.prototype.createDialogContent=function(d,i){var m=d.setNewContent(f.UiType.FLEX_LAYOUT);m.setHeightCss("100%");m.setDirection(f.UiFlexDirection.COLUMN);var h=m.addNewItemOfType(f.UiType.FLEX_LAYOUT);h.setHeightCss("40px");h.setAlignItems(f.UiFlexAlignItems.CENTER);h.setJustifyContent(f.UiFlexJustifyContent.SPACE_BETWEEN);var H=h.addNewItemOfType(f.UiType.LABEL);H.setText(i.getText(f.OpenQueryDialogI18n.I18N_OD_QUERIES));H.setFontSizeCss("20px");var s=h.addNewItemOfType(f.UiType.HORIZONTAL_LAYOUT);this.m_systemsCombobox=s.addNewItemOfType(f.UiType.COMBO_BOX);this.m_systemsCombobox.setWidthCss("230px");var S=this.m_application.getSystemLandscape().getSystemNames();var M=this.m_application.getSystemLandscape().getMasterSystemName();for(var I=0;I<S.size();++I){var a=S.get(I);var b=this.m_systemsCombobox.addNewItem();b.setName(f.XString.toLowerCase(a));b.setText(a);if(f.XString.isEqual(a,M)){this.m_systemsCombobox.setSelectedItem(b);}}var c=s.addNewItemOfType(f.UiType.SPACER);c.setWidthCss("10px");this.m_searchInput=s.addNewItemOfType(f.UiType.SEARCH_FIELD);this.m_searchInput.setWidthCss("230px");this.m_searchInput.setPlaceholder(i.getText(f.OpenQueryDialogI18n.I18N_OD_SEARCH_DESCR_PLACEHOLDER));this.m_searchInput.setTooltip(i.getText(f.OpenQueryDialogI18n.I18N_OD_SEARCH));this.m_searchInput.registerOnSearch(this);this.m_queryListTable=m.addNewItemOfType(f.UiType.TABLE);this.m_queryListTable.setWidthCss("100%");this.m_queryListTable.setHeightCss("100%");this.m_queryListTable.setFlex("auto");this.m_queryListTable.setVisibleRowCountMode(f.UiVisibleRowCountMode.AUTO);this.m_queryListTable.setMinRowCount(2);this.m_queryListTable.setSelectionBehavior(f.UiSelectionBehavior.ROW_ONLY);this.m_queryListTable.setSelectionMode(f.UiSelectionMode.SINGLE_SELECT);this.m_queryListTable.registerOnSelect(this);this.m_queryListTable.addNewColumn().setTitle(i.getText(f.OpenQueryDialogI18n.I18N_OD_KEY));this.m_queryListTable.addNewColumn().setTitle(i.getText(f.OpenQueryDialogI18n.I18N_OD_DESCRIPTION));};f.OqdController.prototype.releaseObject=function(){this.m_application=null;this.m_uiManager=null;this.m_listener=null;this.m_openQueryDialog=f.XObjectExt.release(this.m_openQueryDialog);this.m_fullQueryNames=f.XObjectExt.release(this.m_fullQueryNames);this.m_cancelBtn=f.XObjectExt.release(this.m_cancelBtn);this.m_systemsCombobox=f.XObjectExt.release(this.m_systemsCombobox);this.m_queryListTable=f.XObjectExt.release(this.m_queryListTable);this.m_searchInput=f.XObjectExt.release(this.m_searchInput);f.XObject.prototype.releaseObject.call(this);};f.OqdController.prototype.isOpen=function(){return this.m_openQueryDialog.isOpen();};f.OqdController.prototype.open=function(){this.m_openQueryDialog.open();};f.OqdController.prototype.close=function(){this.m_openQueryDialog.close();};f.OqdController.prototype.onBeforeOpen=function(e){this.search();};f.OqdController.prototype.onAfterOpen=function(e){};f.OqdController.prototype.onPress=function(e){this.m_openQueryDialog.close();if(f.notNull(this.m_listener)){this.m_listener.onQuerySelectCancel();}};f.OqdController.prototype.onSelect=function(e){this.m_openQueryDialog.close();if(f.notNull(this.m_listener)){var s=this.m_systemsCombobox.getSelectedItem().getText();var q=e.getSelectedItem().getCell(0).getText();var a=this.m_fullQueryNames.getByKey(q);this.m_listener.onQuerySelect(s,q,a);}};f.OqdController.prototype.onSearch=function(e){this.search();};f.OqdController.prototype.search=function(){var s=f.OlapCatalogApiModule.SERVICE_TYPE_OLAP_CATALOG.createServiceConfig(this.m_application);if(this.m_systemsCombobox.getSelectedItem()===null){return;}this.m_queryListTable.setBusy(true);s.setSystemName(this.m_systemsCombobox.getSelectedItem().getText());s.processOlapCatalogManagerCreation(f.SyncType.NON_BLOCKING,this,null);};f.OqdController.prototype.onOlapCatalogManagerCreated=function(e,o,c){if(e.hasErrors()){throw f.XException.createRuntimeException(e.getSummary());}var a=e.getData();a.setResultOffset(0);a.setResultMaxSize(10000);a.setSelectedType(f.MetaObjectType.QUERY);if(this.m_searchInput.getText()!==null&&f.XString.compare(this.m_searchInput.getText(),"")!==0){a.setSearchOnText(true);a.setSearchFilter(f.XStringUtils.concatenate2(this.m_searchInput.getText(),"*"));}a.processGetResult(f.SyncType.NON_BLOCKING,this,null);};f.OqdController.prototype.onOlapCatalogResult=function(e,r,c){if(e.hasErrors()){throw f.XException.createRuntimeException(e.getSummary());}this.m_queryListTable.clearRows();this.m_fullQueryNames.clear();var a=r.getObjectsList();for(var i=0;i<a.size();i++){var t=a.get(i);var R=this.m_queryListTable.addNewRow();R.addNewCell().setText(t.getName());R.addNewCell().setText(t.getText());this.m_fullQueryNames.put(t.getName(),t.getFullQualifiedName());}this.m_queryListTable.setBusy(false);};f.SuTextEntryDialog=function(){};f.SuTextEntryDialog.prototype=new f.XObject();f.SuTextEntryDialog.prototype._ff_c="SuTextEntryDialog";f.SuTextEntryDialog.createDialog=function(g,t,c,a,l){if(f.isNull(g)){throw f.XException.createRuntimeException("Cannot create a Chiron dialog instance without a genesis. Please sepcify a genesis!");}var n=new f.SuTextEntryDialog();n.setupDialog(g,t,c,a,l);return n;};f.SuTextEntryDialog.prototype.m_textEntryDialog=null;f.SuTextEntryDialog.prototype.m_codeEditor=null;f.SuTextEntryDialog.prototype.m_genesis=null;f.SuTextEntryDialog.prototype.m_title=null;f.SuTextEntryDialog.prototype.m_codeType=null;f.SuTextEntryDialog.prototype.m_text=null;f.SuTextEntryDialog.prototype.m_listener=null;f.SuTextEntryDialog.prototype.releaseObject=function(){this.m_codeEditor=f.XObjectExt.release(this.m_codeEditor);this.m_textEntryDialog=f.XObjectExt.release(this.m_textEntryDialog);this.m_listener=f.XObjectExt.release(this.m_listener);this.m_genesis=null;f.XObject.prototype.releaseObject.call(this);};f.SuTextEntryDialog.prototype.setupDialog=function(g,t,c,a,l){this.m_genesis=g;this.m_title=t;this.m_codeType=c;this.m_text=a;this.m_listener=l;if(f.XStringUtils.isNullOrEmpty(this.m_title)){this.m_title="Text entry";}if(f.XStringUtils.isNullOrEmpty(this.m_codeType)){this.m_codeType="text";}this.buildDialogUi(this.m_genesis);};f.SuTextEntryDialog.prototype.buildDialogUi=function(g){this.m_textEntryDialog=this.m_genesis.newControl(f.UiType.DIALOG);this.m_textEntryDialog.setName("chironTextEntryDialog");this.m_textEntryDialog.setTitle(this.m_title);this.m_textEntryDialog.setWidthCss("70vw");this.m_textEntryDialog.setHeightCss("60vh");this.m_textEntryDialog.setPaddingCss("20px");this.m_textEntryDialog.registerOnAfterOpen(this);var c=this.m_textEntryDialog.addNewDialogButton();c.setName("closeTextEntryDialogBtn");c.setText("Close");c.registerOnPress(this);var a=this.m_textEntryDialog.addNewDialogButton();a.setName("applyTextEntryDialogBtn");a.setText("Apply");a.setButtonType(f.UiButtonType.PRIMARY);a.registerOnPress(this);this.m_codeEditor=this.m_textEntryDialog.setNewContent(f.UiType.CODE_EDITOR);this.m_codeEditor.setName("textEntryDialogCodeEditor");this.m_codeEditor.setWidthCss("100%");this.m_codeEditor.setHeightCss("100%");this.m_codeEditor.setCodeType(this.m_codeType);this.m_codeEditor.setText(this.m_text);};f.SuTextEntryDialog.prototype.openDialog=function(){this.m_textEntryDialog.open();};f.SuTextEntryDialog.prototype.onPress=function(e){var n=e.getControl().getName();if(f.XString.isEqual("closeTextEntryDialogBtn",n)){this.m_textEntryDialog.close();if(f.notNull(this.m_listener)){this.m_listener.onTextEntryCancel();}}if(f.XString.isEqual("applyTextEntryDialogBtn",n)){this.m_textEntryDialog.close();if(f.notNull(this.m_listener)){this.m_listener.onTextEntryFinished(this.m_codeEditor.getText());}}};f.SuTextEntryDialog.prototype.onAfterOpen=function(e){this.m_codeEditor.focus();};f.FilterDialogProgramLayout=function(){};f.FilterDialogProgramLayout.prototype=new f.XObject();f.FilterDialogProgramLayout.prototype._ff_c="FilterDialogProgramLayout";f.FilterDialogProgramLayout.create=function(g,t,o,a){var l=new f.FilterDialogProgramLayout();l.m_genesis=g;l.m_toolbar=t;l.m_onPressListener=o;l.m_onSelectListener=a;return l;};f.FilterDialogProgramLayout.prototype.m_genesis=null;f.FilterDialogProgramLayout.prototype.m_toolbar=null;f.FilterDialogProgramLayout.prototype.m_onPressListener=null;f.FilterDialogProgramLayout.prototype.m_onSelectListener=null;f.FilterDialogProgramLayout.prototype.m_changeDataSourceBtn=null;f.FilterDialogProgramLayout.prototype.m_editToggleBtn=null;f.FilterDialogProgramLayout.prototype.m_setVariablesBtn=null;f.FilterDialogProgramLayout.prototype.m_openFilterDialogBtn=null;f.FilterDialogProgramLayout.prototype.m_dataObjectDimensionRadioBtn=null;f.FilterDialogProgramLayout.prototype.m_dataObjectVariableRadioBtn=null;f.FilterDialogProgramLayout.prototype.m_dimensionDropdown=null;f.FilterDialogProgramLayout.prototype.m_variableDropdown=null;f.FilterDialogProgramLayout.prototype.m_hierarchyInput=null;f.FilterDialogProgramLayout.prototype.m_entryPointDefaultRadioBtn=null;f.FilterDialogProgramLayout.prototype.m_entryPointSacRadioBtn=null;f.FilterDialogProgramLayout.prototype.m_useDynamicFilterCheckbox=null;f.FilterDialogProgramLayout.prototype.m_displayInfoDropdown=null;f.FilterDialogProgramLayout.prototype.m_pageSizeInput=null;f.FilterDialogProgramLayout.prototype.m_multiSelectionModeCheckbox=null;f.FilterDialogProgramLayout.prototype.m_nonBlockingCheckbox=null;f.FilterDialogProgramLayout.prototype.m_selectionTextArea=null;f.FilterDialogProgramLayout.prototype.m_outputTextArea=null;f.FilterDialogProgramLayout.prototype.m_featureToggleReadMode=null;f.FilterDialogProgramLayout.prototype.releaseObject=function(){f.XObject.prototype.releaseObject.call(this);this.m_genesis=null;this.m_toolbar=null;this.m_onPressListener=null;this.m_onSelectListener=null;this.m_changeDataSourceBtn=f.XObjectExt.release(this.m_changeDataSourceBtn);this.m_editToggleBtn=f.XObjectExt.release(this.m_editToggleBtn);this.m_setVariablesBtn=f.XObjectExt.release(this.m_setVariablesBtn);this.m_openFilterDialogBtn=f.XObjectExt.release(this.m_openFilterDialogBtn);this.m_dimensionDropdown=f.XObjectExt.release(this.m_dimensionDropdown);this.m_variableDropdown=f.XObjectExt.release(this.m_variableDropdown);this.m_dataObjectDimensionRadioBtn=f.XObjectExt.release(this.m_dataObjectDimensionRadioBtn);this.m_dataObjectVariableRadioBtn=f.XObjectExt.release(this.m_dataObjectVariableRadioBtn);this.m_hierarchyInput=f.XObjectExt.release(this.m_hierarchyInput);this.m_entryPointDefaultRadioBtn=f.XObjectExt.release(this.m_entryPointDefaultRadioBtn);this.m_entryPointSacRadioBtn=f.XObjectExt.release(this.m_entryPointSacRadioBtn);this.m_useDynamicFilterCheckbox=f.XObjectExt.release(this.m_useDynamicFilterCheckbox);this.m_displayInfoDropdown=f.XObjectExt.release(this.m_displayInfoDropdown);this.m_pageSizeInput=f.XObjectExt.release(this.m_pageSizeInput);this.m_multiSelectionModeCheckbox=f.XObjectExt.release(this.m_multiSelectionModeCheckbox);this.m_nonBlockingCheckbox=f.XObjectExt.release(this.m_nonBlockingCheckbox);this.m_selectionTextArea=f.XObjectExt.release(this.m_selectionTextArea);this.m_outputTextArea=f.XObjectExt.release(this.m_outputTextArea);this.m_featureToggleReadMode=f.XObjectExt.release(this.m_featureToggleReadMode);};f.FilterDialogProgramLayout.prototype.showActivityIndicator=function(){this.m_genesis.clearUi();this.m_genesis.newRoot(f.UiType.ACTIVITY_INDICATOR).useMaxSpace();};f.FilterDialogProgramLayout.prototype.showErrorToast=function(m){var t=this.m_genesis.newControl(f.UiType.TOAST);t.setText(m);t.setMessageType(f.UiMessageType.ERROR);t.open();};f.FilterDialogProgramLayout.prototype.showUi=function(q,a,d,h,v){this.m_genesis.clearUi();this.setupToolbar(q,a);var r=this.m_genesis.newControl(f.UiType.FLEX_LAYOUT);r.setDirection(f.UiFlexDirection.COLUMN);this.m_genesis.setRoot(r);r.addNewItemOfType(f.UiType.SPACER).setHeightCss("5px");this.m_openFilterDialogBtn=r.addNewItemOfType(f.UiType.BUTTON);this.m_openFilterDialogBtn.setName("openBtn").setText("Open Filter Dialog").setButtonType(f.UiButtonType.PRIMARY);this.m_openFilterDialogBtn.registerOnPress(this.m_onPressListener);r.addNewItemOfType(f.UiType.SPACER).setHeightCss("5px");var c=r.addNewItemOfType(f.UiType.FLEX_LAYOUT);c.setDirection(f.UiFlexDirection.ROW);c.setJustifyContent(f.UiFlexJustifyContent.SPACE_BETWEEN);c.setPaddingCss("5px");c.setFlex("1 0 auto");this.setupLeftLayout(c,q,d,h,v);c.addNewItemOfType(f.UiType.SPACER).setWidthCss("20px");this.setupRightLayout(c);};f.FilterDialogProgramLayout.prototype.setupToolbar=function(q,a){this.m_toolbar.clearItems();this.m_changeDataSourceBtn=this.m_toolbar.addNewItemOfType(f.UiType.BUTTON);this.m_changeDataSourceBtn.setName("changeDataSourceBtn").setText(a);this.m_changeDataSourceBtn.registerOnPress(this.m_onPressListener);this.m_editToggleBtn=this.m_toolbar.addNewItemOfType(f.UiType.BUTTON);this.m_editToggleBtn.setName("editTogglesBtn").setText("Edit Feature Toggles");this.m_editToggleBtn.registerOnPress(this.m_onPressListener);this.m_setVariablesBtn=this.m_toolbar.addNewItemOfType(f.UiType.BUTTON);this.m_setVariablesBtn.setName("setVariablesBtn").setText("Set variables");this.m_setVariablesBtn.registerOnPress(this.m_onPressListener);this.m_setVariablesBtn.setEnabled(q.hasVariables());};f.FilterDialogProgramLayout.prototype.setupLeftLayout=function(p,q,d,h,v){var l=p.addNewItemOfType(f.UiType.FLEX_LAYOUT);l.setDirection(f.UiFlexDirection.COLUMN);l.setWidthCss("35%");this.addSectionLabel(l,"Data Object",false);var a=f.notNull(q)&&q.hasVariables();var b=l.addNewItemOfType(f.UiType.RADIO_BUTTON_GROUP);b.setColumnCount(2);this.m_dataObjectDimensionRadioBtn=b.addNewRadioButton();this.m_dataObjectDimensionRadioBtn.setName("dataObjectDimension").setText("Dimension");this.m_dataObjectDimensionRadioBtn.registerOnChange(this);this.m_dataObjectDimensionRadioBtn.setSelected(f.XStringUtils.isNotNullAndNotEmpty(d)||!a||f.XStringUtils.isNullOrEmpty(v));this.m_dimensionDropdown=this.createItem(l,"Dimension",f.UiType.DROPDOWN);this.m_dimensionDropdown.registerOnSelect(this.m_onSelectListener);this.m_dimensionDropdown.getParent().setVisible(this.m_dataObjectDimensionRadioBtn.isSelected());this.fillDimensionDropdown(q,d);this.m_hierarchyInput=this.createItem(l,"Hierarchy",f.UiType.INPUT);this.m_hierarchyInput.setText(h);this.m_hierarchyInput.getParent().setVisible(this.m_dataObjectDimensionRadioBtn.isSelected());this.m_dataObjectVariableRadioBtn=b.addNewRadioButton();this.m_dataObjectVariableRadioBtn.setName("dataObjectVariable").setText("Variable");this.m_dataObjectVariableRadioBtn.registerOnChange(this);this.m_dataObjectVariableRadioBtn.setEnabled(a);if(!this.m_dataObjectDimensionRadioBtn.isSelected()){this.m_dataObjectVariableRadioBtn.setSelected(true);}this.m_variableDropdown=this.createItem(l,"Variable",f.UiType.DROPDOWN);this.m_variableDropdown.registerOnSelect(this.m_onSelectListener);this.m_variableDropdown.getParent().setVisible(this.m_dataObjectVariableRadioBtn.isSelected());this.fillVariableDropdown(q,v);this.addSectionLabel(l,"Entry Point",true);var e=l.addNewItemOfType(f.UiType.RADIO_BUTTON_GROUP);e.setColumnCount(2);this.m_entryPointDefaultRadioBtn=e.addNewRadioButton();this.m_entryPointDefaultRadioBtn.setName("entryPointDefault").setText("Default");this.m_entryPointDefaultRadioBtn.registerOnChange(this);this.m_entryPointDefaultRadioBtn.setSelected(true);this.m_useDynamicFilterCheckbox=this.createItem(l,"Use Dynamic Filter",f.UiType.CHECKBOX);this.m_entryPointSacRadioBtn=e.addNewRadioButton();this.m_entryPointSacRadioBtn.setName("entryPointSac").setText("SAC");this.m_entryPointSacRadioBtn.registerOnChange(this);this.addSectionLabel(l,"Filter Dialog Configuration",true);this.m_displayInfoDropdown=this.createItem(l,"Display Info",f.UiType.DROPDOWN);this.m_displayInfoDropdown.addNewItem().setText("Dimension default");this.m_displayInfoDropdown.addNewItem().setText("Description").setCustomObject(f.FdDimensionDisplayInfo.DESCRIPTION);this.m_displayInfoDropdown.addNewItem().setText("ID").setCustomObject(f.FdDimensionDisplayInfo.ID);this.m_displayInfoDropdown.addNewItem().setText("ID and Description").setCustomObject(f.FdDimensionDisplayInfo.ID_AND_DESCRIPTION);this.m_pageSizeInput=this.createItem(l,"Page Size",f.UiType.INPUT);this.m_pageSizeInput.setText(f.XInteger.convertToString(f.FdConfiguration.DEFAULT_PAGE_SIZE));this.m_multiSelectionModeCheckbox=this.createItem(l,"MultiSelect",f.UiType.CHECKBOX).setChecked(true);this.m_nonBlockingCheckbox=this.createItem(l,"NonBlocking",f.UiType.CHECKBOX);this.m_featureToggleReadMode=this.createItem(l,"ReadModeSwitch",f.UiType.CHECKBOX).setChecked(true);};f.FilterDialogProgramLayout.prototype.addSectionLabel=function(l,a,s){if(s){l.addNewItemOfType(f.UiType.SPACER);}l.addNewItemOfType(f.UiType.LABEL).setText(a).setFontWeight(f.UiFontWeight.BOLD).setHeightCss("20px");};f.FilterDialogProgramLayout.prototype.createItem=function(p,n,t){var c=p.addNewItemOfType(f.UiType.FLEX_LAYOUT);c.setDirection(f.UiFlexDirection.ROW);c.setAlignItems(f.UiFlexAlignItems.CENTER);c.addNewItemOfType(f.UiType.LABEL).setText(n).setWidthCss("180px");return c.addNewItemOfType(t).useMaxWidth().setName(f.XString.replace(n," ",""));};f.FilterDialogProgramLayout.prototype.fillDimensionDropdown=function(q,d){this.m_dimensionDropdown.clearItems();if(f.notNull(q)){var a=q.getDimensionAccessor().getDimensions();for(var i=0;i<a.size();i++){var b=a.get(i);if(!b.isUniversalDisplayHierarchyDimension()){this.m_dimensionDropdown.addNewItem().setName(b.getName()).setText(b.getName());}}var c=d;if(f.XStringUtils.isNullOrEmpty(c)||q.getDimensionAccessor().getDimensionByName(c)===null){c=a.get(0).getName();}this.m_dimensionDropdown.setSelectedName(c);}};f.FilterDialogProgramLayout.prototype.fillVariableDropdown=function(q,v){this.m_variableDropdown.clearItems();if(f.notNull(q)&&q.hasVariables()){var a=q.getInputEnabledAndNonTechnicalVariables();for(var i=0;i<a.size();i++){var b=a.get(i);this.m_variableDropdown.addNewItem().setName(b.getName()).setText(b.getName());}var _=v;if(f.XStringUtils.isNullOrEmpty(_)||q.getVariable(_)===null){_=a.get(0).getName();}this.m_variableDropdown.setSelectedName(_);}};f.FilterDialogProgramLayout.prototype.onChange=function(e){this.m_useDynamicFilterCheckbox.getParent().setVisible(this.m_entryPointDefaultRadioBtn.isSelected());this.m_dimensionDropdown.getParent().setVisible(this.m_dataObjectDimensionRadioBtn.isSelected());this.m_hierarchyInput.getParent().setVisible(this.m_dataObjectDimensionRadioBtn.isSelected());this.m_variableDropdown.getParent().setVisible(this.m_dataObjectVariableRadioBtn.isSelected());this.m_displayInfoDropdown.getParent().setVisible(!this.m_entryPointSacRadioBtn.isSelected());this.m_pageSizeInput.getParent().setVisible(!this.m_entryPointSacRadioBtn.isSelected());this.m_multiSelectionModeCheckbox.getParent().setVisible(!this.m_entryPointSacRadioBtn.isSelected());};f.FilterDialogProgramLayout.prototype.setupRightLayout=function(p){var r=p.addNewItemOfType(f.UiType.FLEX_LAYOUT);r.setDirection(f.UiFlexDirection.COLUMN);r.setWidthCss("65%");var t=r.addNewItemOfType(f.UiType.FLEX_LAYOUT);t.setDirection(f.UiFlexDirection.COLUMN);t.setFlex("1 1 auto");t.addNewItemOfType(f.UiType.LABEL).setText("Selection:").setHeightCss("20px");this.m_selectionTextArea=t.addNewItemOfType(f.UiType.TEXT_AREA);this.m_selectionTextArea.setName("SelectionData");this.m_selectionTextArea.setBackgroundColor(f.UiColor.WHITE);this.m_selectionTextArea.setSizeCss("100%","100%");r.addNewItemOfType(f.UiType.SPACER);var a=r.addNewItemOfType(f.UiType.FLEX_LAYOUT);a.setDirection(f.UiFlexDirection.COLUMN);a.setFlex("4 1 auto");a.addNewItemOfType(f.UiType.LABEL).setText("Output:").setHeightCss("20px");this.m_outputTextArea=a.addNewItemOfType(f.UiType.TEXT_AREA);this.m_outputTextArea.setName("OutputData");this.m_outputTextArea.setBackgroundColor(f.UiColor.WHITE);this.m_outputTextArea.setSizeCss("100%","100%");};f.FilterDialogProgramLayout.prototype.showChangeDataSourceButton=function(){this.m_genesis.clearUi();this.m_changeDataSourceBtn=this.m_genesis.newControl(f.UiType.BUTTON);this.m_changeDataSourceBtn.setName("changeDataSourceBtn").setText("Change data source").useMaxSpace();this.m_changeDataSourceBtn.registerOnPress(this.m_onPressListener);this.m_genesis.setRoot(this.m_changeDataSourceBtn);};f.FilterDialogProgramLayout.prototype.getOpenFilterDialogBtn=function(){return this.m_openFilterDialogBtn;};f.FilterDialogProgramLayout.prototype.getChangeDataSourceBtn=function(){return this.m_changeDataSourceBtn;};f.FilterDialogProgramLayout.prototype.getFeatureTogglesBtn=function(){return this.m_editToggleBtn;};f.FilterDialogProgramLayout.prototype.getSetVariablesBtn=function(){return this.m_setVariablesBtn;};f.FilterDialogProgramLayout.prototype.getDataObjectDimensionRadioBtn=function(){return this.m_dataObjectDimensionRadioBtn;};f.FilterDialogProgramLayout.prototype.getDataObjectVariableRadioBtn=function(){return this.m_dataObjectVariableRadioBtn;};f.FilterDialogProgramLayout.prototype.getDimensionDropdown=function(){return this.m_dimensionDropdown;};f.FilterDialogProgramLayout.prototype.getVariableDropdown=function(){return this.m_variableDropdown;};f.FilterDialogProgramLayout.prototype.getHierarchyInput=function(){return this.m_hierarchyInput;};f.FilterDialogProgramLayout.prototype.getDisplayInfoDropdown=function(){return this.m_displayInfoDropdown;};f.FilterDialogProgramLayout.prototype.getPageSizeInput=function(){return this.m_pageSizeInput;};f.FilterDialogProgramLayout.prototype.getMultiSelectionModeCheckbox=function(){return this.m_multiSelectionModeCheckbox;};f.FilterDialogProgramLayout.prototype.getNonBlockingCheckbox=function(){return this.m_nonBlockingCheckbox;};f.FilterDialogProgramLayout.prototype.getUseDynamicFilterCheckbox=function(){return this.m_useDynamicFilterCheckbox;};f.FilterDialogProgramLayout.prototype.getEntryPointDefaultRadioBtn=function(){return this.m_entryPointDefaultRadioBtn;};f.FilterDialogProgramLayout.prototype.getEntryPointSacRadioBtn=function(){return this.m_entryPointSacRadioBtn;};f.FilterDialogProgramLayout.prototype.getSelectionTextArea=function(){return this.m_selectionTextArea;};f.FilterDialogProgramLayout.prototype.getOutputTextArea=function(){return this.m_outputTextArea;};f.FilterDialogProgramLayout.prototype.getFeatureToggleReadMode=function(){return this.m_featureToggleReadMode;};f.PressListenerLambda=function(){};f.PressListenerLambda.prototype=new f.XObject();f.PressListenerLambda.prototype._ff_c="PressListenerLambda";f.PressListenerLambda.create=function(p){var o=new f.PressListenerLambda();o.m_onPress=p;return o;};f.PressListenerLambda.prototype.m_onPress=null;f.PressListenerLambda.prototype.onPress=function(e){this.m_onPress();};f.ScAtlasDashboardView=function(){};f.ScAtlasDashboardView.prototype=new f.XObject();f.ScAtlasDashboardView.prototype._ff_c="ScAtlasDashboardView";f.ScAtlasDashboardView.createDashboardView=function(g,a,s,w,n){if(f.isNull(g)){throw f.XException.createRuntimeException("You need to specify a genesis instance in order to create a Atlas Dashboard View!");}if(f.isNull(a)){throw f.XException.createRuntimeException("You need to specify a application instance in order to create a Atlas Dashboard View!");}if(f.isNull(s)){var e="Missing story. Cannot create Atlas Dashboard View!";g.showErrorToast(e);throw f.XException.createRuntimeException(e);}var b=new f.ScAtlasDashboardView();b.setupInternal(g,a,s,w,n);return b;};f.ScAtlasDashboardView.prototype.m_genesis=null;f.ScAtlasDashboardView.prototype.m_story=null;f.ScAtlasDashboardView.prototype.m_application=null;f.ScAtlasDashboardView.prototype.m_widgetIdsList=null;f.ScAtlasDashboardView.prototype.m_dashboardName=null;f.ScAtlasDashboardView.prototype.m_viewPage=null;f.ScAtlasDashboardView.prototype.m_flexLayout=null;f.ScAtlasDashboardView.prototype.releaseObject=function(){f.XObject.prototype.releaseObject.call(this);this.m_genesis=null;this.m_application=null;this.m_story=null;this.m_widgetIdsList=null;this.m_viewPage=f.XObjectExt.release(this.m_viewPage);};f.ScAtlasDashboardView.prototype.setupInternal=function(g,a,s,w,n){this.m_genesis=g;this.m_application=a;this.m_story=s;this.m_widgetIdsList=w;this.m_dashboardName=n;this.createView(g);};f.ScAtlasDashboardView.prototype.getPage=function(){return this.m_viewPage;};f.ScAtlasDashboardView.prototype.createView=function(g){this.m_viewPage=g.newControl(f.UiType.PAGE);this.m_viewPage.setName("scAtlasDashboardViewPage");this.m_viewPage.setShowHeader(true);this.m_viewPage.setText(f.XStringUtils.isNotNullAndNotEmpty(this.m_dashboardName)?this.m_dashboardName:this.m_story.getName());this.m_viewPage.useMaxSpace();this.m_flexLayout=this.m_viewPage.setNewContent(f.UiType.FLEX_LAYOUT);this.m_viewPage.setName("scAtlasDashboardViewTileContainer");this.m_flexLayout.setPadding(f.UiUnitValue.createByCss("10px"));this.m_flexLayout.useMaxSpace();this.renderDashboard();};f.ScAtlasDashboardView.prototype.renderDashboard=function(){var q=f.OcQuasarStory.create(this.m_story);q.setQuasarChartType(f.OcChartType.MICRO_CHART);var m=q.getMessages();if(m.hasErrors()){var e=m.getFirstError();this.m_genesis.showErrorToast(e.getText());}else if(m.getMessages().hasElements()){var a=m.getFirstWithSeverity(f.Severity.WARNING);if(f.notNull(a)){this.m_genesis.showWarningToast(a.getText());}}if(f.notNull(this.m_widgetIdsList)&&this.m_widgetIdsList.size()>0){var w=this.m_widgetIdsList.getIterator();while(w.hasNext()){var b=w.next();var c=q.getQuasarWidgetDocument(b);if(f.notNull(c)){var t=this.m_flexLayout.addNewItemOfType(f.UiType.TILE);t.setTitle(this.m_story.getName());t.setSubtitle(b);t.setMargin(f.UiUnitValue.createByCss("10px"));var d=f.QuasarEngine.create(this.m_application);var g=f.UiGenesis.create(t,f.UiPosition.CONTENT,f.UiOperation.SET,0,0);d.setDocument(c);d.renderUi(g);}}}else{var h=this.m_viewPage.setNewContent(f.UiType.TEXT);h.setText("No widgets found!");h.useMaxSpace();h.setBackgroundColor(f.UiColor.createByString("#cc0033"));h.setFontColor(f.UiColor.createByString("#ffffff"));h.setFontSizeValue(15);}};f.ScAtlasDashboardView.prototype.onSelect=function(e){};f.ScAtlasDashboardView.prototype.onLiveChange=function(e){};f.ScAtlasDashboardView.prototype.onSearch=function(e){};f.ScAtlasDashboardView.prototype.onPress=function(e){this.m_genesis.showInfoToast("Works!");};f.ScAtlasStoryListView=function(){};f.ScAtlasStoryListView.prototype=new f.XObject();f.ScAtlasStoryListView.prototype._ff_c="ScAtlasStoryListView";f.ScAtlasStoryListView.createStoryListView=function(g,s,l){if(f.isNull(g)){throw f.XException.createRuntimeException("You need to specify a genesis instance in order to create a Atlas Story List View!");}if(f.isNull(s)){var e="Missing story catalog. Cannot create Atlas Story List View!";g.showErrorToast(e);throw f.XException.createRuntimeException(e);}var n=new f.ScAtlasStoryListView();n.setupInternal(g,s,l);return n;};f.ScAtlasStoryListView.prototype.m_genesis=null;f.ScAtlasStoryListView.prototype.m_storyCatalog=null;f.ScAtlasStoryListView.prototype.m_viewPage=null;f.ScAtlasStoryListView.prototype.m_storyList=null;f.ScAtlasStoryListView.prototype.m_storySearchField=null;f.ScAtlasStoryListView.prototype.m_allStoryListItems=null;f.ScAtlasStoryListView.prototype.m_storyCatalogItemSelectListener=null;f.ScAtlasStoryListView.prototype.releaseObject=function(){f.XObject.prototype.releaseObject.call(this);this.m_genesis=null;this.m_storyCatalog=null;this.m_storyCatalogItemSelectListener=null;this.m_storySearchField=f.XObjectExt.release(this.m_storySearchField);if(f.notNull(this.m_allStoryListItems)){this.m_allStoryListItems.clear();this.m_allStoryListItems=f.XObjectExt.release(this.m_allStoryListItems);}this.m_storyList=f.XObjectExt.release(this.m_storyList);this.m_viewPage=f.XObjectExt.release(this.m_viewPage);};f.ScAtlasStoryListView.prototype.setupInternal=function(g,s,l){this.m_genesis=g;this.m_storyCatalog=s;this.m_storyCatalogItemSelectListener=l;this.m_allStoryListItems=f.XList.create();this.createView(g);};f.ScAtlasStoryListView.prototype.createView=function(g){this.m_viewPage=g.newControl(f.UiType.PAGE);this.m_viewPage.setName("scAtlasStoryListViewPage");this.m_viewPage.setShowHeader(true);this.m_viewPage.setText("All stories");this.m_viewPage.useMaxSpace();this.m_storySearchField=this.m_viewPage.setNewSubHeader(f.UiType.SEARCH_FIELD);this.m_storySearchField.setName("scAtlasStoryListViewSearchField");this.m_storySearchField.setPlaceholder("Search story...");this.m_storySearchField.registerOnSearch(this);this.m_storySearchField.registerOnLiveChange(this);this.m_storySearchField.setDebounceTime(1000);var r=this.m_viewPage.addNewPageButton();r.setName("scAtlasStoryListViewPageRefreshList");r.setText("Refresh");r.setIcon("refresh");r.registerOnPress(this);var a=this.m_viewPage.addNewPageButton();a.setName("scAtlasStoryListViewPageGetFavorites");a.setText("Favorites");a.setIcon("favorite");a.registerOnPress(this);this.m_storyList=this.m_viewPage.setNewContent(f.UiType.LIST);this.m_storyList.setName("scAtlasStoryListViewStoryList");this.m_storyList.setSelectionMode(f.UiSelectionMode.NONE);this.m_storyList.useMaxSpace();this.fillStoryList();this.m_genesis.showInfoToast("Story catalog loaded!");};f.ScAtlasStoryListView.prototype.getPage=function(){return this.m_viewPage;};f.ScAtlasStoryListView.prototype.fillStoryList=function(){if(f.notNull(this.m_storyList)){this.m_storyList.clearItems();this.m_allStoryListItems.clear();var i=this.m_storyCatalog.getCatalogItems().getIterator();while(i.hasNext()){var t=i.next();var d=t.getDescription();var m=t.getModifiedByDisplayName();if(f.XStringUtils.isNullOrEmpty(m)){m=t.getModifiedBy();}var a=f.XStringUtils.concatenate2(f.XStringUtils.concatenate2("Modified: ",t.getModifiedTime()),f.XStringUtils.concatenate2(" by ",m));var b=f.XStringUtils.concatenate3(a,"\n",d);var l=this.m_storyList.addNewItem();l.setText(t.getName());l.setListItemType(f.UiListType.NAVIGATION);l.registerOnPress(this);l.setDescription(b);l.setCustomObject(t);l.setIcon("business-objects-experience");this.m_allStoryListItems.add(l);}}};f.ScAtlasStoryListView.prototype.filterStoryList=function(s,c){if(f.notNull(this.m_storyList)){this.m_storyList.clearItems();if(c===false){for(var a=0;a<this.m_allStoryListItems.size();a++){var t=this.m_allStoryListItems.get(a);if(f.XString.containsString(f.XString.toLowerCase(t.getText()),f.XString.toLowerCase(s))){this.m_storyList.addItem(t);}}}else{this.m_storyList.addAllItems(this.m_allStoryListItems);}}};f.ScAtlasStoryListView.prototype.onSelect=function(e){};f.ScAtlasStoryListView.prototype.onLiveChange=function(e){if(e.getControl()===this.m_storySearchField){this.filterStoryList(e.getControl().getText(),false);}};f.ScAtlasStoryListView.prototype.onSearch=function(e){var d=e.getParameters().getBooleanByKeyExt(f.UiControlEvent.PARAM_CLEAR_BUTTON_PRESSED,false);var s=e.getParameters().getStringByKeyExt(f.UiControlEvent.PARAM_SEARCH_TEXT,"");this.filterStoryList(s,d);};f.ScAtlasStoryListView.prototype.onPress=function(e){var s=e.getControl().getCustomObject();if(f.notNull(this.m_storyCatalogItemSelectListener)&&f.notNull(s)){this.m_storyCatalogItemSelectListener.onStoryCatalogItemSelected(s);}};f.ScAtlasStoryView=function(){};f.ScAtlasStoryView.prototype=new f.XObject();f.ScAtlasStoryView.prototype._ff_c="ScAtlasStoryView";f.ScAtlasStoryView.createStoryView=function(g,a,s,l,c){if(f.isNull(g)){throw f.XException.createRuntimeException("You need to specify a genesis instance in order to create a Atlas Story View!");}if(f.isNull(a)){throw f.XException.createRuntimeException("You need to specify a application instance in order to create a Atlas Story View!");}if(f.isNull(s)){var e="Missing story. Cannot create Atlas Story View!";g.showErrorToast(e);throw f.XException.createRuntimeException(e);}var n=new f.ScAtlasStoryView();n.setupInternal(g,a,s,l,c);return n;};f.ScAtlasStoryView.prototype.m_genesis=null;f.ScAtlasStoryView.prototype.m_story=null;f.ScAtlasStoryView.prototype.m_layoutType=null;f.ScAtlasStoryView.prototype.m_chartType=null;f.ScAtlasStoryView.prototype.m_application=null;f.ScAtlasStoryView.prototype.m_viewPage=null;f.ScAtlasStoryView.prototype.releaseObject=function(){f.XObject.prototype.releaseObject.call(this);this.m_genesis=null;this.m_application=null;this.m_story=null;this.m_layoutType=null;this.m_chartType=null;this.m_viewPage=f.XObjectExt.release(this.m_viewPage);};f.ScAtlasStoryView.prototype.setupInternal=function(g,a,s,l,c){this.m_genesis=g;this.m_application=a;this.m_story=s;this.m_layoutType=f.notNull(l)?l:f.OcLayoutType.CANVAS;this.m_chartType=f.notNull(c)?c:f.OcChartType.HIGHCHARTS;this.createView(g);};f.ScAtlasStoryView.prototype.getPage=function(){return this.m_viewPage;};f.ScAtlasStoryView.prototype.createView=function(g){this.m_viewPage=g.newControl(f.UiType.PAGE);this.m_viewPage.setName("scAtlasStoryViewPage");this.m_viewPage.setShowHeader(true);this.m_viewPage.setText(this.m_story.getName());this.m_viewPage.useMaxSpace();this.renderStory();};f.ScAtlasStoryView.prototype.renderStory=function(){var q=f.OcQuasarStory.create(this.m_story);q.setQuasarMainLayoutType(this.m_layoutType);q.setQuasarChartType(this.m_chartType);var p=q.getQuasarPages();var m=q.getMessages();if(m.hasErrors()){var e=m.getFirstError();this.m_genesis.showErrorToast(e.getText());}else if(m.getMessages().hasElements()){var a=m.getFirstWithSeverity(f.Severity.WARNING);if(f.notNull(a)){this.m_genesis.showWarningToast(a.getText());}}var b=p.size();if(b>0){var t=this.m_viewPage.setNewContent(f.UiType.TAB_STRIP);t.useMaxSpace();t.setName(q.getName());t.setCustomObject(q);t.registerOnSelect(this);for(var c=0;c<b;c++){var n=p.get(c);var d=t.addNew(f.UiType.TAB_STRIP_ITEM);d.setName(n.getId());d.setText(n.getName());d.setIcon("document");d.setNewContent(f.UiType.ACTIVITY_INDICATOR).setText("Loading page...").useMaxSpace();var s=n.getPageContent();if(f.isNull(s)){var g=this.m_viewPage.setNewContent(f.UiType.TEXT).setText("This page has no widgets!");g.setBackgroundColor(f.UiColor.createByString("#cc0033"));g.setFontColor(f.UiColor.createByString("#ffffff"));g.setFontSizeValue(15);}else{var h=f.QuasarEngine.create(this.m_application);var i=f.UiGenesis.create(d,f.UiPosition.CONTENT,f.UiOperation.SET,0,0);h.setDocument(s);h.renderUi(i);}}}else{var j=this.m_viewPage.setNewContent(f.UiType.TEXT).setText("This story has no content!");j.setBackgroundColor(f.UiColor.createByString("#cc0033"));j.setFontColor(f.UiColor.createByString("#ffffff"));j.setFontSizeValue(15);}};f.ScAtlasStoryView.prototype.onSelect=function(e){};f.ScAtlasStoryView.prototype.onLiveChange=function(e){};f.ScAtlasStoryView.prototype.onSearch=function(e){};f.ScAtlasStoryView.prototype.onPress=function(e){this.m_genesis.showInfoToast("Works!");};f.OpenQueryDialogI18n=function(){};f.OpenQueryDialogI18n.prototype=new f.OlapUiI18n();f.OpenQueryDialogI18n.prototype._ff_c="OpenQueryDialogI18n";f.OpenQueryDialogI18n.I18N_OD_TITLE="I18N_OD_TITLE";f.OpenQueryDialogI18n.I18N_OD_KEY="I18N_OD_KEY";f.OpenQueryDialogI18n.I18N_OD_DESCRIPTION="I18N_OD_DESCRIPTION";f.OpenQueryDialogI18n.I18N_OD_SEARCH_KEY_PLACEHOLDER="I18N_OD_SEARCH_KEY_PLACEHOLDER";f.OpenQueryDialogI18n.I18N_OD_SEARCH_DESCR_PLACEHOLDER="I18N_OD_SEARCH_DESCR_PLACEHOLDER";f.OpenQueryDialogI18n.I18N_OD_SEARCH="I18N_OD_SEARCH";f.OpenQueryDialogI18n.I18N_OD_SYSTEM="I18N_OD_SYSTEM";f.OpenQueryDialogI18n.I18N_OD_QUERIES="I18N_OD_QUERIES";f.OpenQueryDialogI18n.createOpenQueryDialogI18n=function(){return new f.OpenQueryDialogI18n();};f.OpenQueryDialogI18n.staticSetupOqd=function(){f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_TITLE,"Open Query");f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_DESCRIPTION,"Description");f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_KEY,"Technical Name");f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_SEARCH_KEY_PLACEHOLDER,"Search by Technical Name");f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_SEARCH_DESCR_PLACEHOLDER,"Search by Description");f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_SEARCH,"Search");f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_SYSTEM,"System");f.OlapUiI18n.addDefaultValue(f.OpenQueryDialogI18n.I18N_OD_QUERIES,"Queries");};f.AuGdsFilterPanel=function(){};f.AuGdsFilterPanel.prototype=new f.XObjectExt();f.AuGdsFilterPanel.prototype._ff_c="AuGdsFilterPanel";f.AuGdsFilterPanel.createFilterPanel=function(g){var o=new f.AuGdsFilterPanel();o.setupExt(g);return o;};f.AuGdsFilterPanel.prototype.m_genesis=null;f.AuGdsFilterPanel.prototype.m_filterList=null;f.AuGdsFilterPanel.prototype.m_queryManager=null;f.AuGdsFilterPanel.prototype.m_editActionListeners=null;f.AuGdsFilterPanel.prototype.setupExt=function(g){this.m_genesis=g;this.m_editActionListeners=f.XList.create();this.m_filterList=this.m_genesis.newControl(f.UiType.LIST);this.m_filterList.useMaxSpace();this.m_filterList.setSelectionMode(f.UiSelectionMode.NONE);this.m_filterList.setNewHeader(f.UiType.LABEL).setText("Filter Panel").setFontWeight(f.UiFontWeight.BOLD);};f.AuGdsFilterPanel.prototype.releaseObject=function(){this.m_editActionListeners.clear();this.m_editActionListeners=f.XObjectExt.release(this.m_editActionListeners);this.m_queryManager=null;this.m_genesis=null;f.XObjectExt.release(this.m_filterList);f.XObjectExt.prototype.releaseObject.call(this);};f.AuGdsFilterPanel.prototype.addEditActionListener=function(e){this.m_editActionListeners.add(e);};f.AuGdsFilterPanel.prototype.removeEditActionListener=function(e){this.m_editActionListeners.removeElement(e);};f.AuGdsFilterPanel.prototype.getQueryManager=function(){return this.m_queryManager;};f.AuGdsFilterPanel.prototype.getView=function(){return this.m_filterList;};f.AuGdsFilterPanel.prototype.getGenesis=function(){return this.m_genesis;};f.AuGdsFilterPanel.prototype.setQueryManager=function(m){if(f.notNull(this.m_queryManager)){this.m_queryManager.getQueryModel().getFilter().unregisterChangedListener(this);}this.m_queryManager=m;this.m_queryManager.getQueryModel().getFilter().registerChangedListener(this,null);this.m_filterList.clearItems();if(!this.m_queryManager.isSubmitNeeded()){this.updateFilterPanel();}};f.AuGdsFilterPanel.prototype.updateFilterPanel=function(){this.m_filterList.clearItems();if(f.isNull(this.m_queryManager)){return;}var a=this.m_queryManager.getQueryModel().getFilter();var d=a.getDynamicFilter();if(d.isCartesianProduct()&&d.getCartesianProduct()!==null){var c=d.getCartesianProduct();for(var i=0;i<c.size();i++){var b=c.getCartesianChild(i);var e=this.createDimensionEntry(c,b);this.m_filterList.addItem(e);for(var j=0;j<b.size();j++){var g=b.getOp(j);var h=this.createFilterEntry(b,g);if(f.isNull(h)){continue;}this.m_filterList.addItem(h);}}}};f.AuGdsFilterPanel.prototype.createDimensionEntry=function(p,c){var d=c.getDimension();var a=this.m_genesis.newControl(f.UiType.CUSTOM_LIST_ITEM);var b=a.setNewContent(f.UiType.FLEX_LAYOUT);b.setJustifyContent(f.UiFlexJustifyContent.SPACE_BETWEEN);b.setAlignContent(f.UiFlexAlignContent.CENTER);b.useMaxWidth();b.setHeightCss("48px");b.setPaddingCss("5px");b.setBackgroundColor(f.UiColor.GREY.newBrighterColor(0.3));var t=b.addNewItemOfType(f.UiType.LABEL);t.setText(d.getText());t.setFontWeight(f.UiFontWeight.BOLD);t.setMargin(f.UiUnitValue.createByCss("5px"));var e=b.addNewItemOfType(f.UiType.ICON);e.setIcon("sys-cancel");e.setTooltip("Remove all dimension filters");e.setFontColor(f.UiColor.RED.newDarkerColor(0.2));e.setSizeCss("16px","16px");e.registerOnPress(f.PressListenerLambda.create(function(){p.removeElement(c);this.notifyEditActionListeners();}.bind(this)));return a;};f.AuGdsFilterPanel.prototype.createFilterEntry=function(p,e){var d=p.getDimension();var a=this.m_genesis.newControl(f.UiType.CUSTOM_LIST_ITEM);var c=a.setNewContent(f.UiType.FLEX_LAYOUT);c.setJustifyContent(f.UiFlexJustifyContent.SPACE_BETWEEN);c.setAlignContent(f.UiFlexAlignContent.CENTER);c.setHeightCss("32px");c.setPaddingCss("5px");var s=c.addNewItemOfType(f.UiType.SPACER);s.setFlex("0 0 20px");var b=e.getComparisonOperator();if(f.isNull(b)){return null;}var g=e.getSetSign();if(g===f.SetSign.EXCLUDING){if(b===f.ComparisonOperator.EQUAL){b=f.ComparisonOperator.NOT_EQUAL;}if(b===f.ComparisonOperator.BETWEEN){b=f.ComparisonOperator.NOT_BETWEEN;}}var o=c.addNewItemOfType(f.UiType.LABEL);o.setText(b.getName());o.setFlex("1 0 40%");var l=c.addNewItemOfType(f.UiType.LABEL);l.setFlex("1 1 30%");var h=e.getLow();var i=this.getDisplayText(d,h);if(f.notNull(i)){l.setText(i);}var j=c.addNewItemOfType(f.UiType.LABEL);j.setFlex("1 1 30%");var k=e.getHigh();var m=this.getDisplayText(d,k);if(f.notNull(m)){l.setText(m);}var n=c.addNewItemOfType(f.UiType.ICON);n.setIcon("sys-cancel");n.setTooltip("Remove filter");n.setFontColor(f.UiColor.ORANGE.newDarkerColor(0.2));n.setHeightCss("16px");n.setFlex("0 0 16px");n.registerOnPress(f.PressListenerLambda.create(function(){p.removeElement(e);this.notifyEditActionListeners();}.bind(this)));return a;};f.AuGdsFilterPanel.prototype.notifyEditActionListeners=function(){for(var i=0;i<this.m_editActionListeners.size();i++){this.m_editActionListeners.get(i).notifyEditAction();}};f.AuGdsFilterPanel.prototype.getDisplayText=function(d,b){var t=b.getSupplementValueString(d.getTextField().getName());if(f.XStringUtils.isNotNullAndNotEmpty(t)){return t;}var v=b.getValue();if(f.notNull(v)){return v.getStringRepresentation();}return null;};f.AuGdsFilterPanel.prototype.onModelComponentChanged=function(m,c){this.updateFilterPanel();};f.AuGdsFilterPanel.prototype.clearEditActionListeners=function(){this.m_editActionListeners.clear();};f.AuGdsInteractiveTableView=function(){};f.AuGdsInteractiveTableView.prototype=new f.XObject();f.AuGdsInteractiveTableView.prototype._ff_c="AuGdsInteractiveTableView";f.AuGdsInteractiveTableView.CONTEXT_MENU="contextMenu";f.AuGdsInteractiveTableView.EXPAND_MENU="expand";f.AuGdsInteractiveTableView.DRILL_MENU="drill";f.AuGdsInteractiveTableView.COLLAPSE_MENU="collapse";f.AuGdsInteractiveTableView.DIMENSION_CONTEXT_MENU="dimensionContextMenu";f.AuGdsInteractiveTableView.FILTER_CONTEXT_MENU="filterContextMenu";f.AuGdsInteractiveTableView.FILTER_SELECTION_CONTEXT_MENU="filterSelectionContextMenu";f.AuGdsInteractiveTableView.FILTER_CLEAR_MENU="filterClearMenu";f.AuGdsInteractiveTableView.MOVE_TO_COL_MENU="moveToColMenu";f.AuGdsInteractiveTableView.MOVE_TO_ROW_MENU="moveToRowMenu";f.AuGdsInteractiveTableView.MOVE_TO_FREE_MENU="moveToFreeMenu";f.AuGdsInteractiveTableView.UDH_ROW_TOGGLE="udhRowToggle";f.AuGdsInteractiveTableView.SORT_ASC_MENU="sortAscMenu";f.AuGdsInteractiveTableView.SORT_DESC_MENU="sortDescMenu";f.AuGdsInteractiveTableView.SORT_DEFAULT_MENU="sortDefaultMenu";f.AuGdsInteractiveTableView.SHOW_MASTERDATA_MENU="showMasterdataMenu";f.AuGdsInteractiveTableView.HIDE_MASTERDATA_MENU="hideMasterdataMenu";f.AuGdsInteractiveTableView.LEVEL_UP_MENU="levelUpMenu";f.AuGdsInteractiveTableView.LEVEL_DOWN_MENU="levelDownMenu";f.AuGdsInteractiveTableView.MEMBER_TO_LEFT_MENU="memberLeftMenu";f.AuGdsInteractiveTableView.MEMBER_TO_RIGHT_MENU="memberRightMenu";f.AuGdsInteractiveTableView.MEMBER_UP_MENU="memberUpMenu";f.AuGdsInteractiveTableView.MEMBER_DOWN_MENU="memberDownMenu";f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN="attributeDropdown";f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_KEY="attributeDropdownKey";f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_TEXT="attributeDropdownText";f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_TEXT_KEY="attributeDropdownTextKey";f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_KEY_TEXT="attributeDropdownKeyText";f.AuGdsInteractiveTableView.ACTIVATE_HIERARCHY_MENU="activateHierarchyMenu";f.AuGdsInteractiveTableView.FLAT_PRESENTATION_MENU="flatPresentationMenu";f.AuGdsInteractiveTableView.EXPAND_BOTTOM_UP_MENU="expandBottomUpMenu";f.AuGdsInteractiveTableView.EXPAND_TOP_DOWN_MENU="expandTopDownMenu";f.AuGdsInteractiveTableView.ACTIVATE_NODE_CONDENSATION_MENU="activateNodeCondensationMenu";f.AuGdsInteractiveTableView.DEACTIVATE_NODE_CONDENSATION_MENU="deActivateNodeCondensationMenu";f.AuGdsInteractiveTableView.HIDE_POSTED_NODES_MENU="hidePostedNodesMenu";f.AuGdsInteractiveTableView.SHOW_POSTED_NODES_MENU="showPostedNodesMenu";f.AuGdsInteractiveTableView.ACTIVATE_UDH_MENU="activateUdhMenu";f.AuGdsInteractiveTableView.DE_ACTIVATE_UDH_MENU="deActivateUdhMenu";f.AuGdsInteractiveTableView.TOTALS_ABOVE_MENU="totalsAboveMenu";f.AuGdsInteractiveTableView.TOTALS_ABOVE_AND_BELOW_MENU="totalsAboveAndBelowMenu";f.AuGdsInteractiveTableView.TOTALS_BELOW_MENU="totalsBelowMenu";f.AuGdsInteractiveTableView.HIDE_TOTALS_MENU="hideTotalsMenu";f.AuGdsInteractiveTableView.SUPRESS_ZEROS_MENU="supressZerosMenu";f.AuGdsInteractiveTableView.SHOW_ZEROS_MENU="showZerosMenu";f.AuGdsInteractiveTableView.DATACELL_MENU="datacellMenu";f.AuGdsInteractiveTableView.LAYOUT_BTN="layoutBtn";f.AuGdsInteractiveTableView.MASTER_CONTEXT_MENU="masterContextMenu";f.AuGdsInteractiveTableView.MOVE_CONTEXT_MENU="moveContextMenu";f.AuGdsInteractiveTableView.HIERARCHY_CONTEXT_MENU="hierarchyContextMenu";f.AuGdsInteractiveTableView.TOTALS_CONTEXT_MENU="totalsContextMenu";f.AuGdsInteractiveTableView.SORT_CONTEXT_MENU="sortContextMenu";f.AuGdsInteractiveTableView.FILTER_GROUP_CONTEXT_MENU="filterGroupContextMenu";f.AuGdsInteractiveTableView.UNDO_REDO_ACTION_ID="undoRedoActionTrigger";f.AuGdsInteractiveTableView.create=function(a,q,b,g){var i=new f.AuGdsInteractiveTableView();i.setupInternal(a,q,b,g);return i;};f.AuGdsInteractiveTableView.supportsTupleElementExpand=function(t){var d=t.getDrillState();var i=t.getDimension().isUniversalDisplayHierarchyDimension();return d===f.DrillState.COLLAPSED&&!i||d===f.DrillState.COLLAPSED_EXPAND_AND_DRILLDOWN_ALLOWED||d===f.DrillState.LEAF_UDH_EXPAND_ALLOWED;};f.AuGdsInteractiveTableView.supportsTupleElementDrill=function(t){var d=t.getDrillState();var i=t.getDimension().isUniversalDisplayHierarchyDimension();return d===f.DrillState.COLLAPSED_EXPAND_AND_DRILLDOWN_ALLOWED||d===f.DrillState.COLLAPSED&&i||d===f.DrillState.LEAF_DRILLDOWN_ALLOWED;};f.AuGdsInteractiveTableView.supportsTupleElementCollapse=function(t){var d=t.getDrillState();return d===f.DrillState.EXPANDED||d===f.DrillState.DRILLED||d===f.DrillState.DRILL_DOWN;};f.AuGdsInteractiveTableView.prototype.m_application=null;f.AuGdsInteractiveTableView.prototype.m_queryManager=null;f.AuGdsInteractiveTableView.prototype.m_genesis=null;f.AuGdsInteractiveTableView.prototype.m_sacTable=null;f.AuGdsInteractiveTableView.prototype.m_contextMenu=null;f.AuGdsInteractiveTableView.prototype.m_dcController=null;f.AuGdsInteractiveTableView.prototype.m_rowMin=0;f.AuGdsInteractiveTableView.prototype.m_rowMax=0;f.AuGdsInteractiveTableView.prototype.m_columnMin=0;f.AuGdsInteractiveTableView.prototype.m_columnMax=0;f.AuGdsInteractiveTableView.prototype.m_masterItems=null;f.AuGdsInteractiveTableView.prototype.m_sortItems=null;f.AuGdsInteractiveTableView.prototype.m_moveItems=null;f.AuGdsInteractiveTableView.prototype.m_totalsItems=null;f.AuGdsInteractiveTableView.prototype.m_filterItems=null;f.AuGdsInteractiveTableView.prototype.m_hierarchyItems=null;f.AuGdsInteractiveTableView.prototype.m_directItems=null;f.AuGdsInteractiveTableView.prototype.m_queryExecutedListener=null;f.AuGdsInteractiveTableView.prototype.m_toolbarItems=null;f.AuGdsInteractiveTableView.prototype.setupInternal=function(a,q,b,g){this.m_genesis=g;this.m_application=a;this.m_queryManager=q;this.m_queryExecutedListener=b;this.m_sacTable=this.m_genesis.newControl(f.UiType.SAC_TABLE_GRID);this.m_sacTable.useMaxSpace();this.m_sacTable.registerOnContextMenu(this);this.m_sacTable.registerOnButtonPress(this);this.m_sacTable.registerOnClick(this);this.m_contextMenu=this.m_genesis.newControl(f.UiType.MENU);this.m_contextMenu.setName(f.AuGdsInteractiveTableView.CONTEXT_MENU);this.m_masterItems=f.XList.create();this.m_sortItems=f.XList.create();this.m_moveItems=f.XList.create();this.m_totalsItems=f.XList.create();this.m_filterItems=f.XList.create();this.m_hierarchyItems=f.XList.create();this.m_directItems=f.XList.create();this.m_toolbarItems=f.XList.create();this.m_rowMax=-1;this.m_columnMax=-1;};f.AuGdsInteractiveTableView.prototype.registerOnSelectionChange=function(l){this.m_sacTable.registerOnSelectionChange(l);};f.AuGdsInteractiveTableView.prototype.releaseObject=function(){this.m_application=null;this.m_queryManager=null;this.m_genesis=null;this.m_queryExecutedListener=null;this.m_sacTable=f.XObjectExt.release(this.m_sacTable);f.XObject.prototype.releaseObject.call(this);};f.AuGdsInteractiveTableView.prototype.setQueryManager=function(q){this.m_queryManager=q;};f.AuGdsInteractiveTableView.prototype.getQueryManager=function(){return this.m_queryManager;};f.AuGdsInteractiveTableView.prototype.getView=function(){return this.m_sacTable;};f.AuGdsInteractiveTableView.prototype.getGenesis=function(){return this.m_genesis;};f.AuGdsInteractiveTableView.prototype.clearTable=function(){this.m_sacTable.setModelJson(null);};f.AuGdsInteractiveTableView.prototype.updateTable=function(){if(f.isNull(this.m_sacTable)){return;}if(f.isNull(this.m_queryManager)){return;}this.m_sacTable.setBusy(true);this.m_queryManager.processQueryExecution(f.SyncType.NON_BLOCKING,this,null);};f.AuGdsInteractiveTableView.prototype.executeUndo=function(){this.m_sacTable.setBusy(true);this.m_application.getUndoManager().processUndo(f.SyncType.NON_BLOCKING,this,null);};f.AuGdsInteractiveTableView.prototype.executeRedo=function(){this.m_sacTable.setBusy(true);this.m_application.getUndoManager().processRedo(f.SyncType.NON_BLOCKING,this,null);};f.AuGdsInteractiveTableView.prototype.rerenderTable=function(){var r=this.m_queryManager.getActiveResultSetContainer().getCursorResultSet();var m=f.GridRendererFactory.createRenderer(f.ProtocolBindingType.SAC_TABLE_GRID).render(r);var a=f.GridResolverFactory.createResolver(f.ProtocolBindingType.SAC_TABLE_GRID);a.updateModel(this.m_queryManager.getActiveResultSetContainer().getClassicResultSet(),m.asStructure());this.m_sacTable.setCustomObject(a);this.m_sacTable.setModelJson(m);this.m_sacTable.setBusy(false);};f.AuGdsInteractiveTableView.prototype.clearMenuItems=function(){this.m_contextMenu.clearItems();this.m_masterItems.clear();this.m_sortItems.clear();this.m_moveItems.clear();this.m_totalsItems.clear();this.m_filterItems.clear();this.m_hierarchyItems.clear();this.m_directItems.clear();};f.AuGdsInteractiveTableView.prototype.onContextMenu=function(e){this.clearMenuItems();var r=e.getControl().getCustomObject();if(!this.prepareMultiSelectMenu(r)){var c=e.getParameters().getIntegerByKey(f.UiControlEvent.PARAM_COLUMN);var a=e.getParameters().getIntegerByKey(f.UiControlEvent.PARAM_ROW);this.prepareSingleSelectMenu(c,a,r);}if(this.buildContextMenuItems()){var b=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_X,0);var d=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_Y,0);this.m_contextMenu.openAtPosition(b,d);}};f.AuGdsInteractiveTableView.prototype.prepareSingleSelectMenu=function(c,r,a){var b=this.getQueryManager().getModelCapabilities();var m=this.addMenuItemFor(this.m_masterItems);m.setText("Layout ...");m.setIcon("chart-axis");m.setName(f.AuGdsInteractiveTableView.LAYOUT_BTN);m.registerOnPress(this);this.createTupleElementMenu(a.getColumnTupleElements(c,c,r));this.createTupleElementMenu(a.getRowTupleElements(c,r,r));var o=a.isOnHeaderColumn(c);var d=a.isOnHeaderRow(r);if(d){this.createDimensionMenu(a.getColumnDimensions(r,r),a.getColumnTupleFieldName(r));}if(o&&!d){this.createDimensionMenu(a.getRowDimensions(c,c),a.getRowTupleFieldName(c));}var s=f.XList.create();var e;var g;var h;var j=this.addStructureMemberFromTuple(s,a.getRowTuple(r));var k;if(f.notNull(j)&&b.supportsDimensionSorting(j.getDimension(),f.SortType.MEMBER_KEY)){e=j.getDimension();k=e.getStructureLayout();g=k.size();if(g>1){h=k.getIndex(j);if(h>0){m=this.addMenuItemFor(this.m_moveItems);m.setText("Move up");m.setIcon("arrow-top");m.setName(f.AuGdsInteractiveTableView.MEMBER_UP_MENU);m.setCustomObject(j);m.registerOnPress(this);}if(h<g-1){m=this.addMenuItemFor(this.m_moveItems);m.setText("Move down");m.setIcon("arrow-bottom");m.setName(f.AuGdsInteractiveTableView.MEMBER_DOWN_MENU);m.setCustomObject(j);m.registerOnPress(this);}}}j=this.addStructureMemberFromTuple(s,a.getColumnTuple(c));if(f.notNull(j)&&b.supportsDimensionSorting(j.getDimension(),f.SortType.MEMBER_KEY)){e=j.getDimension();k=e.getStructureLayout();g=k.size();if(g>1){h=k.getIndex(j);if(h>0){m=this.addMenuItemFor(this.m_moveItems);m.setText("Move left");m.setIcon("arrow-left");m.setName(f.AuGdsInteractiveTableView.MEMBER_TO_LEFT_MENU);m.setCustomObject(j);m.registerOnPress(this);}if(h<g-1){m=this.addMenuItemFor(this.m_moveItems);m.setText("Move right");m.setIcon("arrow-right");m.setName(f.AuGdsInteractiveTableView.MEMBER_TO_RIGHT_MENU);m.setCustomObject(j);m.registerOnPress(this);}}}for(var i=0;i<s.size();i++){j=s.get(i);m=this.addMenuItemFor(this.m_directItems);m.setText(j.getText());m.setIcon("action-settings");m.setName(f.AuGdsInteractiveTableView.DATACELL_MENU);m.registerOnPress(this);if(j.getDimension().isMeasureStructure()){var l=f.XList.create();l.add(j);m.setCustomObject(l);}else{m.setCustomObject(s);}}};f.AuGdsInteractiveTableView.prototype.createDimensionMenu=function(d,a){var m;var c=this.getQueryManager().getModelCapabilities();var b=null;if(f.notNull(d)){b=f.XStream.of(d).map(function(p){return this.getQueryManager().getQueryModel().getDimensionByName(p.getName());}.bind(this)).collect(f.XStreamCollector.toList());}if(b.hasElements()){var e=b.get(0).getAxis();var i=b.get(0).isUniversalDisplayHierarchyDimension();if(c.supportsUniversalDisplayHierarchies()){if(i){m=this.addMenuItemFor(this.m_hierarchyItems);m.setText("Deactivate UDH");m.setName(f.AuGdsInteractiveTableView.DE_ACTIVATE_UDH_MENU);m.setCustomObject(e);m.registerOnPress(this);}else if(e.getDimensions().size()>1){m=this.addMenuItemFor(this.m_hierarchyItems);m.setText("Activate  UDH");m.setName(f.AuGdsInteractiveTableView.ACTIVATE_UDH_MENU);m.setCustomObject(e);m.registerOnPress(this);}}if(e.getResultStructureController().supportsResultAlignment()){var r=c.getSupportedResultAlignments();if(f.XCollectionUtils.hasElements(r)&&r.size()>1){if(r.contains(f.ResultAlignment.BOTTOM)){m=this.addMenuItemFor(this.m_totalsItems);if(e.getType()===f.AxisType.ROWS){m.setText("Bottom");}else{m.setText("Right");}m.setName(f.AuGdsInteractiveTableView.TOTALS_BELOW_MENU);m.setCustomObject(e);m.registerOnPress(this);}if(r.contains(f.ResultAlignment.TOP)){m=this.addMenuItemFor(this.m_totalsItems);if(e.getType()===f.AxisType.ROWS){m.setText("Top");}else{m.setText("Left");}m.setName(f.AuGdsInteractiveTableView.TOTALS_ABOVE_MENU);m.setCustomObject(e);m.registerOnPress(this);}if(r.contains(f.ResultAlignment.TOPBOTTOM)){m=this.addMenuItemFor(this.m_totalsItems);if(e.getType()===f.AxisType.ROWS){m.setText("Top & Bottom");}else{m.setText("Left & Right");}m.setName(f.AuGdsInteractiveTableView.TOTALS_ABOVE_AND_BELOW_MENU);m.setCustomObject(e);m.registerOnPress(this);}}m=this.addMenuItemFor(this.m_totalsItems);m.setText("Hide Totals");m.setIcon("hide");m.setName(f.AuGdsInteractiveTableView.HIDE_TOTALS_MENU);m.setCustomObject(e);m.registerOnPress(this);}if(c.supportsZeroSuppression()||c.supportsNullZeroSuppression()){if(e.getZeroSuppressionType()!==f.ZeroSuppressionType.NONE){m=this.addMenuItemFor(this.m_filterItems);m.setText("Show Zeros");m.setName(f.AuGdsInteractiveTableView.SHOW_ZEROS_MENU);m.setCustomObject(e);m.registerOnPress(this);}if(e.getZeroSuppressionType()!==f.ZeroSuppressionType.ALL_CELLS_ARE_ZERO){m=this.addMenuItemFor(this.m_filterItems);m.setText("Show Zeros");m.setName(f.AuGdsInteractiveTableView.SUPRESS_ZEROS_MENU);m.setCustomObject(e);m.registerOnPress(this);}}if(!i){var g=e.size();if(g>0){var h=e.getIndex(b.get(0));var j=e.getIndex(b.get(b.size()-1));if(h>0){m=this.addMenuItemFor(this.m_moveItems);if(e.getType()===f.AxisType.ROWS){m.setText("Move left");m.setIcon("arrow-left");}else{m.setText("Move up");m.setIcon("arrow-top");}m.setName(f.AuGdsInteractiveTableView.LEVEL_UP_MENU);m.setCustomObject(b);m.registerOnPress(this);}if(j<g-1){m=this.addMenuItemFor(this.m_moveItems);if(e.getType()===f.AxisType.ROWS){m.setText("Move right");m.setIcon("arrow-right");}else{m.setText("Move down");m.setIcon("arrow-bottom");}m.setName(f.AuGdsInteractiveTableView.LEVEL_DOWN_MENU);m.setCustomObject(b);m.registerOnPress(this);}}var k;k=e.getType()===f.AxisType.COLUMNS?null:f.XStream.of(b).filter(function(p){return p.supportsAxis(f.AxisType.COLUMNS);}.bind(this)).collect(f.XStreamCollector.toList());if(f.XCollectionUtils.hasElements(k)){m=this.addMenuItemFor(this.m_moveItems);m.setText("Move to Columns");m.setIcon("table-column");m.setName(f.AuGdsInteractiveTableView.MOVE_TO_COL_MENU);m.setCustomObject(k);m.registerOnPress(this);}k=e.getType()===f.AxisType.ROWS?null:f.XStream.of(b).filter(function(p){return p.supportsAxis(f.AxisType.ROWS);}.bind(this)).collect(f.XStreamCollector.toList());if(f.XCollectionUtils.hasElements(k)){m=this.addMenuItemFor(this.m_moveItems);m.setText("Move to Rows");m.setIcon("table-row");m.setName(f.AuGdsInteractiveTableView.MOVE_TO_ROW_MENU);m.setCustomObject(k);m.registerOnPress(this);}k=f.XStream.of(b).filter(function(p){return p.supportsAxis(f.AxisType.FREE);}.bind(this)).collect(f.XStreamCollector.toList());if(f.XCollectionUtils.hasElements(k)){m=this.addMenuItemFor(this.m_moveItems);m.setText("Remove from Axis");m.setIcon("delete");m.setName(f.AuGdsInteractiveTableView.MOVE_TO_FREE_MENU);m.setCustomObject(k);m.registerOnPress(this);}if(b.size()===1){var l=b.get(0);m=this.addMenuItemFor(this.m_masterItems);m.setText("Dimension Settings ...");m.setIcon("dimension");m.setName(f.AuGdsInteractiveTableView.DIMENSION_CONTEXT_MENU);m.setCustomObject(l);m.registerOnPress(this);if(this.hasFilterOnDimension(l)){m=this.addMenuItemFor(this.m_filterItems);m.setText("Clear filter  ");m.setIcon("clear-filter");m.setName(f.AuGdsInteractiveTableView.FILTER_CLEAR_MENU);m.setCustomObject(l);m.registerOnPress(this);}m=this.addMenuItemFor(this.m_filterItems);m.setText("Add filter");m.setIcon("add-filter");m.setName(f.AuGdsInteractiveTableView.FILTER_CONTEXT_MENU);m.setCustomObject(l);m.registerOnPress(this);if(f.notNull(a)&&l.getFieldByName(a)!==null){var n=l.getFieldByName(a);var o=this.resolveDimensionSortType(n);if(c.supportsFieldSorting(n)||f.notNull(o)&&c.supportsDimensionSorting(l,o)){m=this.addMenuItemFor(this.m_sortItems);m.setSectionStart(true);m.setText("Sort Ascending");m.setIcon("sort-ascending");m.setName(f.AuGdsInteractiveTableView.SORT_ASC_MENU);m.setCustomObject(n);m.registerOnPress(this);m=this.addMenuItemFor(this.m_sortItems);m.setText("Sort Descending");m.setIcon("sort-descending");m.setName(f.AuGdsInteractiveTableView.SORT_DESC_MENU);m.setCustomObject(n);m.registerOnPress(this);m=this.addMenuItemFor(this.m_sortItems);m.setText("Default Order");m.setIcon("decline");m.setName(f.AuGdsInteractiveTableView.SORT_DEFAULT_MENU);m.setCustomObject(n);m.registerOnPress(this);}}if(!l.getDimensionType().isTypeOf(f.DimensionType.ABSTRACT_STRUCTURE)){if(l.getReadMode(f.QContextType.RESULT_SET).isTypeOf(f.QMemberReadMode.BOOKED)){m=this.addMenuItemFor(this.m_filterItems);m.setText("Show Masterdata");m.setName(f.AuGdsInteractiveTableView.SHOW_MASTERDATA_MENU);m.setCustomObject(l);m.registerOnPress(this);}else{m=this.addMenuItemFor(this.m_filterItems);m.setText("Restrict on Booked data");m.setName(f.AuGdsInteractiveTableView.HIDE_MASTERDATA_MENU);m.setCustomObject(l);m.registerOnPress(this);}}if(l.isHierarchyActive()){m=this.addMenuItemFor(this.m_hierarchyItems);m.setText("Flat display");m.setIcon("list");m.setName(f.AuGdsInteractiveTableView.FLAT_PRESENTATION_MENU);m.setCustomObject(l);m.registerOnPress(this);}else if(f.XStringUtils.isNotNullAndNotEmpty(l.getHierarchyName())){m=this.addMenuItemFor(this.m_hierarchyItems);m.setText("Hierarchic display");m.setIcon("tree");m.setName(f.AuGdsInteractiveTableView.ACTIVATE_HIERARCHY_MENU);m.setCustomObject(l);m.registerOnPress(this);}if(l.isHierarchyActive()){if(c.supportsExpandBottomUp()){if(l.getLowerLevelNodeAlignment()===f.Alignment.CHILDREN_ABOVE_PARENT){m=this.addMenuItemFor(this.m_hierarchyItems);m.setText("Children below Parent");m.setName(f.AuGdsInteractiveTableView.EXPAND_TOP_DOWN_MENU);m.setCustomObject(l);m.registerOnPress(this);}else{m=this.addMenuItemFor(this.m_hierarchyItems);m.setText("Children above Parent");m.setName(f.AuGdsInteractiveTableView.EXPAND_BOTTOM_UP_MENU);m.setCustomObject(l);m.registerOnPress(this);}}if(l.hasNodeCondensation()){m=this.addMenuItemFor(this.m_hierarchyItems);m.setText("Disable node condensation");m.setName(f.AuGdsInteractiveTableView.DEACTIVATE_NODE_CONDENSATION_MENU);m.setCustomObject(l);m.registerOnPress(this);}else{m=this.addMenuItemFor(this.m_hierarchyItems);m.setText("Enable node condensation");m.setName(f.AuGdsInteractiveTableView.ACTIVATE_NODE_CONDENSATION_MENU);m.setCustomObject(l);m.registerOnPress(this);}if(l.getMemberOfPostedNodeVisibility()===f.ResultVisibility.ALWAYS){m=this.addMenuItemFor(this.m_hierarchyItems);m.setText("Hide posted nodes");m.setName(f.AuGdsInteractiveTableView.HIDE_POSTED_NODES_MENU);m.setCustomObject(l);m.registerOnPress(this);}else if(l.getMemberOfPostedNodeVisibility()===f.ResultVisibility.HIDDEN){m=this.addMenuItemFor(this.m_hierarchyItems);m.setText("Show posted nodes");m.setName(f.AuGdsInteractiveTableView.SHOW_POSTED_NODES_MENU);m.setCustomObject(l);m.registerOnPress(this);}}}}}};f.AuGdsInteractiveTableView.prototype.buildContextMenuItems=function(){var r=this.addMenuGroup(this.m_directItems,400,"","","");r=this.addMenuGroup(this.m_moveItems,2,"Move ...",f.AuGdsInteractiveTableView.MOVE_CONTEXT_MENU,"move")||r;r=this.addMenuGroup(this.m_sortItems,2,"Sorting...",f.AuGdsInteractiveTableView.SORT_CONTEXT_MENU,"sort")||r;r=this.addMenuGroup(this.m_filterItems,2,"Filter...",f.AuGdsInteractiveTableView.FILTER_GROUP_CONTEXT_MENU,"filter")||r;r=this.addMenuGroup(this.m_totalsItems,2,"Result Display ...",f.AuGdsInteractiveTableView.TOTALS_CONTEXT_MENU,"sum")||r;r=this.addMenuGroup(this.m_hierarchyItems,2,"Hierarchy settings...",f.AuGdsInteractiveTableView.HIERARCHY_CONTEXT_MENU,"tree")||r;return this.addMenuGroup(this.m_masterItems,1,"Advanced settings...",f.AuGdsInteractiveTableView.MASTER_CONTEXT_MENU,"provision")||r;};f.AuGdsInteractiveTableView.prototype.addMenuGroup=function(m,t,a,n,b){if(f.XCollectionUtils.hasElements(m)){var r=this.m_contextMenu;if(m.size()>t){var c=this.m_contextMenu.addNewItem();c.setName(n);c.setText(a);c.setIcon(b);r=c;}else{m.get(0).setSectionStart(true);}for(var i=0;i<m.size();i++){r.addItem(m.get(i));}return true;}return false;};f.AuGdsInteractiveTableView.prototype.addControlFor=function(m,t){var r=this.m_genesis.newControl(t);m.add(r);return r;};f.AuGdsInteractiveTableView.prototype.addMenuItemFor=function(m){var r=this.m_genesis.newControl(f.UiType.MENU_ITEM);m.add(r);return r;};f.AuGdsInteractiveTableView.prototype.resolveDimensionSortType=function(a){var d=a.getDimension();if(a===d.getKeyField()){return f.SortType.MEMBER_KEY;}if(a===d.getTextField()){return f.SortType.MEMBER_TEXT;}if(d.getMainAttribute()!==null&&d.getMainAttribute().getFields().contains(a)){var p=a.getPresentationType();if(p.isTypeOf(f.PresentationType.ABSTRACT_TEXT)){return f.SortType.MEMBER_TEXT;}if(p.isTypeOf(f.PresentationType.ABSTRACT_KEY)){return f.SortType.MEMBER_KEY;}}return null;};f.AuGdsInteractiveTableView.prototype.hasFilterOnDimension=function(d){var c=this.getQueryManager().getQueryModel().getFilter().getDynamicFilter().getCartesianProduct();return f.notNull(c)&&f.XCollectionUtils.hasElements(c.getCartesianList(d));};f.AuGdsInteractiveTableView.prototype.addStructureMemberFromTuple=function(s,t){var a=null;if(f.notNull(t)){for(var i=0;i<t.size();i++){var b=t.getTupleElementAt(i);var d=b.getDimensionMember();a=b.getDimension().getStructureMember(d.getName());if(f.notNull(a)){if(b.getDimension().isMeasureStructure()){s.insert(0,a);}else{s.add(a);}break;}}}return a;};f.AuGdsInteractiveTableView.prototype.onSubmit=function(){this.updateTable();};f.AuGdsInteractiveTableView.prototype.onClose=function(){};f.AuGdsInteractiveTableView.prototype.onDataCellOk=function(){this.updateTable();};f.AuGdsInteractiveTableView.prototype.onDataCellClose=function(){this.m_dcController.close();};f.AuGdsInteractiveTableView.prototype.onFilterDialogOk=function(s){if(f.XCollectionUtils.hasElements(s)){var a=s.get(0).getNode().getDimensionMember();var d=a.getDimension();var c=this.getQueryManager().getQueryModel().getFilter().getDynamicFilter().getCartesianProductWithDefault().getCartesianListWithDefault(d);for(var i=0;i<s.size();i++){var b=s.get(i);var m=b.getNode().getDimensionMember();var e=c.addNewCartesianElement();e.setComparisonOperator(f.ComparisonOperator.EQUAL);e.getLow().setDimensionMember(m);e.getLow().addSupplementValue(d.getDisplayKeyField().getName(),b.getDisplayKey());e.getLow().addSupplementValue(d.getTextField().getName(),b.getText());}}this.updateTable();};f.AuGdsInteractiveTableView.prototype.onFilterDialogCancel=function(){};f.AuGdsInteractiveTableView.prototype.onPress=function(e){var c=e.getControl();var a=c.getParent();if(f.notNull(a)){var b=c.getCustomObject();switch(c.getName()){case f.AuGdsInteractiveTableView.LAYOUT_BTN:this.openLayoutDialog();break;case f.AuGdsInteractiveTableView.DATACELL_MENU:this.openDataCellDialogForMember(b);break;case f.AuGdsInteractiveTableView.MEMBER_UP_MENU:this.moveStructureMember(b,-1);break;case f.AuGdsInteractiveTableView.MEMBER_TO_LEFT_MENU:this.moveStructureMember(b,-1);break;case f.AuGdsInteractiveTableView.MEMBER_DOWN_MENU:this.moveStructureMember(b,1);break;case f.AuGdsInteractiveTableView.MEMBER_TO_RIGHT_MENU:this.moveStructureMember(b,1);break;case f.AuGdsInteractiveTableView.ACTIVATE_UDH_MENU:this.getQueryManager().getConvenienceCommands().setUniversalDisplayHierarchy(b.getDimensionNames().createListOfStringCopy(),-1,true);this.updateTable();break;case f.AuGdsInteractiveTableView.DE_ACTIVATE_UDH_MENU:this.getQueryManager().getQueryModel().getUniversalDisplayHierarchies().getByAxisType(b.getType()).setActive(false);this.updateTable();break;case f.AuGdsInteractiveTableView.TOTALS_ABOVE_MENU:b.getResultStructureController().setResultAlignment(f.ResultAlignment.TOP);this.updateTable();break;case f.AuGdsInteractiveTableView.TOTALS_ABOVE_AND_BELOW_MENU:b.getResultStructureController().setResultAlignment(f.ResultAlignment.TOPBOTTOM);this.updateTable();break;case f.AuGdsInteractiveTableView.TOTALS_BELOW_MENU:b.getResultStructureController().setResultAlignment(f.ResultAlignment.BOTTOM);this.updateTable();break;case f.AuGdsInteractiveTableView.HIDE_TOTALS_MENU:b.getResultStructureController().setResultAlignment(f.ResultAlignment.NONE);this.updateTable();break;case f.AuGdsInteractiveTableView.SUPRESS_ZEROS_MENU:b.setZeroSuppressionType(f.ZeroSuppressionType.ALL_CELLS_ARE_ZERO);this.updateTable();break;case f.AuGdsInteractiveTableView.SHOW_ZEROS_MENU:b.setZeroSuppressionType(f.ZeroSuppressionType.NONE);this.updateTable();break;case f.AuGdsInteractiveTableView.DIMENSION_CONTEXT_MENU:f.DdEntryPoint.createEntryPoint(this.m_application).openDimensionDialog(f.XStringUtils.concatenate3(b.getName(),"/",b.getText()),b,this);break;case f.AuGdsInteractiveTableView.FILTER_CONTEXT_MENU:var d=f.FdEntryPoint.createEntryPoint(this.m_application,f.XStringUtils.concatenate3(b.getName(),"/",b.getText()));d.getConfiguration().setSelectionMode(f.UiSelectionMode.MULTI_SELECT);d.openWithDimension(b,this);break;case f.AuGdsInteractiveTableView.FILTER_SELECTION_CONTEXT_MENU:this.filterOnSelection(b);break;case f.AuGdsInteractiveTableView.SORT_ASC_MENU:this.sortByDimensionField(f.XSortDirection.ASCENDING,b);break;case f.AuGdsInteractiveTableView.SORT_DESC_MENU:this.sortByDimensionField(f.XSortDirection.DESCENDING,b);break;case f.AuGdsInteractiveTableView.SORT_DEFAULT_MENU:this.sortByDimensionField(f.XSortDirection.DEFAULT_VALUE,b);break;case f.AuGdsInteractiveTableView.SHOW_MASTERDATA_MENU:b.setReadModeGraceful(f.QContextType.RESULT_SET,f.QMemberReadMode.MASTER);this.updateTable();break;case f.AuGdsInteractiveTableView.HIDE_MASTERDATA_MENU:b.setReadModeGraceful(f.QContextType.RESULT_SET,f.QMemberReadMode.BOOKED);this.updateTable();break;case f.AuGdsInteractiveTableView.ACTIVATE_HIERARCHY_MENU:b.setHierarchyActive(true);this.updateTable();break;case f.AuGdsInteractiveTableView.FLAT_PRESENTATION_MENU:b.setHierarchyActive(false);this.updateTable();break;case f.AuGdsInteractiveTableView.EXPAND_BOTTOM_UP_MENU:b.setLowerLevelNodeAlignment(f.Alignment.CHILDREN_ABOVE_PARENT);this.updateTable();break;case f.AuGdsInteractiveTableView.EXPAND_TOP_DOWN_MENU:b.setLowerLevelNodeAlignment(f.Alignment.CHILDREN_BELOW_PARENT);this.updateTable();break;case f.AuGdsInteractiveTableView.ACTIVATE_NODE_CONDENSATION_MENU:b.setHasNodeCondensation(true);this.updateTable();break;case f.AuGdsInteractiveTableView.DEACTIVATE_NODE_CONDENSATION_MENU:b.setHasNodeCondensation(false);this.updateTable();break;case f.AuGdsInteractiveTableView.HIDE_POSTED_NODES_MENU:b.setMemberOfPostedNodeVisibility(f.ResultVisibility.HIDDEN);this.updateTable();break;case f.AuGdsInteractiveTableView.SHOW_POSTED_NODES_MENU:b.setMemberOfPostedNodeVisibility(f.ResultVisibility.ALWAYS);this.updateTable();break;case f.AuGdsInteractiveTableView.FILTER_CLEAR_MENU:this.clearFilter(b);break;case f.AuGdsInteractiveTableView.LEVEL_UP_MENU:this.moveDimensions(b,-1);break;case f.AuGdsInteractiveTableView.LEVEL_DOWN_MENU:this.moveDimensions(b,1);break;case f.AuGdsInteractiveTableView.MOVE_TO_COL_MENU:this.moveToAxis(b,f.AxisType.COLUMNS);break;case f.AuGdsInteractiveTableView.MOVE_TO_ROW_MENU:this.moveToAxis(b,f.AxisType.ROWS);break;case f.AuGdsInteractiveTableView.MOVE_TO_FREE_MENU:this.moveToAxis(b,f.AxisType.FREE);break;case f.AuGdsInteractiveTableView.COLLAPSE_MENU:this.applyDrillToElements(b,f.DrillState.COLLAPSED);break;case f.AuGdsInteractiveTableView.DRILL_MENU:this.applyDrillToElements(b,f.DrillState.DRILLED);break;case f.AuGdsInteractiveTableView.EXPAND_MENU:this.applyDrillToElements(b,f.DrillState.EXPANDED);break;case f.AuGdsInteractiveTableView.UDH_ROW_TOGGLE:this.toggleUdh(f.AxisType.ROWS,c.isPressed());break;default:}}};f.AuGdsInteractiveTableView.prototype.toggleUdh=function(a,b){if(b){this.getQueryManager().getConvenienceCommands().setUniversalDisplayHierarchy(this.getQueryManager().getQueryModel().getAxis(a).getDimensionNames().createListOfStringCopy(),-1,true);}else{this.getQueryManager().getQueryModel().getUniversalDisplayHierarchies().getByAxisType(a).setActive(false);}this.updateTable();};f.AuGdsInteractiveTableView.prototype.filterOnSelection=function(t){var d=t.get(0).getDimension();var c=this.getQueryManager().getQueryModel().getFilter().getDynamicFilter().getCartesianProductWithDefault().getCartesianListWithDefault(d);c.clear();for(var i=0;i<t.size();i++){var e=t.get(i);var m=e.getDimensionMember();if(!m.getMemberType().isTypeOf(f.OlapComponentType.TOTALS)&&!m.getMemberType().isTypeOf(f.MemberType.RESULT)){c.addNewCartesianElement().configureSingleParameterExpression(m.getFieldValue(d.getKeyField()).getValue(),f.ComparisonOperator.EQUAL);}}this.updateTable();};f.AuGdsInteractiveTableView.prototype.applyDrillToElements=function(e,d){for(var i=0;i<e.size();i++){e.get(i).setNextDrillState(d);}this.updateTable();};f.AuGdsInteractiveTableView.prototype.moveToAxis=function(d,a){var c=this.getQueryManager().getConvenienceCommands();for(var i=0;i<d.size();i++){c.moveDimensionToAxis(d.get(i).getName(),a);}this.updateTable();};f.AuGdsInteractiveTableView.prototype.moveStructureMember=function(s,o){var d=s.getDimension();var a=f.XListOfNameObject.create();a.addAll(d.getStructureLayout());var i=a.getIndex(s);a.removeAt(i);a.insert(i+o,s);d.setStructuredLayout(a);if(this.getQueryManager().getSystemType().isTypeOf(f.SystemType.BW)){var b=this.getQueryManager().getQueryModel().getSortingManager().getDimensionSorting(d,true);b.setSortByKey();b.setDirection(f.XSortDirection.ASCENDING);b.setCustomSort(f.XStream.of(a).collect(f.XStreamCollector.toListOfString(function(c){return c.getName();}.bind(this))));}else{this.getQueryManager().getQueryModel().getSortingManager().removeDimensionSorting(d);}this.updateTable();};f.AuGdsInteractiveTableView.prototype.moveDimensions=function(d,o){var a=d.get(0).getAxis();var b;var c=0;var i;for(i=d.size()-1;i>=0;i--){b=d.get(i);c=a.getIndex(b);a.removeAt(c);}for(i=0;i<d.size();i++){a.insert(c+o+i,d.get(i));}this.updateTable();};f.AuGdsInteractiveTableView.prototype.sortByDimensionField=function(d,a){var c=this.getQueryManager().getModelCapabilities();var b=a.getDimension();var p=a.getPresentationType();var e=this.resolveDimensionSortType(a);if(c.supportsFieldSorting(a)){this.getQueryManager().getConvenienceCommands().sort(f.SortType.FIELD,b.getDimensionType(),b.getName(),p,a.getName(),null,d);}else if(f.notNull(e)&&c.supportsDimensionSorting(b,e)){this.getQueryManager().getConvenienceCommands().sort(e,b.getDimensionType(),b.getName(),p,null,null,d);}this.updateTable();};f.AuGdsInteractiveTableView.prototype.clearFilter=function(d){this.getQueryManager().getQueryModel().getFilter().getDynamicFilter().getCartesianProductWithDefault().removeByDimensionName(d.getName());this.updateTable();};f.AuGdsInteractiveTableView.prototype.openDataCellDialogForMember=function(s){var d=f.OlapUiDisplayFactory.createFactoryForDialog(this.m_application.getProcess().getUiManager());var c=f.OlapUiContext.createContext(this.m_application.getProcess().getUiManager(),d);if(f.isNull(this.m_dcController)){this.m_dcController=f.DataCellController.create(c);}if(s.size()===1){this.m_dcController.openDataCellPropertiesDialog(this,this.getQueryManager(),s.get(0).getName(),null,false);}else if(s.size()===2){if(s.get(0).getDimension().isMeasureStructure()){this.m_dcController.openDataCellPropertiesDialog(this,this.getQueryManager(),s.get(0).getName(),s.get(1).getName(),true);}else{this.m_dcController.openDataCellPropertiesDialog(this,this.getQueryManager(),s.get(1).getName(),s.get(0).getName(),true);}}};f.AuGdsInteractiveTableView.prototype.openLayoutDialog=function(){var a=f.AldEntryPoint.createEntryPoint(this.m_application);a.openAldDialog("Axis layout",this.getQueryManager().getQueryModel(),this);};f.AuGdsInteractiveTableView.prototype.processSelectionChangeEvent=function(e){var s=e.getParameters().getStringByKey(f.UiControlEvent.PARAM_SELECTION_AREA);if(f.notNull(s)){var a=f.JsonParserFactory.createFromString(s);if(f.notNull(a)&&a.isStructure()){var b=a.asStructure();var c=b.getIntegerByKey(f.SacTableConstants.CCD_N_START_COL);var d=b.getIntegerByKey(f.SacTableConstants.CCD_N_END_COL);var g=b.getIntegerByKey(f.SacTableConstants.CCD_N_START_ROW);var h=b.getIntegerByKey(f.SacTableConstants.CCD_N_END_ROW);this.m_columnMin=f.XMath.min(c,d);this.m_columnMax=f.XMath.max(c,d);this.m_rowMin=f.XMath.min(g,h);this.m_rowMax=f.XMath.max(g,h);}}};f.AuGdsInteractiveTableView.prototype.getToolbarItems=function(){this.m_toolbarItems.clear();var b=this.addControlFor(this.m_toolbarItems,f.UiType.BUTTON);b.setTooltip("Layout ...");b.setIcon("chart-axis");b.setName(f.AuGdsInteractiveTableView.LAYOUT_BTN);b.registerOnPress(this);var c=this.getQueryManager().getModelCapabilities();if(c.supportsUniversalDisplayHierarchies()){var a=this.getQueryManager().getQueryModel().getRowsAxis();var d=a.getDimensions();var i=this.getQueryManager().getQueryModel().getUniversalDisplayHierarchies().getByAxisType(f.AxisType.ROWS).isActive();var t=this.addControlFor(this.m_toolbarItems,f.UiType.TOGGLE_BUTTON);t.setTooltip("Activate UDH on rows");t.setIcon("tree");t.setName(f.AuGdsInteractiveTableView.UDH_ROW_TOGGLE);t.setPressed(i);t.setEnabled(i||f.notNull(d)&&d.size()>1);t.registerOnPress(this);}var r=this.m_sacTable.getCustomObject();if(f.notNull(r)&&this.m_rowMax>-1&&this.m_columnMax>-1){var s=r.getRowDimensions(this.m_columnMin,this.m_columnMax);var e=r.getColumnDimensions(this.m_rowMin,this.m_rowMax);var g=null;var h=null;var j=r.getColumnTuples(this.m_columnMin,this.m_columnMax);var k=r.getRowTuples(this.m_rowMin,this.m_rowMax);if(this.m_rowMin===this.m_rowMax){g=r.getColumnTupleElements(this.m_columnMin,this.m_columnMax,this.m_rowMin);}if(this.m_columnMin===this.m_columnMax){h=r.getRowTupleElements(this.m_columnMin,this.m_rowMin,this.m_rowMax);}if(f.XCollectionUtils.hasElements(e)||f.XCollectionUtils.hasElements(s)||f.XCollectionUtils.hasElements(g)||f.XCollectionUtils.hasElements(h)||f.XCollectionUtils.hasElements(j)||f.XCollectionUtils.hasElements(k)){if(f.XCollectionUtils.hasElements(e)){this.createContextSensitiveToolbarItems(e,g);}else if(f.XCollectionUtils.hasElements(s)){this.createContextSensitiveToolbarItems(s,h);}}}return this.m_toolbarItems;};f.AuGdsInteractiveTableView.prototype.createContextSensitiveToolbarItems=function(d,t){this.addControlFor(this.m_toolbarItems,f.UiType.SPACER);var b;var a=null;if(f.notNull(d)){a=f.XStream.of(d).map(function(o){return this.getQueryManager().getQueryModel().getDimensionByName(o.getName());}.bind(this)).collect(f.XStreamCollector.toList());}if(a.hasElements()){if(!a.get(0).isUniversalDisplayHierarchyDimension()){var c=a.get(0).getAxis();var e=c.size();if(e>0){var g=c.getIndex(a.get(0));var h=c.getIndex(a.get(a.size()-1));if(g>0){b=this.addControlFor(this.m_toolbarItems,f.UiType.BUTTON);if(c.getType()===f.AxisType.ROWS){b.setTooltip("Move left");b.setIcon("arrow-left");}else{b.setTooltip("Move up");b.setIcon("arrow-top");}b.setName(f.AuGdsInteractiveTableView.LEVEL_UP_MENU);b.setCustomObject(a);b.registerOnPress(this);}if(h<e-1){b=this.addControlFor(this.m_toolbarItems,f.UiType.BUTTON);if(c.getType()===f.AxisType.ROWS){b.setTooltip("Move right");b.setIcon("arrow-right");}else{b.setTooltip("Move down");b.setIcon("arrow-bottom");}b.setName(f.AuGdsInteractiveTableView.LEVEL_DOWN_MENU);b.setCustomObject(a);b.registerOnPress(this);}}var j;j=c.getType()===f.AxisType.COLUMNS?null:f.XStream.of(a).filter(function(n){return n.supportsAxis(f.AxisType.COLUMNS);}.bind(this)).collect(f.XStreamCollector.toList());if(f.XCollectionUtils.hasElements(j)){b=this.addControlFor(this.m_toolbarItems,f.UiType.BUTTON);b.setTooltip("Move to Columns");b.setIcon("table-column");b.setName(f.AuGdsInteractiveTableView.MOVE_TO_COL_MENU);b.setCustomObject(j);b.registerOnPress(this);}j=c.getType()===f.AxisType.ROWS?null:f.XStream.of(a).filter(function(n){return n.supportsAxis(f.AxisType.ROWS);}.bind(this)).collect(f.XStreamCollector.toList());if(f.XCollectionUtils.hasElements(j)){b=this.addControlFor(this.m_toolbarItems,f.UiType.BUTTON);b.setTooltip("Move to Rows");b.setIcon("table-row");b.setName(f.AuGdsInteractiveTableView.MOVE_TO_ROW_MENU);b.setCustomObject(j);b.registerOnPress(this);}j=f.XStream.of(a).filter(function(n){return n.supportsAxis(f.AxisType.FREE);}.bind(this)).collect(f.XStreamCollector.toList());if(f.XCollectionUtils.hasElements(j)){b=this.addControlFor(this.m_toolbarItems,f.UiType.BUTTON);b.setTooltip("Remove from Axis");b.setIcon("delete");b.setName(f.AuGdsInteractiveTableView.MOVE_TO_FREE_MENU);b.setCustomObject(j);b.registerOnPress(this);}if(a.size()===1){var k=a.get(0);if(this.hasFilterOnDimension(k)){b=this.addControlFor(this.m_toolbarItems,f.UiType.BUTTON);b.setTooltip("Clear filter  ");b.setIcon("clear-filter");b.setName(f.AuGdsInteractiveTableView.FILTER_CLEAR_MENU);b.setCustomObject(k);b.registerOnPress(this);}b=this.addControlFor(this.m_toolbarItems,f.UiType.BUTTON);b.setTooltip("Add filter");b.setIcon("add-filter");b.setName(f.AuGdsInteractiveTableView.FILTER_CONTEXT_MENU);b.setCustomObject(k);b.registerOnPress(this);if(f.XCollectionUtils.hasElements(t)){b=this.addControlFor(this.m_toolbarItems,f.UiType.BUTTON);b.setTooltip("Filter Selection");b.setIcon("filter");b.setName(f.AuGdsInteractiveTableView.FILTER_SELECTION_CONTEXT_MENU);b.setCustomObject(t);b.registerOnPress(this);}b=this.addControlFor(this.m_toolbarItems,f.UiType.BUTTON);b.setTooltip("Dimension Settings ...");b.setIcon("dimension");b.setName(f.AuGdsInteractiveTableView.DIMENSION_CONTEXT_MENU);b.setCustomObject(k);b.registerOnPress(this);if(false&&k.getFieldLayoutType()===f.FieldLayoutType.ATTRIBUTE_BASED){if(k.getKeyField()!==null&&k.getTextField()!==null){var l=this.addControlFor(this.m_toolbarItems,f.UiType.DROPDOWN);l.setName(f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN);l.setCustomObject(k);l.addNewItem().setText("Text").setName(f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_TEXT);l.addNewItem().setText("Key").setName(f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_KEY);l.addNewItem().setText("Key and Text").setName(f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_KEY_TEXT);l.addNewItem().setText("Text and Key").setName(f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_TEXT_KEY);l.registerOnSelect(this);var s=null;var r=k.getMainAttribute().getResultSetFields();for(var i=0;i<r.size();i++){var p=r.get(i).getPresentationType();if(p.isTypeOf(f.PresentationType.ABSTRACT_TEXT)){if(f.isNull(s)){s=f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_TEXT;}else if(f.XString.isEqual(s,f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_KEY)){s=f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_KEY_TEXT;}}else if(p.isTypeOf(f.PresentationType.ABSTRACT_KEY)){if(f.isNull(s)){s=f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_KEY;}else if(f.XString.isEqual(s,f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_TEXT)){s=f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_TEXT_KEY;}}}l.setSelectedName(s);}}}}}if(f.XCollectionUtils.hasElements(t)){var m=f.XStream.of(t).filter(function(n){return f.AuGdsInteractiveTableView.supportsTupleElementExpand(n);}.bind(this)).collect(f.XStreamCollector.toList());if(f.XCollectionUtils.hasElements(m)&&m.size()>1){b=this.addControlFor(this.m_toolbarItems,f.UiType.BUTTON);b.setTooltip("Expand");b.setIcon("expand-all");b.setName(f.AuGdsInteractiveTableView.EXPAND_MENU);b.setCustomObject(m);b.registerOnPress(this);}m=f.XStream.of(t).filter(function(n){return f.AuGdsInteractiveTableView.supportsTupleElementDrill(n);}.bind(this)).collect(f.XStreamCollector.toList());if(f.XCollectionUtils.hasElements(m)&&m.size()>1){b=this.addControlFor(this.m_toolbarItems,f.UiType.BUTTON);b.setTooltip("Drill");b.setIcon("expand-all");b.setName(f.AuGdsInteractiveTableView.DRILL_MENU);b.setCustomObject(m);b.registerOnPress(this);}m=f.XStream.of(t).filter(function(n){return f.AuGdsInteractiveTableView.supportsTupleElementCollapse(n);}.bind(this)).collect(f.XStreamCollector.toList());if(f.XCollectionUtils.hasElements(m)&&m.size()>1){b=this.addControlFor(this.m_toolbarItems,f.UiType.BUTTON);b.setTooltip("Collapse");b.setIcon("collapse-all");b.setName(f.AuGdsInteractiveTableView.COLLAPSE_MENU);b.setCustomObject(m);b.registerOnPress(this);}}};f.AuGdsInteractiveTableView.prototype.prepareMultiSelectMenu=function(r){var m=this.m_rowMax>-1&&this.m_columnMax>-1&&(this.m_columnMin!==this.m_columnMax||this.m_rowMin!==this.m_rowMax);if(m){var s=r.getRowDimensions(this.m_columnMin,this.m_columnMax);var a=r.getColumnDimensions(this.m_rowMin,this.m_rowMax);var b=null;var c=null;var d=r.getColumnTuples(this.m_columnMin,this.m_columnMax);var e=r.getRowTuples(this.m_rowMin,this.m_rowMax);var o=r.isOnHeaderRow(this.m_rowMax);var g=r.isOnHeaderColumn(this.m_columnMax);var h=r.isOnDataRow(this.m_rowMin);var i=r.isOnDataColumn(this.m_columnMin);if(this.m_rowMin===this.m_rowMax){b=r.getColumnTupleElements(this.m_columnMin,this.m_columnMax,this.m_rowMin);}if(this.m_columnMin===this.m_columnMax){c=r.getRowTupleElements(this.m_columnMin,this.m_rowMin,this.m_rowMax);}if(f.XCollectionUtils.hasElements(a)||f.XCollectionUtils.hasElements(s)||f.XCollectionUtils.hasElements(b)||f.XCollectionUtils.hasElements(c)||f.XCollectionUtils.hasElements(d)||f.XCollectionUtils.hasElements(e)){if(o&&!h&&!i&&f.XCollectionUtils.hasElements(a)){this.createDimensionMenu(a,null);}if(g&&!h&&!i&&!o&&f.XCollectionUtils.hasElements(s)){this.createDimensionMenu(s,null);}this.createTupleElementMenu(c);this.createTupleElementMenu(b);return true;}}return false;};f.AuGdsInteractiveTableView.prototype.createTupleElementMenu=function(t){if(f.XCollectionUtils.hasElements(t)){var e=f.XStream.of(t).filter(function(a){return f.AuGdsInteractiveTableView.supportsTupleElementExpand(a);}.bind(this)).collect(f.XStreamCollector.toList());var m;if(f.XCollectionUtils.hasElements(e)&&e.size()>1){m=this.addMenuItemFor(this.m_directItems);m.setText("Expand");m.setIcon("expand-all");m.setName(f.AuGdsInteractiveTableView.EXPAND_MENU);m.setCustomObject(e);m.registerOnPress(this);}e=f.XStream.of(t).filter(function(a){return f.AuGdsInteractiveTableView.supportsTupleElementDrill(a);}.bind(this)).collect(f.XStreamCollector.toList());if(f.XCollectionUtils.hasElements(e)&&e.size()>1){m=this.addMenuItemFor(this.m_directItems);m.setText("Drill");m.setIcon("expand-all");m.setName(f.AuGdsInteractiveTableView.DRILL_MENU);m.setCustomObject(e);m.registerOnPress(this);}e=f.XStream.of(t).filter(function(a){return f.AuGdsInteractiveTableView.supportsTupleElementCollapse(a);}.bind(this)).collect(f.XStreamCollector.toList());if(f.XCollectionUtils.hasElements(e)&&e.size()>1){m=this.addMenuItemFor(this.m_directItems);m.setText("Collapse");m.setIcon("collapse-all");m.setName(f.AuGdsInteractiveTableView.COLLAPSE_MENU);m.setCustomObject(e);m.registerOnPress(this);}m=this.addMenuItemFor(this.m_filterItems);m.setText("Filter Selection");m.setIcon("filter");m.setName(f.AuGdsInteractiveTableView.FILTER_SELECTION_CONTEXT_MENU);m.setCustomObject(t);m.registerOnPress(this);}};f.AuGdsInteractiveTableView.prototype.onClick=function(e){};f.AuGdsInteractiveTableView.prototype.onButtonPress=function(e){var p=e.getParameters();var a=f.UiPressedButtonType.lookup(p.getStringByKey(f.UiControlEvent.PARAM_PRESSED_BUTTON_TYPE));if(a===f.UiPressedButtonType.DRILL){var c=p.getIntegerByKey(f.UiControlEvent.PARAM_COLUMN);var r=p.getIntegerByKey(f.UiControlEvent.PARAM_ROW);var b=e.getControl().getCustomObject();var t=b.getColumnTupleElement(c,r);if(f.isNull(t)){t=b.getRowTupleElement(c,r);}if(f.notNull(t)){if(f.AuGdsInteractiveTableView.supportsTupleElementCollapse(t)){t.setNextDrillState(f.DrillState.COLLAPSED);}else if(f.AuGdsInteractiveTableView.supportsTupleElementDrill(t)){t.setNextDrillState(f.DrillState.DRILLED);}else if(f.AuGdsInteractiveTableView.supportsTupleElementExpand(t)){t.setNextDrillState(f.DrillState.EXPANDED);}}this.updateTable();}};f.AuGdsInteractiveTableView.prototype.onQueryExecuted=function(e,r,c){if(e.hasErrors()){this.m_genesis.showErrorToast(e.getSummary());return;}this.rerenderTable();var a=c;if(f.isNull(a)||!f.XString.isEqual(a.getString(),f.AuGdsInteractiveTableView.UNDO_REDO_ACTION_ID)){this.m_application.getProcess().notifyInterruptStep(f.XInterruptStep.create(),false);}this.m_queryExecutedListener.onQueryExecuted(e,r,c);};f.AuGdsInteractiveTableView.prototype.undoRedoActionFinished=function(e,u,c){this.m_queryManager.getActiveResultSetContainer().processExecution(f.SyncType.NON_BLOCKING,this,f.XStringValue.create(f.AuGdsInteractiveTableView.UNDO_REDO_ACTION_ID));};f.AuGdsInteractiveTableView.prototype.onSelect=function(e){var c=e.getControl();switch(c.getName()){case f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN:var d=c.getCustomObject();var a=this.getQueryManager().getConvenienceCommands();var b=d.getName();var g=d.getMainAttribute().getName();a.clearAllAttributeFields(b,g,f.QContextType.RESULT_SET);var k=d.getKeyField()!==null?d.getKeyField().getPresentationType():null;var t=d.getTextField()!==null?d.getTextField().getPresentationType():null;switch(c.getSelectedItem().getName()){case f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_KEY:a.addAttributeField(null,b,g,k,null,f.QContextType.RESULT_SET);break;case f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_TEXT:a.addAttributeField(null,b,g,t,null,f.QContextType.RESULT_SET);break;case f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_KEY_TEXT:a.addAttributeField(null,b,g,k,null,f.QContextType.RESULT_SET);a.addAttributeField(null,b,g,t,null,f.QContextType.RESULT_SET);break;case f.AuGdsInteractiveTableView.ATTRIBUTE_DROPDOWN_TEXT_KEY:a.addAttributeField(null,b,g,t,null,f.QContextType.RESULT_SET);a.addAttributeField(null,b,g,k,null,f.QContextType.RESULT_SET);break;}this.updateTable();break;default:}};f.AuGdsNavigationPanel=function(){};f.AuGdsNavigationPanel.prototype=new f.XObjectExt();f.AuGdsNavigationPanel.prototype._ff_c="AuGdsNavigationPanel";f.AuGdsNavigationPanel.ROW_ICO_NAME="rowIco";f.AuGdsNavigationPanel.COL_ICO_NAME="colIco";f.AuGdsNavigationPanel.createNavPanel=function(g){var o=new f.AuGdsNavigationPanel();o.setupExt(g);return o;};f.AuGdsNavigationPanel.prototype.m_genesis=null;f.AuGdsNavigationPanel.prototype.m_queryManager=null;f.AuGdsNavigationPanel.prototype.m_root=null;f.AuGdsNavigationPanel.prototype.m_rowList=null;f.AuGdsNavigationPanel.prototype.m_colList=null;f.AuGdsNavigationPanel.prototype.m_freeList=null;f.AuGdsNavigationPanel.prototype.m_ignoreEvent=false;f.AuGdsNavigationPanel.prototype.m_editActionListeners=null;f.AuGdsNavigationPanel.prototype.setupExt=function(g){this.m_genesis=g;this.m_editActionListeners=f.XList.create();this.m_root=this.m_genesis.newControl(f.UiType.FLEX_LAYOUT);this.m_root.setDirection(f.UiFlexDirection.COLUMN);this.m_root.useMaxSpace();this.m_rowList=this.createListWithTitle("Row Characteristics");this.m_root.addItem(this.m_rowList);this.m_colList=this.createListWithTitle("Column Characteristics");this.m_root.addItem(this.m_colList);this.m_freeList=this.createListWithTitle("Free Characteristics");this.m_root.addItem(this.m_freeList);};f.AuGdsNavigationPanel.prototype.releaseObject=function(){this.m_editActionListeners.clear();this.m_editActionListeners=f.XObjectExt.release(this.m_editActionListeners);this.m_queryManager=null;this.m_genesis=null;this.m_rowList=null;this.m_colList=null;this.m_freeList=null;this.m_root=f.XObjectExt.release(this.m_root);f.XObjectExt.prototype.releaseObject.call(this);};f.AuGdsNavigationPanel.prototype.addEditActionListener=function(e){this.m_editActionListeners.add(e);};f.AuGdsNavigationPanel.prototype.removeEditActionListener=function(e){this.m_editActionListeners.removeElement(e);};f.AuGdsNavigationPanel.prototype.getQueryManager=function(){return this.m_queryManager;};f.AuGdsNavigationPanel.prototype.getView=function(){return this.m_root;};f.AuGdsNavigationPanel.prototype.getGenesis=function(){return this.m_genesis;};f.AuGdsNavigationPanel.prototype.setQueryManager=function(m){this.unregister();this.m_queryManager=m;this.register();this.updateNavPanel();};f.AuGdsNavigationPanel.prototype.register=function(){if(f.notNull(this.m_queryManager)){var q=this.m_queryManager.getQueryModel();q.getRowsAxis().registerChangedListener(this,null);q.getColumnsAxis().registerChangedListener(this,null);q.getFreeAxis().registerChangedListener(this,null);}};f.AuGdsNavigationPanel.prototype.unregister=function(){if(f.notNull(this.m_queryManager)){var q=this.m_queryManager.getQueryModel();q.getRowsAxis().unregisterChangedListener(this);q.getColumnsAxis().unregisterChangedListener(this);q.getFreeAxis().unregisterChangedListener(this);}};f.AuGdsNavigationPanel.prototype.updateNavPanel=function(){this.m_rowList.clearItems();this.m_colList.clearItems();this.m_freeList.clearItems();if(f.isNull(this.m_queryManager)){return;}var d=this.m_queryManager.getDimensionAccessor().getDimensions();for(var i=0;i<d.size();i++){var a=d.get(i);var b=a.getAxisType();if(b!==f.AxisType.ROWS&&b!==f.AxisType.COLUMNS&&b!==f.AxisType.FREE){continue;}this.addListItem(a);}};f.AuGdsNavigationPanel.prototype.createListWithTitle=function(t){var l=this.m_genesis.newControl(f.UiType.LIST);l.setSelectionMode(f.UiSelectionMode.NONE);l.setFlex("1 1 33%");l.setNewHeader(f.UiType.LABEL).setText(t).setFontWeight(f.UiFontWeight.BOLD);l.registerOnDrop(this);return l;};f.AuGdsNavigationPanel.prototype.addListItem=function(d){var i=this.m_genesis.newControl(f.UiType.CUSTOM_LIST_ITEM);i.setDraggable(true);i.setCustomObject(d);var l=i.setNewContent(f.UiType.FLEX_LAYOUT);l.setJustifyContent(f.UiFlexJustifyContent.SPACE_BETWEEN);l.setAlignContent(f.UiFlexAlignContent.CENTER);l.setHeightCss("32px");l.setPaddingCss("5px");var a=f.XStringUtils.isNotNullAndNotEmpty(d.getText())?d.getText():d.getName();var n=l.addNewItemOfType(f.UiType.LABEL);n.setText(a);n.setFlex("1 0 50%");var r=l.addNewItemOfType(f.UiType.ICON);r.setName(f.AuGdsNavigationPanel.ROW_ICO_NAME);r.setHeightCss("16px");r.setFlex("0 0 16px");r.registerOnPress(f.PressListenerLambda.create(function(){this.m_ignoreEvent=true;if(d.getAxisType()===f.AxisType.ROWS){this.m_queryManager.getQueryModel().getFreeAxis().add(d);}else{this.m_queryManager.getQueryModel().getRowsAxis().add(d);}this.moveItemToList(d,i);this.m_ignoreEvent=false;this.notifyEditActionListeners();}.bind(this)));l.addNewItemOfType(f.UiType.SPACER).setWidthCss("16px");var c=l.addNewItemOfType(f.UiType.ICON);c.setName(f.AuGdsNavigationPanel.COL_ICO_NAME);c.setHeightCss("16px");c.setFlex("0 0 16px");c.registerOnPress(f.PressListenerLambda.create(function(){this.m_ignoreEvent=true;if(d.getAxisType()===f.AxisType.COLUMNS){this.m_queryManager.getQueryModel().getFreeAxis().add(d);}else{this.m_queryManager.getQueryModel().getColumnsAxis().add(d);}this.moveItemToList(d,i);this.m_ignoreEvent=false;this.notifyEditActionListeners();}.bind(this)));this.moveItemToList(d,i);};f.AuGdsNavigationPanel.prototype.notifyEditActionListeners=function(){for(var i=0;i<this.m_editActionListeners.size();i++){this.m_editActionListeners.get(i).notifyEditAction();}};f.AuGdsNavigationPanel.prototype.moveItemToList=function(d,i){var a=d.getAxisType();var c=i.getContent();var r=c.getItemByName(f.AuGdsNavigationPanel.ROW_ICO_NAME);var b=c.getItemByName(f.AuGdsNavigationPanel.COL_ICO_NAME);if(a===f.AxisType.ROWS){this.m_rowList.addItem(i);r.setIcon("table-view");r.setFontColor(f.UiColor.ORANGE.newDarkerColor(0.2));r.setTooltip("Move to free axis");b.setIcon("table-column");b.setFontColor(f.UiColor.BLUE.newDarkerColor(0.2));b.setTooltip("Move to column axis");}else if(a===f.AxisType.COLUMNS){this.m_colList.addItem(i);r.setIcon("table-row");r.setFontColor(f.UiColor.BLUE.newDarkerColor(0.2));r.setTooltip("Move to row axis");b.setIcon("table-view");b.setFontColor(f.UiColor.ORANGE.newDarkerColor(0.2));b.setTooltip("Move to free axis");}else if(a===f.AxisType.FREE){this.m_freeList.addItem(i);r.setIcon("table-row");r.setFontColor(f.UiColor.BLUE.newDarkerColor(0.2));r.setTooltip("Move to row axis");b.setIcon("table-column");b.setFontColor(f.UiColor.BLUE.newDarkerColor(0.2));b.setTooltip("Move to column axis");}};f.AuGdsNavigationPanel.prototype.onModelComponentChanged=function(m,c){if(this.m_ignoreEvent){return;}this.updateNavPanel();};f.AuGdsNavigationPanel.prototype.clearEditActionListeners=function(){this.m_editActionListeners.clear();};f.AuGdsNavigationPanel.prototype.onDrop=function(e){var d=e.getDroppedControl();var a=e.getDraggedControl();if(f.notNull(d)&&f.notNull(a)&&a.getCustomObject()!==null){var b=a.getCustomObject();this.m_ignoreEvent=true;var c=false;if(d===this.m_rowList&&b.getAxisType()!==f.AxisType.ROWS){this.m_queryManager.getQueryModel().getRowsAxis().add(b);c=true;}else if(d===this.m_colList&&b.getAxisType()!==f.AxisType.COLUMNS){this.m_queryManager.getQueryModel().getColumnsAxis().add(b);c=true;}else if(d===this.m_freeList&&b.getAxisType()!==f.AxisType.FREE){this.m_queryManager.getQueryModel().getFreeAxis().add(b);c=true;}if(c){this.moveItemToList(b,a);this.m_ignoreEvent=false;this.notifyEditActionListeners();}else{this.m_ignoreEvent=false;}}};f.AuProteusEngine=function(){};f.AuProteusEngine.prototype=new f.XObjectExt();f.AuProteusEngine.prototype._ff_c="AuProteusEngine";f.AuProteusEngine.HTML_TEMPLATE="<!DOCTYPE html>\r\n<html>\r\n   <head>\r\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"/>\r\n      <meta charset=\"UTF-8\">\r\n      <title>Proteus output</title>\r\n      <script\r\n         id=\"sap-ui-bootstrap\"\r\n         src=\"https://sapui5.hana.ondemand.com/resources/sap-ui-core.js\"\r\n         data-sap-ui-theme=\"sap_bluecrystal\"\r\n         data-sap-ui-libs=\"sap.m\"\r\n         data-sap-ui-compatVersion=\"edge\"\r\n         data-sap-ui-preload=\"async\"\r\n         data-sap-ui-resourceroots='{\r\n            \"sap.ui.demo.wt\": \"./\"\r\n         }' >\r\n      </script>\r\n      <script>\r\n         sap.ui.getCore().attachInit(function () {\r\n            sap.ui.xmlview({\r\n               viewName : \"sap.ui.demo.wt.views.Main\"\r\n            }).placeAt(\"content\");\r\n         });\r\n      </script>\r\n   </head>\r\n   <body class=\"sapUiBody\" id=\"content\">\r\n   </body>\r\n</html>\r\n";f.AuProteusEngine.createEngine=function(q){var n=new f.AuProteusEngine();n.setupEngine(q);return n;};f.AuProteusEngine.prototype.m_quasarJsonContent=null;f.AuProteusEngine.prototype.m_parsingErrors=null;f.AuProteusEngine.prototype.m_xmlViewContent=null;f.AuProteusEngine.prototype.m_parsingDepth=0;f.AuProteusEngine.prototype.releaseObject=function(){this.m_quasarJsonContent=null;this.m_xmlViewContent=null;this.m_parsingErrors=f.XObjectExt.release(this.m_parsingErrors);f.XObjectExt.prototype.releaseObject.call(this);};f.AuProteusEngine.prototype.getLogSeverity=function(){return f.Severity.PRINT;};f.AuProteusEngine.prototype.convert=function(){this.m_xmlViewContent=this.parseDocument();};f.AuProteusEngine.prototype.getHtmlFileContent=function(){return f.AuProteusEngine.HTML_TEMPLATE;};f.AuProteusEngine.prototype.getXmlViewContent=function(){if(f.isNull(this.m_xmlViewContent)){this.m_xmlViewContent=this.parseDocument();}return this.m_xmlViewContent;};f.AuProteusEngine.prototype.setQuasarDocumentJson=function(q){this.m_quasarJsonContent=q;};f.AuProteusEngine.prototype.getParsingErrors=function(){return this.m_parsingErrors;};f.AuProteusEngine.prototype.hasErrors=function(){return this.m_parsingErrors.size()>0;};f.AuProteusEngine.prototype.setupEngine=function(q){this.m_quasarJsonContent=q;this.m_parsingErrors=f.XListOfString.create();};f.AuProteusEngine.prototype.parseDocument=function(){this.m_parsingErrors.clear();if(f.notNull(this.m_quasarJsonContent)){var s=f.XStringBuffer.create();s.appendLine("<mvc:View");s.appendLine("\txmlns=\"sap.m\"");s.appendLine("\txmlns:core=\"sap.ui.core\"");s.appendLine("\txmlns:mvc=\"sap.ui.core.mvc\">");var c=this.m_quasarJsonContent.getStructureByKey(f.UiConstants.QSA_CONTENT);if(f.isNull(c)){c=this.m_quasarJsonContent;}this.m_parsingDepth=1;this.parseControl(c,s,null);s.appendLine("</mvc:View>");return s.toString();}else{this.addParsingError("Missing quasar json document!");}return null;};f.AuProteusEngine.prototype.parseControl=function(c,s,a){var b=c.getStringByKey(f.UiConstants.QSA_CTYPE);var u=f.UiType.lookupUiType(b);if(f.isNull(u)&&f.notNull(a)){u=a;}if(f.notNull(u)){var d=this.getUi5NameForUiType(u);if(f.XStringUtils.isNotNullAndNotEmpty(d)){var h=false;var e=f.XStringUtils.leftPad("","\t",this.m_parsingDepth);s.append(f.XStringUtils.concatenate2(e,"<"));s.append(d);var k=c.getKeysAsReadOnlyListOfString();for(var i=0;i<k.size();i++){var g=k.get(i);var t=f.UiProperty.lookup(g);var v=f.UiUtils.getElementAsString(c,g);if(f.notNull(t)&&t!==f.UiProperty.ID){this.parseProperty(t,v,s);}var j=f.UiAggregation.lookup(g);if(f.notNull(j)){if(h===false){this.m_parsingDepth++;h=true;s.appendLine(">");}var l=c.getListByKey(g);if(f.notNull(l)&&l.size()>0){for(var m=0;m<l.size();m++){var n=l.getStructureAt(m);this.parseControl(n,s,u.getDefaultItemType());}this.m_parsingDepth--;}}}if(h){s.append(f.XStringUtils.concatenate2(e,"<"));s.append("/");s.append(d);s.appendLine(">");}else{s.appendLine("/>");}}else{this.addParsingError(f.XStringUtils.concatenate2("Cannot parse control: ",b));}}else{this.addParsingError(f.XStringUtils.concatenate2("Cannot find control: ",b));}};f.AuProteusEngine.prototype.parseProperty=function(u,v,s){var a=this.getUi5PropertyForUiProperty(u);var p=v;if(f.XStringUtils.isNotNullAndNotEmpty(a)){if(u===f.UiProperty.ICON&&f.XString.startsWith(v,"http")===false){p=f.XStringUtils.concatenate2("sap-icon://",p);}s.append(" ");s.append(a);s.append("=\"");s.append(p);s.append("\"");}else{this.addParsingError(f.XStringUtils.concatenate2("Cannot parse property: ",u.getName()));}};f.AuProteusEngine.prototype.getUi5NameForUiType=function(u){if(u===f.UiType.LABEL){return"Label";}else if(u===f.UiType.BUTTON){return"Button";}else if(u===f.UiType.TEXT){return"Text";}else if(u===f.UiType.INPUT){return"Input";}else if(u===f.UiType.DROPDOWN){return"ActionSelect";}else if(u===f.UiType.DROPDOWN_ITEM){return"core:ListItem";}else if(u===f.UiType.FLEX_LAYOUT){return"FlexBox";}return null;};f.AuProteusEngine.prototype.getUi5PropertyForUiProperty=function(u){if(u===f.UiProperty.NAME){return"id";}else if(u===f.UiProperty.TEXT){return"text";}else if(u===f.UiProperty.ICON){return"icon";}else if(u===f.UiProperty.PLACEHOLDER){return"placeholder";}else if(u===f.UiProperty.WIDTH){return"width";}else if(u===f.UiProperty.HEIGHT){return"height";}else if(u===f.UiProperty.DIRECTION){return"direction";}return null;};f.AuProteusEngine.prototype.addParsingError=function(p){this.m_parsingErrors.add(p);};f.AuProteusShell=function(){};f.AuProteusShell.prototype=new f.DfProgram();f.AuProteusShell.prototype._ff_c="AuProteusShell";f.AuProteusShell.DEFAULT_PROGRAM_NAME="Proteus";f.AuProteusShell.OUTPUT_DIR="output";f.AuProteusShell.prototype.m_proteusEngine=null;f.AuProteusShell.prototype.m_quasarJsonDocument=null;f.AuProteusShell.prototype.m_inputFile=null;f.AuProteusShell.prototype.m_outputDir=null;f.AuProteusShell.prototype.newProgram=function(){var n=new f.AuProteusShell();n.setup();return n;};f.AuProteusShell.prototype.doSetupProgramMetadata=function(m){f.DfProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption(f.DfProgram.PARAM_FILE,"Specify the quasar file","Path to the file",f.XValueType.STRING);m.addOption(f.AuProteusShell.OUTPUT_DIR,"Specify the output directory","The path to the output directory",f.XValueType.STRING);};f.AuProteusShell.prototype.evalArguments=function(){f.DfProgram.prototype.evalArguments.call(this);var s=this.getSession();var a=this.getArgumentStructure();var i=a.getStringByKey(f.DfProgram.PARAM_FILE);if(f.XStringUtils.isNotNullAndNotEmpty(i)===true){this.m_inputFile=f.XFile.createExt(s,i,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);}var o=a.getStringByKey(f.TeAthena.PARAM_TYPE);if(f.XStringUtils.isNotNullAndNotEmpty(o)===true){this.m_outputDir=f.XFile.createExt(s,o,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);}if(f.isNull(this.m_outputDir)){this.m_outputDir=f.XFile.createExt(s,"${ff_tmp}/proteus/",f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);}};f.AuProteusShell.prototype.releaseObject=function(){this.m_quasarJsonDocument=null;this.m_inputFile=f.XObjectExt.release(this.m_inputFile);this.m_outputDir=f.XObjectExt.release(this.m_outputDir);this.m_proteusEngine=f.XObjectExt.release(this.m_proteusEngine);f.DfProgram.prototype.releaseObject.call(this);};f.AuProteusShell.prototype.runProcess=function(){this.println("Proteus quasar -> ui5 converter tool");this.loadQuasarFile();this.exitNow(0);return false;};f.AuProteusShell.prototype.loadQuasarFile=function(){if(f.isNull(this.m_inputFile)){var a="${ff_sdk}/production/queries/proteus/simple_quasar.qsa";var s=this.getSession();this.m_inputFile=f.XFile.createExt(s,a,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);}this.m_inputFile.processLoad(f.SyncType.NON_BLOCKING,this,null,f.CompressionType.NONE);};f.AuProteusShell.prototype.createEngineAndRun=function(){if(f.notNull(this.m_quasarJsonDocument)&&this.m_quasarJsonDocument.size()>0){this.println("Processing document!");this.m_proteusEngine=f.AuProteusEngine.createEngine(this.m_quasarJsonDocument);this.m_proteusEngine.convert();}else{this.println("Specified file is empty or not a quasar document");}};f.AuProteusShell.prototype.saveOutput=function(){if(f.notNull(this.m_proteusEngine)){if(this.m_proteusEngine.hasErrors()){var e=this.m_proteusEngine.getParsingErrors().getIterator();while(e.hasNext()){this.println(e.next());}}else{this.println("Quasar document successfully converted!");}this.println(f.XStringUtils.concatenate2("Saving output to: ",this.m_outputDir.getNativePath()));this.saveIndexHtmlTempalteToFile();this.saveViewFile(this.m_proteusEngine.getXmlViewContent());this.println("Successfully saved!");}};f.AuProteusShell.prototype.saveIndexHtmlTempalteToFile=function(){if(f.isNull(this.m_outputDir)){this.println("Output directory cannot be found!");}else{if(this.m_outputDir.isExisting()===false){this.m_outputDir.mkdirs();}var a=this.m_outputDir.newChild("index.html");if(f.isNull(a)){this.println("Cannot save!");}else{var b=f.XByteArray.convertFromString(this.m_proteusEngine.getHtmlFileContent());a.saveByteArray(b);this.println("HTML file saved!");}}};f.AuProteusShell.prototype.saveViewFile=function(v){if(f.isNull(this.m_outputDir)){this.println("Output directory cannot be found!");}else{var a=this.m_outputDir.newChild("views/");if(a.isExisting()===false){a.mkdirs();}var b=a.newChild("Main.view.xml");if(f.isNull(b)){this.println("Cannot save!");}else{var c=f.XByteArray.convertFromString(v);b.saveByteArray(c);this.println("View file saved!");}}};f.AuProteusShell.prototype.onFileLoaded=function(e,a,b,c){if(e.isValid()){if(f.notNull(b)){var s=b.getString();if(f.XStringUtils.isNotNullAndNotEmpty(s)){var p=f.JsonParserFactory.newInstance();var j=p.parse(s);if(f.notNull(j)){if(p.hasErrors()){this.print("Could not read document!");}else{f.XObjectExt.release(p);if(j.isStructure()){this.println("File loaded!");this.m_quasarJsonDocument=j;this.createEngineAndRun();this.saveOutput();}}}else{this.println("Document is not a json!");}}}}else{this.println("Failed to laod file!");}};f.GyrosCommand=function(){};f.GyrosCommand.prototype=new f.XConstant();f.GyrosCommand.prototype._ff_c="GyrosCommand";f.GyrosCommand.s_commands=null;f.GyrosCommand.SET_HIERARCHY_ON_COUNTRY_DIM=null;f.GyrosCommand.FILTER_ON_AUSTRALIA=null;f.GyrosCommand.FILTER_TYPE_ON_GERMANY=null;f.GyrosCommand.DUPLICATE_AND_LINK_INTERSECT=null;f.GyrosCommand.DUPLICATE_AND_LINK_UNION=null;f.GyrosCommand.LINK_BICS_ATTRIBUTE_VARIABLES_INTERSECT=null;f.GyrosCommand.LINK_BICS_ATTRIBUTE_VARIABLES_UNION=null;f.GyrosCommand.LINK_NONSENSE=null;f.GyrosCommand.LINK_CUSTOMER_ON_DIFFERENT_HIERARCHIES=null;f.GyrosCommand.CLONE_QUERY_MANAGER=null;f.GyrosCommand.SET_VARIABLES_VALUE_Q0005_MS=null;f.GyrosCommand.ADD_MATCH_FILTER=null;f.GyrosCommand.AUGMENT_CURRENCY_VARIABLE=null;f.GyrosCommand.CLEAR_DYNAMIC_FILTER=null;f.GyrosCommand.staticSetupGyrosCommands=function(){f.GyrosCommand.s_commands=f.XListOfNameObject.create();f.GyrosCommand.SET_HIERARCHY_ON_COUNTRY_DIM=f.GyrosCommand.createCommand("SetHierarchyOnCountryDim","Set hierarchy on dim 0BC_COUN");f.GyrosCommand.FILTER_ON_AUSTRALIA=f.GyrosCommand.createCommand("FilterOnAustralia","Filter on country Australia");f.GyrosCommand.FILTER_TYPE_ON_GERMANY=f.GyrosCommand.createCommand("FilterTypeOnGermany","Filter type on country Germany");f.GyrosCommand.DUPLICATE_AND_LINK_INTERSECT=f.GyrosCommand.createCommand("DuplicateAndLinkIntersect","Duplicate and link intersect");f.GyrosCommand.DUPLICATE_AND_LINK_UNION=f.GyrosCommand.createCommand("DuplicateAndLinkUnion","Duplicate and link union");f.GyrosCommand.LINK_BICS_ATTRIBUTE_VARIABLES_INTERSECT=f.GyrosCommand.createCommand("BicsAttributeVariablesIntersect","Intersect link BICS_ATTRIBUTE_VARIABLES");f.GyrosCommand.LINK_BICS_ATTRIBUTE_VARIABLES_UNION=f.GyrosCommand.createCommand("BicsAttributeVariablesUnion","Union link BICS_ATTRIBUTE_VARIABLES");f.GyrosCommand.LINK_NONSENSE=f.GyrosCommand.createCommand("NonsenseIntersect","Intersect completely different variables");f.GyrosCommand.LINK_CUSTOMER_ON_DIFFERENT_HIERARCHIES=f.GyrosCommand.createCommand("LinkCustomerOnDifferentHierarchies","Link customer variable with hierarchy 0BICS_HIER_CUST_TIME_DEP_2");f.GyrosCommand.CLONE_QUERY_MANAGER=f.GyrosCommand.createCommand("CloneQueryManager","Clone the Gyros QueryManager");f.GyrosCommand.SET_VARIABLES_VALUE_Q0005_MS=f.GyrosCommand.createCommand("SetVariableValueQ0005MS","Set variable values for query 0BICS_C03_BICSTEST_Q0005_MS");f.GyrosCommand.ADD_MATCH_FILTER=f.GyrosCommand.createCommand("AddMatchFilter","Add match filter on variable 0BC_TYPE_SE");f.GyrosCommand.AUGMENT_CURRENCY_VARIABLE=f.GyrosCommand.createCommand("AugmentCurrencyVariable","Add a currency variable");f.GyrosCommand.CLEAR_DYNAMIC_FILTER=f.GyrosCommand.createCommand("ClearDynamicFilter","Clear dynamic filter");};f.GyrosCommand.createCommand=function(n,d){var c=new f.GyrosCommand();c._setupInternal(n);c.m_description=d;f.GyrosCommand.s_commands.add(c);return c;};f.GyrosCommand.getAllCommands=function(){return f.GyrosCommand.s_commands;};f.GyrosCommand.getByName=function(n){return f.GyrosCommand.s_commands.getByKey(n);};f.GyrosCommand.prototype.m_description=null;f.GyrosCommand.prototype.execute=function(g){var q=g.getQueryManager();if(f.notNull(q)){var a=q.getQueryModel();var n=this.getName();if(f.XString.isEqual(n,f.GyrosCommand.SET_HIERARCHY_ON_COUNTRY_DIM.getName())){a.getConvenienceCommands().setDimensionHierarchy("0BC_COUN","0BICS_COUN_DEEP_4",true,0);if(!a.getDimensionByName("0BC_COUN").isHierarchyActive()){throw f.XException.createIllegalStateException("Hierarchy could not be set.");}}else if(f.XString.isEqual(n,f.GyrosCommand.FILTER_ON_AUSTRALIA.getName())){a.getConvenienceCommands().addSingleMemberFilterByDimensionName("0BC_COUN","AUS",f.ComparisonOperator.EQUAL);}else if(f.XString.isEqual(n,f.GyrosCommand.FILTER_TYPE_ON_GERMANY.getName())){a.getConvenienceCommands().addSingleMemberFilterByDimensionName("0BC_TYPE","0HIER_NODE!DE",f.ComparisonOperator.EQUAL);}else if(f.XString.isEqual(n,f.GyrosCommand.DUPLICATE_AND_LINK_INTERSECT.getName())||f.XString.isEqual(n,f.GyrosCommand.DUPLICATE_AND_LINK_UNION.getName())){var i=f.XString.isEqual(n,f.GyrosCommand.DUPLICATE_AND_LINK_INTERSECT.getName());g.setLinkage(this.createDuplicateLinkage(g,i?f.OrcaLinkVarJoinMode.INTERSECT:f.OrcaLinkVarJoinMode.UNION));}else if(f.XString.isEqual(n,f.GyrosCommand.LINK_BICS_ATTRIBUTE_VARIABLES_INTERSECT.getName())||f.XString.isEqual(n,f.GyrosCommand.LINK_BICS_ATTRIBUTE_VARIABLES_UNION.getName())){var b=f.XString.isEqual(n,f.GyrosCommand.LINK_BICS_ATTRIBUTE_VARIABLES_INTERSECT.getName());g.setLinkage(this.createBicsAttributeVariablesLinkage(g,b?f.OrcaLinkVarJoinMode.INTERSECT:f.OrcaLinkVarJoinMode.UNION));}else if(f.XString.isEqual(n,f.GyrosCommand.LINK_NONSENSE.getName())){g.setLinkage(this.createNonsenseLink(g,f.OrcaLinkVarJoinMode.INTERSECT));}else if(f.XString.isEqual(n,f.GyrosCommand.LINK_CUSTOMER_ON_DIFFERENT_HIERARCHIES.getName())){g.setLinkage(this.createDifferentHierarchyLinkage(g));}else if(f.XString.isEqual(n,f.GyrosCommand.CLONE_QUERY_MANAGER.getName())){g.getQueryManager().cloneQueryManager();}else if(f.XString.isEqual(n,f.GyrosCommand.SET_VARIABLES_VALUE_Q0005_MS.getName())){var v=g.getQueryManager().getVariableProcessor();var c=v.getVariable("0BC_COUN_WERTEBEREICH");c.setValueByString("DE");}else if(f.XString.isEqual(n,f.GyrosCommand.ADD_MATCH_FILTER.getName())){this.addMatchFilter(a);}else if(f.XString.isEqual(n,f.GyrosCommand.AUGMENT_CURRENCY_VARIABLE.getName())){var p="${ff_sdk}/production/queries/test/olap/fusion/TestOlapFusionCustomVariableCurrencyConversion/minimalAugment.json";var d=f.XFile.createExt(q.getSession(),p,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);if(f.isNull(d)||!d.isExisting()){throw f.XException.createIllegalStateException("File for augment not found.");}var s=d.processLoad(f.SyncType.BLOCKING,null,null,f.CompressionType.NONE);if(s.hasErrors()||d.getFileContent().getString()===null){throw f.XException.createIllegalStateException("File for augment could not be loaded.");}var j=d.getFileContent().getJsonContent();var m=f.XContent.createJsonObjectContent(f.QModelFormat.SFX,j);var e=f.DocConverterFactory.createDocConverter(f.QModelFormat.SFX,f.QModelFormat.INA_REPOSITORY);var h=e.convert(q.getApplication(),m,f.QModelFormat.INA_REPOSITORY);var k=h.getData();q.getQueryModel().deserializeExt(f.QModelFormat.INA_REPOSITORY,k.toString());}else if(f.XString.isEqual(n,f.GyrosCommand.CLEAR_DYNAMIC_FILTER.getName())){a.getConvenienceCommands().clearFilters();}}};f.GyrosCommand.prototype.addMatchFilter=function(q){var v=q.getVariable("0BC_TYPE_SE");var d=v.getDimension();var m=v.getMemberFilter();m.addSupplementField(d.getDisplayKeyField());m.addSupplementField(d.getTextField());var a=m.addNewCartesianElement();a.setComparisonOperator(f.ComparisonOperator.MATCH);a.setField(d.getKeyField());var l=a.getLow();l.setString("C");l.addSupplementValue(d.getDisplayKeyField().getName(),"C");l.addSupplementValue(d.getTextField().getName(),"NSW Soft");};f.GyrosCommand.prototype.createBicsAttributeVariablesLinkage=function(g,m){var r=f.XHashMapByString.create();var q=g.getQueryManager();var a=q.getApplication();var d=q.getDataSource().getFullQualifiedName();if(!f.XString.isEqual(d,"view:[_SYS_BIC][bics.variables][BICS_ATTRIBUTE_VARIABLES]")){return r;}var s=q.getSystemName();var b=f.QueryServiceConfig.createWithDataSourceName(a,s,"view:[_SYS_BIC][bics.other][BICS_MEMBERS_WITH_EMPTY_AND_NULL_KEYS]");var c=b.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(c.hasErrors()){return r;}var l=c.getData();var e=l.getVariable("INT_ID_VAR");var h=q.getVariable("CUSTOMER_M_S");r.put(h.getName(),f.XPair.create(m,f.XCollectionUtils.singletonList(e)));var i=q.getVariable("PRODUCT_M_I");r.put(i.getName(),f.XPair.create(m,f.XCollectionUtils.singletonList(e)));return r;};f.GyrosCommand.prototype.createDuplicateLinkage=function(g,m){var r=f.XHashMapByString.create();var a=g.getQueryManager();var s=a.getSystemName();var d=a.getDataSource();var b=f.QueryServiceConfig.createWithDataSourceName(g.getApplication(),s,d.getFullQualifiedName());var c=b.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(c.hasErrors()){return r;}var l=c.getData();var v=a.getInputEnabledAndNonTechnicalVariables();for(var i=0;i<v.size();i++){var e=v.get(i);var h=e.getName();var j=l.getVariable(h);r.put(h,f.XPair.create(m,f.XCollectionUtils.singletonList(j)));}return r;};f.GyrosCommand.prototype.createDifferentHierarchyLinkage=function(g){var r=f.XHashMapByString.create();var m=g.getQueryManager();var s=m.getSystemName();var d=m.getDataSource();var a=f.QueryServiceConfig.createWithDataSourceName(g.getApplication(),s,d.getFullQualifiedName());var b=a.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(b.hasErrors()){return r;}var l=b.getData();l.getVariable("0BC_CUST_HIERARCHY_INPUT").setValueByString("0BICS_HIER_CUST_TIME_DEP_2");r.put("0BC_CUST_NODE",f.XPair.create(f.OrcaLinkVarJoinMode.INTERSECT,f.XCollectionUtils.singletonList(l.getVariable("0BC_CUST_NODE"))));return r;};f.GyrosCommand.prototype.createNonsenseLink=function(g,m){var r=f.XHashMapByString.create();var a=g.getQueryManager();if(!f.XString.isEqual(a.getDataSource().getFullQualifiedName(),"query:[][][0BOC_TEST_VARIABLE_TYPES_1]")){return r;}var s=a.getSystemName();var b=f.QueryServiceConfig.createWithDataSourceName(g.getApplication(),s,"query:[0BOC_TEST_VARIABLE_TYPES_2]");var c=b.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(c.hasErrors()){return r;}var d=a.getVariable("0BICS_PCOUN");var l=c.getData().getVariable("0BC_CUST_HIERARCHY_INPUT");r.put(d.getName(),f.XPair.create(m,f.XCollectionUtils.singletonList(l)));return r;};f.GyrosCommand.prototype.getDescription=function(){return this.m_description;};f.AnalyticCardsProgram=function(){};f.AnalyticCardsProgram.prototype=new f.DfApplicationProgram();f.AnalyticCardsProgram.prototype._ff_c="AnalyticCardsProgram";f.AnalyticCardsProgram.DEFAULT_PROGRAM_NAME="AnalyticCards";f.AnalyticCardsProgram.SYSTEM_NAME="system";f.AnalyticCardsProgram.STORY_ID="story";f.AnalyticCardsProgram.CHART_WIDTH="width";f.AnalyticCardsProgram.CHART_HEIGHT="height";f.AnalyticCardsProgram.main=function(){f.ApplicationUiModule.getInstance();var a=f.KernelBoot.createByName(f.AnalyticCardsProgram.DEFAULT_PROGRAM_NAME);a.setArgument("story","87FE2F7A2943E2C3804B171509035B7");a.setArgument("system","starkiller");a.setDefaultSyncType(f.SyncType.BLOCKING);a.runFull();};f.AnalyticCardsProgram.prototype.m_systemName=null;f.AnalyticCardsProgram.prototype.m_storyId=null;f.AnalyticCardsProgram.prototype.m_chartHeight=0;f.AnalyticCardsProgram.prototype.m_chartWidth=0;f.AnalyticCardsProgram.prototype.m_orcaService=null;f.AnalyticCardsProgram.prototype.newProgram=function(){var n=new f.AnalyticCardsProgram();n.setup();return n;};f.AnalyticCardsProgram.prototype.doSetupProgramMetadata=function(m){f.DfApplicationProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption(f.AnalyticCardsProgram.SYSTEM_NAME,"The system name","",f.XValueType.STRING);m.addOption(f.AnalyticCardsProgram.STORY_ID,"The story id name","",f.XValueType.STRING);m.addOption(f.AnalyticCardsProgram.CHART_HEIGHT,"The chart height in px","",f.XValueType.STRING);m.addOption(f.AnalyticCardsProgram.CHART_WIDTH,"The chart width in px","",f.XValueType.STRING);};f.AnalyticCardsProgram.prototype.runProcess=function(){var a=this.getArgumentStructure();if(f.notNull(a)){this.m_systemName=a.getStringByKey(f.AnalyticCardsProgram.SYSTEM_NAME);this.m_storyId=a.getStringByKey(f.AnalyticCardsProgram.STORY_ID);this.m_chartHeight=f.XInteger.convertFromString(a.getStringByKeyExt(f.AnalyticCardsProgram.CHART_HEIGHT,"0"));this.m_chartWidth=f.XInteger.convertFromString(a.getStringByKeyExt(f.AnalyticCardsProgram.CHART_WIDTH,"0"));var s=this.getApplication().getSystemLandscape();if(f.XStringUtils.containsString(this.m_systemName,"http://",true)||f.XStringUtils.containsString(this.m_systemName,"https://",true)){var b=f.XUri.createFromUrl(this.m_systemName);this.m_systemName=f.OcOrcaServiceConfig.ORCA_MASTER_SYSTEM_NAME;s.setSystemByUri(this.m_systemName,b,null);}else{s.setMasterSystemName(this.m_systemName);}var c=f.OcOrcaServiceConfig.create(this.getApplication(),this.m_systemName);var o=c.processOrcaServiceCreation(f.SyncType.BLOCKING,null,null);this.log(o.getSummary());if(o.isValid()){this.m_orcaService=o.getData();if(f.notNull(this.m_orcaService)){var l=this.m_orcaService.processSystemLandscapeLoad(f.SyncType.BLOCKING,null,null);this.log(l.getSummary());var d=l.getData();for(var i=0;i<d.size();i++){var e=d.get(i);s.setSystemByDescription(e);}var g=this.m_orcaService.processStoryLoad(null,null,null,this.m_storyId);this.log(g.getSummary());var h=g.getData();var q=f.OcQuasarStory.create(h);q.setQuasarMainLayoutType(f.OcLayoutType.CANVAS);var j=q.getQuasarCompositeAnalyticalCardDocument();var k=f.QuasarEngine.create(this.getApplication());k.setDocument(j);var u=f.UiServerManager.create(this.getSession(),f.XPlatform.GENERIC);var p=this.getProcess();p.setEntity(f.ProcessEntity.GUI,u);var m=p.getSelector();m.registerSelector(f.SigSelDomain.UI,u.getSigSelProviderSelector());m.registerSelector(f.SigSelDomain.DIALOG,u.getSigSelProviderSelector());var n=f.UiGenesis.create(u.getAnchor(),f.UiPosition.CONTENT,f.UiOperation.SET,0,0);k.buildUi(n);var r=this.constructOutput(u);var t=f.XContent.createContent();this.addDimensionsToChartJson(r,this.m_chartHeight,this.m_chartWidth);t.setJsonObject(r);this.getProgramContainer().setExitContent(t);this.println(r.toString());}}else{f.XLogger.println(o.getSummary());}return false;}return false;};f.AnalyticCardsProgram.prototype.addDimensionsToChartJson=function(o,h,w){if(f.notNull(o)&&o.containsKey("chart")){var c=o.getStructureByKey("chart");if(f.notNull(c)){var s=c.getStructureByKey("chart");if(f.notNull(s)){if(w>0){s.putInteger("width",w);}if(h>0){s.putInteger("height",h);}}}}};f.AnalyticCardsProgram.prototype.constructOutput=function(u){var o=f.PrFactory.createStructure();var s=u.getSelector();var c=s.selectComponentsByExpr("ui:.Chart",f.SigSelDomain.UI,null,2);var a;var m;if(f.notNull(c)&&c.size()>0){a=c.get(0);m=a.getModelJson();o.put("chart",m);}c=s.selectComponentsByExpr("ui:.Card",f.SigSelDomain.UI,null,2);if(f.notNull(c)&&c.size()>0){a=c.get(0);m=a.getModelJson();var b=m;b=b.getStructureByKey("sap.card");if(f.notNull(b)){b=b.getStructureByKey("header");if(f.notNull(b)){o.put("kpi",b);}}}c=s.selectComponentsByExpr("ui:.VizGrid",f.SigSelDomain.UI,null,2);if(f.notNull(c)&&c.size()>0){a=c.get(0);m=a.getModelJson();o.put("grid",m);}c=s.selectComponentsByExpr("ui:.Text",f.SigSelDomain.UI,null,2);if(f.notNull(c)&&c.size()>0){var h=o.putNewStructure("header");a=c.get(0);var t=a.getText();h.putString("title",t);h.putString("description",t);h.putString("publicUrl",c.get(1).getText());}return o;};f.McCellType=function(){};f.McCellType.prototype=new f.XConstantWithParent();f.McCellType.prototype._ff_c="McCellType";f.McCellType.INITIAL=null;f.McCellType.VALUE=null;f.McCellType.STRING=null;f.McCellType.DOUBLE=null;f.McCellType.EXPRESSION=null;f.McCellType.staticSetup=function(){f.McCellType.INITIAL=f.McCellType.create("Initial",null);f.McCellType.VALUE=f.McCellType.create("Value",null);f.McCellType.STRING=f.McCellType.create("String",f.McCellType.VALUE);f.McCellType.DOUBLE=f.McCellType.create("Double",f.McCellType.DOUBLE);f.McCellType.EXPRESSION=f.McCellType.create("Expression",null);};f.McCellType.create=function(n,p){var t=new f.McCellType();t.setupExt(n,p);return t;};f.AuDatasourcePicker=function(){};f.AuDatasourcePicker.prototype=new f.DfUiProgram();f.AuDatasourcePicker.prototype._ff_c="AuDatasourcePicker";f.AuDatasourcePicker.DEFAULT_PROGRAM_NAME="DatasourcePicker";f.AuDatasourcePicker.PAGE_SIZE=25;f.AuDatasourcePicker.MAX_RECENT_RECORDS=15;f.AuDatasourcePicker.PARAM_APPLICATION="application";f.AuDatasourcePicker.PARAM_SYSTEM="system";f.AuDatasourcePicker.PARAM_LISTENER="listener";f.AuDatasourcePicker.DS_PICKER_RECENT="dsPicker_recent";f.AuDatasourcePicker.prototype.m_app=null;f.AuDatasourcePicker.prototype.m_systemsByType=null;f.AuDatasourcePicker.prototype.m_currentCatalogManager=null;f.AuDatasourcePicker.prototype.m_currentData=null;f.AuDatasourcePicker.prototype.m_currentPage=0;f.AuDatasourcePicker.prototype.m_startSystemName=null;f.AuDatasourcePicker.prototype.m_root=null;f.AuDatasourcePicker.prototype.m_systemTypeDd=null;f.AuDatasourcePicker.prototype.m_systemDd=null;f.AuDatasourcePicker.prototype.m_querySearch=null;f.AuDatasourcePicker.prototype.m_queryTbl=null;f.AuDatasourcePicker.prototype.m_left=null;f.AuDatasourcePicker.prototype.m_right=null;f.AuDatasourcePicker.prototype.m_recentTbl=null;f.AuDatasourcePicker.prototype.m_cancelBtn=null;f.AuDatasourcePicker.prototype.m_listener=null;f.AuDatasourcePicker.prototype.newProgram=function(){var p=new f.AuDatasourcePicker();p.setup();return p;};f.AuDatasourcePicker.prototype.getDefaultProgramDevice=function(){return f.ProgramDevice.DIALOG;};f.AuDatasourcePicker.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameter(f.AuDatasourcePicker.PARAM_APPLICATION,"The application to use.");m.addParameter(f.AuDatasourcePicker.PARAM_SYSTEM,"The system that was picked earlier.");m.addParameter(f.AuDatasourcePicker.PARAM_LISTENER,"The system that was picked earlier.");};f.AuDatasourcePicker.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);this.m_app=this.getArguments().getXObjectByKey(f.AuDatasourcePicker.PARAM_APPLICATION);this.m_startSystemName=this.getArgumentStructure().getStringByKeyExt(f.AuDatasourcePicker.PARAM_SYSTEM,null);this.m_listener=this.getArguments().getXObjectByKey(f.AuDatasourcePicker.PARAM_LISTENER);};f.AuDatasourcePicker.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);if(f.isNull(this.m_app)){this.m_app=this.getApplication();}this.m_systemsByType=f.XHashMapByString.create();var s=this.getProcess().getSystemLandscape();var a=s.getSystemNames().getIterator();while(a.hasNext()){var b=a.next();var c=s.getSystemDescription(b);var d=c.getSystemType().getName();var e=this.m_systemsByType.getByKey(d);if(f.isNull(e)){e=f.XList.create();this.m_systemsByType.put(d,e);}e.add(c);}f.XObjectExt.release(a);};f.AuDatasourcePicker.prototype.buildUi=function(g){this.m_root=g.newRoot(f.UiType.FLEX_LAYOUT);this.m_root.setDirection(f.UiFlexDirection.COLUMN);this.m_root.useMaxSpace();this.m_root.setPaddingCss("10px");var s=this.m_root.addNewItemOfType(f.UiType.TAB_STRIP);this.buildCatalogUi(s.addNewItem());this.buildRecentUi(s.addNewItem());var a=this.m_app.getSystemLandscape().getSystemDescription(this.m_startSystemName);this.fillSystemTypes();if(f.notNull(a)){this.m_systemTypeDd.setSelectedName(a.getSystemType().getName());}this.fillSystems();if(f.notNull(a)){this.m_systemDd.setSelectedName(a.getSystemName());}this.fillQueries();};f.AuDatasourcePicker.prototype.buildCatalogUi=function(c){c.setText("Catalog");var a=c.setNewContent(f.UiType.FLEX_LAYOUT);a.setDirection(f.UiFlexDirection.COLUMN);var h=a.addNewItemOfType(f.UiType.FLEX_LAYOUT);h.setJustifyContent(f.UiFlexJustifyContent.START);h.setAlignContent(f.UiFlexAlignContent.CENTER);this.m_systemTypeDd=h.addNewItemOfType(f.UiType.COMBO_BOX);this.m_systemTypeDd.setWidthCss("180px");this.m_systemTypeDd.setMarginCss("5px");this.m_systemTypeDd.setFlex("1 0 auto");this.m_systemTypeDd.registerOnSelect(this);this.m_systemDd=h.addNewItemOfType(f.UiType.COMBO_BOX);this.m_systemDd.setWidthCss("180px");this.m_systemDd.setMarginCss("5px");this.m_systemDd.setFlex("1 0 auto");this.m_systemDd.registerOnSelect(this);this.m_querySearch=h.addNewItemOfType(f.UiType.SEARCH_FIELD);this.m_querySearch.setWidthCss("220px");this.m_querySearch.setMarginCss("5px");this.m_querySearch.setFlex("2 0 auto");this.m_querySearch.registerOnSearch(this);this.m_querySearch.setName("DataSourcePickerSearch");this.m_queryTbl=a.addNewItemOfType(f.UiType.TABLE);this.m_queryTbl.setName("DataSourcePickerTable");this.m_queryTbl.setFlex("auto");this.m_queryTbl.setSelectionMode(f.UiSelectionMode.SINGLE_SELECT);this.m_queryTbl.setSelectionBehavior(f.UiSelectionBehavior.ROW);this.m_queryTbl.setVisibleRowCountMode(f.UiVisibleRowCountMode.AUTO);this.m_queryTbl.setMinRowCount(2);this.m_queryTbl.addNewColumn().setTitle("Name");this.m_queryTbl.addNewColumn().setTitle("Description");this.m_queryTbl.registerOnSelectionChange(this);var b=a.addNewItemOfType(f.UiType.FLEX_LAYOUT);b.setJustifyContent(f.UiFlexJustifyContent.CENTER);this.m_left=b.addNewItemOfType(f.UiType.BUTTON);this.m_left.setIcon("navigation-left-arrow");this.m_left.setPaddingCss("4px");this.m_left.registerOnPress(this);this.m_right=b.addNewItemOfType(f.UiType.BUTTON);this.m_right.setIcon("navigation-right-arrow");this.m_right.setPaddingCss("4px");this.m_right.registerOnPress(this);};f.AuDatasourcePicker.prototype.buildRecentUi=function(r){r.setText("Recent");var a=r.setNewContent(f.UiType.FLEX_LAYOUT);a.setDirection(f.UiFlexDirection.COLUMN);this.m_recentTbl=a.addNewItemOfType(f.UiType.TABLE);this.m_recentTbl.setFlex("auto");this.m_recentTbl.setSelectionMode(f.UiSelectionMode.SINGLE_SELECT);this.m_recentTbl.setSelectionBehavior(f.UiSelectionBehavior.ROW);this.m_recentTbl.setVisibleRowCountMode(f.UiVisibleRowCountMode.AUTO);this.m_recentTbl.setMinRowCount(2);this.m_recentTbl.addNewColumn().setTitle("Name");this.m_recentTbl.addNewColumn().setTitle("Description");this.m_recentTbl.registerOnSelectionChange(this);this.m_recentTbl.setName("DataSourcePickerTable");this.loadRecent();};f.AuDatasourcePicker.prototype.getDialogButtons=function(g){this.m_cancelBtn=g.newControl(f.UiType.DIALOG_BUTTON);this.m_cancelBtn.setName("DataSourcePickerCancel");this.m_cancelBtn.setText("Cancel");this.m_cancelBtn.registerOnPress(this);var t=f.XList.create();t.add(this.m_cancelBtn);return t;};f.AuDatasourcePicker.prototype.onSelect=function(e){var c=e.getControl();if(c===this.m_systemTypeDd){this.fillSystems();this.fillQueries();}else if(c===this.m_systemDd){this.fillQueries();}};f.AuDatasourcePicker.prototype.onSearch=function(e){var c=e.getControl();if(c===this.m_querySearch){this.m_currentPage=0;this.processFetch();}};f.AuDatasourcePicker.prototype.onPress=function(e){var c=e.getControl();if(c===this.m_left){this.m_currentPage=this.m_currentPage-1;this.processFetch();}else if(c===this.m_right){this.m_currentPage=this.m_currentPage+1;this.processFetch();}else if(c===this.m_cancelBtn){this.saveRecent(null);this.exitNow(0);}};f.AuDatasourcePicker.prototype.loadRecent=function(){this.m_recentTbl.clearRows();var r=this.getProcess().getUserManager().getUserSettings().getStringByKey(f.AuDatasourcePicker.DS_PICKER_RECENT);if(f.XStringUtils.isNullOrEmpty(r)){return;}var e=f.XStringTokenizer.splitString(r,";");for(var i=0;i<e.size();i++){var a=f.XStringTokenizer.splitString(e.get(i),",");if(f.isNull(a)||a.size()<2){continue;}var s=a.get(0);var b=a.get(1);if(f.XStringUtils.isNullOrEmpty(s)||f.XStringUtils.isNullOrEmpty(b)){continue;}var d=f.QFactory.createDataSourceWithFqn(b);d.setSystemName(s);var c=this.m_recentTbl.addNewRow();c.addNewCell().setText(s);c.addNewCell().setText(d.getName());c.setCustomObject(d);}};f.AuDatasourcePicker.prototype.saveRecent=function(n){var b=f.XStringBuffer.create();var e=f.XHashSetOfString.create();if(f.notNull(n)){var a=f.XStringUtils.concatenate3(n.getSystemName(),",",n.getFullQualifiedName());b.append(a);e.add(a);}var r=this.m_recentTbl.getRows();for(var i=0;i<r.size()&&i<f.AuDatasourcePicker.MAX_RECENT_RECORDS-1;i++){var c=r.get(i);var d=c.getCustomObject();var g=f.XStringUtils.concatenate3(d.getSystemName(),",",d.getFullQualifiedName());if(e.contains(g)){continue;}b.append(";").append(g);}this.getProcess().getUserManager().getUserSettings().putString(f.AuDatasourcePicker.DS_PICKER_RECENT,b.toString());};f.AuDatasourcePicker.prototype.onSelectionChange=function(e){var c=e.getControl();var s=c.getSelectedItem();if(c===this.m_queryTbl){var a=s.getCustomObject();var d=f.QFactory.createDataSource();d.setSystemName(this.m_systemDd.getSelectedName());d.setType(a.getType());d.setEnvironmentName(a.getEnvironmentName());d.setSchemaName(a.getSchemaName());d.setPackageName(a.getPackageName());d.setObjectName(a.getObjectName());this.saveRecent(d);this.m_listener.onDatasourceSelected(d);this.exitNow(0);}else if(c===this.m_recentTbl){var b=s.getCustomObject();this.saveRecent(b);this.m_listener.onDatasourceSelected(b);this.exitNow(0);}};f.AuDatasourcePicker.prototype.fillSystemTypes=function(){this.m_systemTypeDd.clearItems();this.m_systemTypeDd.addNewItem();var s=this.m_systemsByType.getKeysAsReadOnlyListOfString();for(var i=0;i<s.size();i++){var a=s.get(i);var b=this.m_systemTypeDd.addNewItem();b.setName(a).setText(a);}};f.AuDatasourcePicker.prototype.fillSystems=function(){this.m_systemDd.setEnabled(false);this.m_systemDd.clearItems();var s=this.m_systemTypeDd.getSelectedName();if(f.XStringUtils.isNullOrEmpty(s)){return;}this.m_systemDd.addNewItem();var a=this.m_systemsByType.getByKey(s);for(var i=0;i<a.size();i++){var b=a.get(i);var c=this.m_systemDd.addNewItem();c.setName(b.getName()).setText(b.getName());}this.m_systemDd.setEnabled(true);};f.AuDatasourcePicker.prototype.fillQueries=function(){this.m_querySearch.setEnabled(false);this.m_left.setEnabled(false);this.m_right.setEnabled(false);this.m_currentPage=0;this.m_queryTbl.clearRows();f.XObjectExt.release(this.m_currentCatalogManager);var s=this.m_systemDd.getSelectedName();if(f.XStringUtils.isNullOrEmpty(s)){return;}this.createCatalogManager();};f.AuDatasourcePicker.prototype.createCatalogManager=function(){var s=this.m_systemTypeDd.getSelectedName();var a=this.m_systemsByType.getByKey(s);if(f.isNull(a)){return;}var b=this.m_systemDd.getSelectedName();var c=this.findSystem(a,b);if(f.isNull(c)){return;}var d=f.OlapCatalogApiModule.SERVICE_TYPE_OLAP_CATALOG.createServiceConfig(this.m_app);d.setSystemName(b);this.m_queryTbl.setBusy(true);d.processOlapCatalogManagerCreation(f.SyncType.NON_BLOCKING,this,null);};f.AuDatasourcePicker.prototype.onOlapCatalogManagerCreated=function(e,o,c){this.m_queryTbl.setBusy(false);if(e.hasErrors()){this.showError(e.getSummary());return;}this.m_currentCatalogManager=e.getData();var s=f.SystemType.lookup(this.m_systemTypeDd.getSelectedName());if(s.isTypeOf(f.SystemType.ABAP)){this.m_currentCatalogManager.setSelectedType(f.MetaObjectType.QUERY);}else if(s.isTypeOf(f.SystemType.HANA)){this.m_currentCatalogManager.setSelectedType(f.MetaObjectType.DBVIEW);}else if(s.isTypeOf(f.SystemType.UNV)){this.m_currentCatalogManager.setSelectedType(f.MetaObjectType.UNX);}else{throw f.XException.createIllegalArgumentException(f.XStringUtils.concatenate2("no meta object type for system ",this.m_systemTypeDd.getSelectedName()));}this.m_currentCatalogManager.setResultMaxSize(f.AuDatasourcePicker.PAGE_SIZE+1);this.processFetch();this.m_querySearch.setEnabled(true);};f.AuDatasourcePicker.prototype.findSystem=function(s,a){for(var i=0;i<s.size();i++){var b=s.get(i);if(f.XString.isEqual(a,b.getName())){return b;}}return null;};f.AuDatasourcePicker.prototype.processFetch=function(){this.m_currentCatalogManager.setSearchFilter(null);if(f.XStringUtils.isNotNullAndNotEmpty(this.m_querySearch.getText())){var s=f.XStringUtils.concatenate3("*",this.m_querySearch.getText(),"*");this.m_currentCatalogManager.setSearchFilter(s);this.m_currentCatalogManager.setSearchOnName(true);}this.m_currentCatalogManager.setResultOffset(this.m_currentPage*f.AuDatasourcePicker.PAGE_SIZE);this.m_queryTbl.setBusy(true);this.m_currentCatalogManager.processGetResult(f.SyncType.NON_BLOCKING,this,null);};f.AuDatasourcePicker.prototype.onOlapCatalogResult=function(e,r,c){this.m_queryTbl.setBusy(false);if(e.hasErrors()){this.showError(e.getSummary());return;}this.m_currentData=e.getData().getObjectsList();this.updateTable();};f.AuDatasourcePicker.prototype.updateTable=function(){this.m_queryTbl.clearRows();for(var i=0;i<this.m_currentData.size();i++){if(i>=f.AuDatasourcePicker.PAGE_SIZE){break;}var c=this.m_currentData.get(i);var r=this.m_queryTbl.addNewRow();r.addNewCell().setText(c.getName());r.addNewCell().setText(c.getText());r.setCustomObject(c);}this.updatePageButtons();};f.AuDatasourcePicker.prototype.updatePageButtons=function(){this.m_left.setEnabled(this.m_currentPage>0);this.m_right.setEnabled(this.m_currentData.size()>f.AuDatasourcePicker.PAGE_SIZE);};f.AuDatasourcePicker.prototype.showError=function(m){this.getGenesis().showErrorToast(m);};f.AuDatasourcePicker.prototype.releaseObject=function(){this.m_systemsByType=f.XObjectExt.release(this.m_systemsByType);this.m_currentCatalogManager=f.XObjectExt.release(this.m_currentCatalogManager);this.m_currentData=f.XObjectExt.release(this.m_currentData);this.m_startSystemName=null;this.m_root=f.XObjectExt.release(this.m_root);this.m_systemTypeDd=null;this.m_systemDd=null;this.m_querySearch=null;this.m_queryTbl=null;this.m_left=null;this.m_right=null;this.m_recentTbl=null;this.m_cancelBtn=null;this.m_listener=null;f.DfUiProgram.prototype.releaseObject.call(this);};f.CatalogDialogDummyProgram=function(){};f.CatalogDialogDummyProgram.prototype=new f.DfUiProgram();f.CatalogDialogDummyProgram.prototype._ff_c="CatalogDialogDummyProgram";f.CatalogDialogDummyProgram.DEFAULT_PROGRAM_NAME="Catalog";f.CatalogDialogDummyProgram.CURRENCY_CATALOG_BUTTON="currencyCatalogButton";f.CatalogDialogDummyProgram.CURRENCY_TRANSLATION_CATALOG_BUTTON="currencyTranslationCatalogButton";f.CatalogDialogDummyProgram.HIERARCHY_CATALOG_BUTTON="hierarchyCatalogButton";f.CatalogDialogDummyProgram.PARAM_SYSTEM="system";f.CatalogDialogDummyProgram.PARAM_DATASOURCE="datasource";f.CatalogDialogDummyProgram.PARAM_DIMENSION="dimension";f.CatalogDialogDummyProgram.prototype.m_root=null;f.CatalogDialogDummyProgram.prototype.m_system=null;f.CatalogDialogDummyProgram.prototype.m_datasource=null;f.CatalogDialogDummyProgram.prototype.m_dimension=null;f.CatalogDialogDummyProgram.prototype.m_messageManager=null;f.CatalogDialogDummyProgram.prototype.m_queryManager=null;f.CatalogDialogDummyProgram.prototype.m_layout=null;f.CatalogDialogDummyProgram.prototype.m_systemInput=null;f.CatalogDialogDummyProgram.prototype.m_dataSourceInput=null;f.CatalogDialogDummyProgram.prototype.m_dimensionInput=null;f.CatalogDialogDummyProgram.prototype.m_currencyCatalogButton=null;f.CatalogDialogDummyProgram.prototype.m_currencyTranslationCatalogButton=null;f.CatalogDialogDummyProgram.prototype.m_hierarchyCatalogButton=null;f.CatalogDialogDummyProgram.prototype.m_currencyCatalogController=null;f.CatalogDialogDummyProgram.prototype.m_currencyTranslationCatalogController=null;f.CatalogDialogDummyProgram.prototype.m_hierarchyCatalogController=null;f.CatalogDialogDummyProgram.prototype.getParameterValue=function(n){var v=this.getSession().getEnvironment().getStringByKey(n);if(f.XStringUtils.isNullOrEmpty(v)){v=this.getArgumentStructure().getStringByKey(n);}return v;};f.CatalogDialogDummyProgram.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);this.m_system=this.getParameterValue(f.CatalogDialogDummyProgram.PARAM_SYSTEM);this.m_datasource=this.getParameterValue(f.CatalogDialogDummyProgram.PARAM_DATASOURCE);this.m_dimension=this.getParameterValue(f.CatalogDialogDummyProgram.PARAM_DIMENSION);if(f.XStringUtils.isNullOrEmpty(this.m_system)&&f.XStringUtils.isNullOrEmpty(this.m_datasource)){this.m_system="KIW";this.m_datasource="query:[0BICS_C03_BICSTEST_Q0020]";this.m_dimension="0BC_CUST";}};f.CatalogDialogDummyProgram.prototype.newProgram=function(){var p=new f.CatalogDialogDummyProgram();p.setup();return p;};f.CatalogDialogDummyProgram.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);var d=f.OlapUiDisplayFactory.createFactoryForDialog(this.getUiManager());var c=f.OlapUiContext.createContext(this.getUiManager(),d);this.m_currencyCatalogController=f.CurrencyCatalogController.create(c);this.m_currencyTranslationCatalogController=f.CurrencyTranslationCatalogController.create(c);this.m_hierarchyCatalogController=f.HierarchyCatalogController.create(c);this.m_root=this.buildTree(g);g.setRoot(this.m_root);this.setTitle("\u03C0\u03BF\u03B4\u03B7\u03BB\u03AC\u03C4\u03B7\u03C2 client");};f.CatalogDialogDummyProgram.prototype.buildTree=function(g){this.m_layout=g.newControl(f.UiType.VERTICAL_LAYOUT);this.m_systemInput=g.newControl(f.UiType.INPUT);this.m_dataSourceInput=g.newControl(f.UiType.INPUT);this.m_dimensionInput=g.newControl(f.UiType.INPUT);this.m_systemInput.registerOnLiveChange(this);this.m_dataSourceInput.registerOnLiveChange(this);this.m_dimensionInput.registerOnLiveChange(this);this.m_currencyTranslationCatalogButton=this.m_layout.addNewItemOfType(f.UiType.BUTTON);this.m_currencyTranslationCatalogButton.setText("Currency Translations ...");this.m_currencyTranslationCatalogButton.setName(f.CatalogDialogDummyProgram.CURRENCY_TRANSLATION_CATALOG_BUTTON);this.m_currencyTranslationCatalogButton.registerOnPress(this);this.m_currencyCatalogButton=this.m_layout.addNewItemOfType(f.UiType.BUTTON);this.m_currencyCatalogButton.setText("Target Currencies ...");this.m_currencyCatalogButton.setName(f.CatalogDialogDummyProgram.CURRENCY_CATALOG_BUTTON);this.m_currencyCatalogButton.registerOnPress(this);this.m_hierarchyCatalogButton=this.m_layout.addNewItemOfType(f.UiType.BUTTON);this.m_hierarchyCatalogButton.setText("Hierarchies ...");this.m_hierarchyCatalogButton.setName(f.CatalogDialogDummyProgram.HIERARCHY_CATALOG_BUTTON);this.m_hierarchyCatalogButton.registerOnPress(this);this.fillDataSourceSeletWidgets();return this.m_layout;};f.CatalogDialogDummyProgram.prototype.fillDataSourceSeletWidgets=function(){this.m_systemInput.setText(this.m_system);this.m_dataSourceInput.setText(this.m_datasource);};f.CatalogDialogDummyProgram.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);f.ApplicationUiModule.getInstance();this.m_messageManager=f.MessageManager.createMessageManagerExt(this.getSession());f.OlapUiValueHelpAbstract.s_syncType=f.SyncType.BLOCKING;var t=f.TraceInfo.create();t.setTraceType(f.TraceType.URL);t.setTraceName("catalog dialog");this.getApplication().getConnectionPool().setTraceInfo(this.m_system,t);};f.CatalogDialogDummyProgram.prototype.onPress=function(e){var c=e.getControl();var a=c.getName();switch(a){case f.CatalogDialogDummyProgram.CURRENCY_CATALOG_BUTTON:this.createCurrencyCatalog();break;case f.CatalogDialogDummyProgram.CURRENCY_TRANSLATION_CATALOG_BUTTON:this.createCurrencyTranslationCatalog();break;case f.CatalogDialogDummyProgram.HIERARCHY_CATALOG_BUTTON:this.createHierarchyCatalog();break;}};f.CatalogDialogDummyProgram.prototype.createCurrencyCatalog=function(){var s=f.OlapCatalogApiModule.SERVICE_TYPE_OLAP_CATALOG.createServiceConfig(this.getApplication());s.setSystemName(this.m_system);s.processCurrencyCatalogManagerCreation(f.SyncType.NON_BLOCKING,this,f.XStringValue.create("currencyCatalog"));};f.CatalogDialogDummyProgram.prototype.createCurrencyTranslationCatalog=function(){var s=f.OlapCatalogApiModule.SERVICE_TYPE_OLAP_CATALOG.createServiceConfig(this.getApplication());s.setSystemName(this.m_system);s.processCurrencyTranslationCatalogManagerCreation(f.SyncType.NON_BLOCKING,this,null);};f.CatalogDialogDummyProgram.prototype.createHierarchyCatalog=function(){if(f.XStringUtils.isNotNullAndNotEmpty(this.m_datasource)){var s=f.QueryServiceConfig.createWithDataSourceName(this.getApplication(),this.m_system,this.m_datasource);var a=s.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(a.hasErrors()){this.m_messageManager.addAllMessages(a);return;}this.m_queryManager=a.getData();}var q=this.m_queryManager.getQueryModel();var b=f.OlapApiModule.SERVICE_TYPE_HIERARCHY_CATALOG.createServiceConfig(this.getApplication());b.setSystemName(this.m_system);var d=q.getDataSource().getFullQualifiedName();b.setDataSourceName(d);b.setDimension(q.getDimensionByName(this.m_dimension));b.processHierarchyCatalogManagerCreation(f.SyncType.NON_BLOCKING,this,null).getData();};f.CatalogDialogDummyProgram.prototype.onSubmit=function(){};f.CatalogDialogDummyProgram.prototype.onClose=function(){};f.CatalogDialogDummyProgram.prototype.onLiveChange=function(e){};f.CatalogDialogDummyProgram.prototype.onHierarchyCatalogManagerCreated=function(e,h,c){var a=e.getData();this.m_hierarchyCatalogController.openDialog("Hierarchy",a,null,null,this,null);};f.CatalogDialogDummyProgram.prototype.onOlapCatalogManagerCreated=function(e,o,c){var a=e.getData();if(f.isNull(c)){this.m_currencyTranslationCatalogController.openDialog("Select your currency conversion",a,null,null,this);}else{this.m_currencyCatalogController.openDialog("Select your target currency",a,null,null,this);}};f.DimensionDialogTestProgram=function(){};f.DimensionDialogTestProgram.prototype=new f.DfUiProgram();f.DimensionDialogTestProgram.prototype._ff_c="DimensionDialogTestProgram";f.DimensionDialogTestProgram.DEFAULT_PROGRAM_NAME="Podilates";f.DimensionDialogTestProgram.CONTEXT_MENU="contextMenu";f.DimensionDialogTestProgram.EXPAND_MENU="expand";f.DimensionDialogTestProgram.DRILL_MENU="drill";f.DimensionDialogTestProgram.COLLAPSE_MENU="collapse";f.DimensionDialogTestProgram.DIMENSION_CONTEXT_MENU="dimensionContextMenu";f.DimensionDialogTestProgram.FILTER_CONTEXT_MENU="filterContextMenu";f.DimensionDialogTestProgram.DATACELL_MENU="datacellMenu";f.DimensionDialogTestProgram.DIMENSION_MENU="dimensionMenu";f.DimensionDialogTestProgram.DIMENSION_EXHAUSTIVE_MENU="dimensionExhaustiveMenu";f.DimensionDialogTestProgram.DIMENSION_BTN="dimensionBtn";f.DimensionDialogTestProgram.DIMENSION_EXH_BTN="dimensionExhBtn";f.DimensionDialogTestProgram.LAYOUT_BTN="layoutBtn";f.DimensionDialogTestProgram.SELECT_SYSTEM_BTN="selectSystemBtn";f.DimensionDialogTestProgram.SELECT_SYSTEM_BW_MENU="selectSystemBwMenu";f.DimensionDialogTestProgram.SELECT_SYSTEM_BW_2STRUCTURES="selectSystemBw2StrcutMenu";f.DimensionDialogTestProgram.SELECT_SYSTEM_GIPSY_MENU="selectSystemGips<Menu";f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_MENU="selectSystemMdsMenu";f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_LEGACY_CUR_TRANS="selectSystemMdsLegacyCurTrans";f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_ACCOUNT_WITH_MD="selectSystemMdsAccountWithMd";f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_MEASURE_WITHOUT_MD="selectSystemMdsMeasureWithoutMd";f.DimensionDialogTestProgram.QUERY_BUTTON="queryButton";f.DimensionDialogTestProgram.CUR_CONV_BUTTON="curConvButton";f.DimensionDialogTestProgram.PARAM_SYSTEM="system";f.DimensionDialogTestProgram.PARAM_DATASOURCE="datasource";f.DimensionDialogTestProgram.PARAM_TEST="test";f.DimensionDialogTestProgram.createRunner=function(){return f.KernelBoot.createByName(f.DimensionDialogTestProgram.DEFAULT_PROGRAM_NAME);};f.DimensionDialogTestProgram.getResultSet=function(q){var r=q.getActiveResultSetContainer();if(f.isNull(r)){throw f.XException.createRuntimeException("ResultSetContainer null");}if(r.hasErrors()){throw f.XException.createRuntimeException(r.getSummary());}var a=r.getClassicResultSet();if(f.isNull(a)){if(r.hasErrors()){throw f.XException.createRuntimeException(r.getSummary());}throw f.XException.createRuntimeException("ResultSet null");}if(a.hasErrors()){throw f.XException.createRuntimeException(a.getSummary());}return a;};f.DimensionDialogTestProgram.prototype.m_root=null;f.DimensionDialogTestProgram.prototype.m_system=null;f.DimensionDialogTestProgram.prototype.m_datasource=null;f.DimensionDialogTestProgram.prototype.m_messageManager=null;f.DimensionDialogTestProgram.prototype.m_queryManager=null;f.DimensionDialogTestProgram.prototype.m_grid=null;f.DimensionDialogTestProgram.prototype.m_layout=null;f.DimensionDialogTestProgram.prototype.m_dimPropBtn=null;f.DimensionDialogTestProgram.prototype.m_dimExhPropBtn=null;f.DimensionDialogTestProgram.prototype.m_dimPropMenu=null;f.DimensionDialogTestProgram.prototype.m_dimExhPropMenu=null;f.DimensionDialogTestProgram.prototype.m_layoutBtn=null;f.DimensionDialogTestProgram.prototype.m_systemBtn=null;f.DimensionDialogTestProgram.prototype.m_systemInput=null;f.DimensionDialogTestProgram.prototype.m_dataSourceInput=null;f.DimensionDialogTestProgram.prototype.m_queryButton=null;f.DimensionDialogTestProgram.prototype.m_curConvBtn=null;f.DimensionDialogTestProgram.prototype.m_datacellBtn=null;f.DimensionDialogTestProgram.prototype.m_datacellBtn2=null;f.DimensionDialogTestProgram.prototype.m_test=null;f.DimensionDialogTestProgram.prototype.m_argumentStructure=null;f.DimensionDialogTestProgram.prototype.m_contextMenu=null;f.DimensionDialogTestProgram.prototype.getParameterValue=function(n){var v=this.getSession().getEnvironment().getStringByKey(n);if(f.XStringUtils.isNullOrEmpty(v)){v=this.m_argumentStructure.getStringByKey(n);}return v;};f.DimensionDialogTestProgram.prototype.getDefaultWindowSize=function(){return f.UiSizeValue.createByCss("60%","60%");};f.DimensionDialogTestProgram.prototype.evalArguments=function(){this.m_argumentStructure=this.getArgumentStructure();if(this.m_argumentStructure.getIntegerByKeyExt(f.DfProgram.PARAM_XVERSION,-1)===-1){this.m_argumentStructure.putInteger(f.DfProgram.PARAM_XVERSION,f.XVersion.V124_INIT_ACTION_FOR_FUSION);}f.DfUiProgram.prototype.evalArguments.call(this);this.m_system=this.getParameterValue(f.DimensionDialogTestProgram.PARAM_SYSTEM);this.m_datasource=this.getParameterValue(f.DimensionDialogTestProgram.PARAM_DATASOURCE);this.m_test=this.getParameterValue(f.DimensionDialogTestProgram.PARAM_TEST);if(f.XStringUtils.isNullOrEmpty(this.m_system)&&f.XStringUtils.isNullOrEmpty(this.m_datasource)){this.m_system="KIW";this.m_datasource="query:[0BICS_C03_BICSTEST_Q0020]";}};f.DimensionDialogTestProgram.prototype.newProgram=function(){var p=new f.DimensionDialogTestProgram();p.setup();return p;};f.DimensionDialogTestProgram.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameter(f.DimensionDialogTestProgram.PARAM_SYSTEM,"The system to connect to.");m.addParameter(f.DimensionDialogTestProgram.PARAM_DATASOURCE,"The datasource to be used (Can be empty for planning sequences).");m.addParameter(f.DimensionDialogTestProgram.PARAM_TEST,"The name of the running test (Optional).");};f.DimensionDialogTestProgram.prototype.isShowMenuBar=function(){return true;};f.DimensionDialogTestProgram.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);this.m_root=this.buildTree(g);g.setRoot(this.m_root);this.setTitle("\u03C0\u03BF\u03B4\u03B7\u03BB\u03AC\u03C4\u03B7\u03C2 client");};f.DimensionDialogTestProgram.prototype.buildTree=function(g){this.m_layout=g.newControl(f.UiType.VERTICAL_LAYOUT);var p=this.getMenuBar();this.m_layoutBtn=p.addNewItemOfType(f.UiType.BUTTON);this.m_layoutBtn.setButtonType(f.UiButtonType.TRANSPARENT);this.m_layoutBtn.setName(f.DimensionDialogTestProgram.LAYOUT_BTN);this.m_layoutBtn.setText("Dimension Layout...");this.m_layoutBtn.registerOnPress(this);this.m_dimPropBtn=p.addNewItemOfType(f.UiType.BUTTON);this.m_dimPropBtn.setButtonType(f.UiButtonType.TRANSPARENT);this.m_dimPropBtn.setName(f.DimensionDialogTestProgram.DIMENSION_BTN);this.m_dimPropBtn.setText("Dimension Properties");this.m_dimPropBtn.registerOnPress(this);this.m_dimExhPropBtn=p.addNewItemOfType(f.UiType.BUTTON);this.m_dimExhPropBtn.setButtonType(f.UiButtonType.TRANSPARENT);this.m_dimExhPropBtn.setName(f.DimensionDialogTestProgram.DIMENSION_EXH_BTN);this.m_dimExhPropBtn.setText("Dimension Props Exhaustive");this.m_dimExhPropBtn.registerOnPress(this);this.m_dimPropMenu=g.newControl(f.UiType.MENU);this.m_dimPropMenu.setName(f.DimensionDialogTestProgram.DIMENSION_MENU);this.m_dimExhPropMenu=g.newControl(f.UiType.MENU);this.m_dimExhPropMenu.setName(f.DimensionDialogTestProgram.DIMENSION_EXHAUSTIVE_MENU);this.m_curConvBtn=p.addNewItemOfType(f.UiType.BUTTON);this.m_curConvBtn.setButtonType(f.UiButtonType.TRANSPARENT);this.m_curConvBtn.setName(f.DimensionDialogTestProgram.CUR_CONV_BUTTON);this.m_curConvBtn.setText("Currency Conversion ...");this.m_curConvBtn.registerOnPress(this);this.m_datacellBtn=p.addNewItemOfType(f.UiType.BUTTON);this.m_datacellBtn.setButtonType(f.UiButtonType.TRANSPARENT);this.m_datacellBtn.setName("DataCellProps");this.m_datacellBtn.setText("DataCell Props");this.m_datacellBtn.registerOnPress(this);this.m_datacellBtn2=p.addNewItemOfType(f.UiType.BUTTON);this.m_datacellBtn2.setButtonType(f.UiButtonType.TRANSPARENT);this.m_datacellBtn2.setName("DataCellProps2");this.m_datacellBtn2.setText("DataCell Props2");this.m_datacellBtn2.registerOnPress(this);this.m_systemBtn=p.addNewItemOfType(f.UiType.BUTTON);this.m_systemBtn.setButtonType(f.UiButtonType.TRANSPARENT);this.m_systemBtn.setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_BTN);this.m_systemBtn.setText("Select System ...");this.m_systemBtn.registerOnPress(this);this.m_systemInput=g.newControl(f.UiType.INPUT);this.m_systemInput.setName("systemInputName");this.m_dataSourceInput=g.newControl(f.UiType.INPUT);this.m_dataSourceInput.setName("dataSourceInputName");this.m_systemInput.registerOnLiveChange(this);this.m_dataSourceInput.registerOnLiveChange(this);f.DdControllerAbstract.addEditablePropertyVerticalLayout(this.m_layout,"System","System",this.m_systemInput);f.DdControllerAbstract.addEditablePropertyVerticalLayout(this.m_layout,"Datasource","Datasource",this.m_dataSourceInput);this.m_queryButton=this.m_layout.addNewItemOfType(f.UiType.BUTTON);this.m_queryButton.setText("Perform Query");this.m_queryButton.setName(f.DimensionDialogTestProgram.QUERY_BUTTON);this.m_queryButton.registerOnPress(this);this.m_grid=this.m_layout.addNewItemOfType(f.UiType.SAC_TABLE_GRID).setWidthCss("100%").setHeightExt(50,f.UiSizeUnit.EM);this.m_grid.registerOnClick(this);this.m_grid.registerOnContextMenu(this);this.m_grid.setEnabled(true);this.fillDataSourceSeletWidgets();this.m_contextMenu=g.newControl(f.UiType.MENU);this.m_contextMenu.setName(f.DimensionDialogTestProgram.CONTEXT_MENU);return this.m_layout;};f.DimensionDialogTestProgram.prototype.doQuery=function(){this.m_queryButton.setEnabled(false);this.updateQueryModel();this.updateGrid();this.updateDimensionMenu();this.m_dimPropMenu.setEnabled(true);this.m_dimExhPropMenu.setEnabled(true);this.m_curConvBtn.setEnabled(true);this.m_dimPropBtn.setEnabled(true);this.m_dimExhPropBtn.setEnabled(true);this.m_layoutBtn.setEnabled(true);};f.DimensionDialogTestProgram.prototype.fillDataSourceSeletWidgets=function(){this.m_systemInput.setText(this.m_system);this.m_dataSourceInput.setText(this.m_datasource);this.needsQuery();};f.DimensionDialogTestProgram.prototype.updateQueryModel=function(){if(f.XStringUtils.isNotNullAndNotEmpty(this.m_datasource)){this.getSession().activateFeatureToggle(f.FeatureToggleOlap.DEVELOPMENT_MODE);this.getSession().activateFeatureToggle(f.FeatureToggleOlap.CURRENCY_TRANSLATION);this.getSession().activateFeatureToggle(f.FeatureToggleOlap.MEASURE_MEMBER_CURRENCY_TRANSLATIONS);var s=f.QueryServiceConfig.createWithDataSourceName(this.getApplication(),this.m_system,this.m_datasource);var a=s.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(a.hasErrors()){this.m_messageManager.addAllMessages(a);return;}this.m_queryManager=a.getData();}var q=this.m_queryManager.getQueryModel();var b=q.getAccountDimension();if(f.notNull(b)){b.setHierarchyName("parentId");b.setHierarchyActive(true);q.getColumnsAxis().add(b);}var c=q.getCurrencyTranslationManager();if(q.getModelCapabilities().supportsCurrencyTranslation()&&f.notNull(c)&&!f.XCollectionUtils.hasElements(c.getAvailableCurrencies())){c.addAvailableCurrency("EUR","Euro");c.addAvailableCurrency("USD","Dollar");c.addAvailableCurrency("INR","\u0930\u0941\u092A\u092F\u093E");c.addAvailableCurrency("RUB","\u0420\u0443\u0431\u043B\u0435\u0439");var d=c.addNewMeasureCurrencyTranslation("RUB","\u0420\u0443\u0431\u043B\u0435\u0439");d.setFixedTargetCurrencyByString("RUB");d.setFixedReferenceDateByString("2020-05-05");d.setFixedRateNameByString("EURX");d=c.addNewMeasureCurrencyTranslation("EUR","Euro");d.setFixedTargetCurrencyByString("EUR");d.setFixedReferenceDateByString("2020-05-05");d.setFixedRateNameByString("EURX");d=c.addNewMeasureCurrencyTranslation("INR","\u0930\u0941\u092A\u092F\u093E");d.setFixedTargetCurrencyByString("INR");d.setFixedReferenceDateByString("2020-05-05");d.setFixedRateNameByString("EURX");}this.m_layoutBtn.setCustomObject(q);};f.DimensionDialogTestProgram.prototype.updateDimensionMenu=function(){this.m_dimPropMenu.clearItems();this.m_dimExhPropMenu.clearItems();this.decorateDimensionMenues(this.m_queryManager.getQueryModel().getRowsAxis().getDimensions());this.decorateDimensionMenues(this.m_queryManager.getQueryModel().getColumnsAxis().getDimensions());};f.DimensionDialogTestProgram.prototype.decorateDimensionMenues=function(d){for(var i=0;i<d.size();i++){var a=d.getDimensionAt(i);var m=this.m_dimPropMenu.addNewItem().setText(f.XStringUtils.concatenate3(a.getName()," / ",a.getText()));m.registerOnPress(this);m.setCustomObject(a);m.setName(a.getName());m=this.m_dimExhPropMenu.addNewItem().setText(f.XStringUtils.concatenate3(a.getName()," / ",a.getText()));m.registerOnPress(this);m.setCustomObject(a);m.setName(a.getName());}};f.DimensionDialogTestProgram.prototype.updateGrid=function(){var r=f.DimensionDialogTestProgram.getResultSet(this.m_queryManager);var m=f.GridRendererFactory.createRenderer(f.ProtocolBindingType.SAC_TABLE_GRID).render(r.getCursorResultSet());var a=f.GridResolverFactory.createResolver(f.ProtocolBindingType.SAC_TABLE_GRID);a.updateModel(r,m.asStructure());this.m_grid.setCustomObject(a);this.m_grid.setModelJson(m);};f.DimensionDialogTestProgram.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);f.ApplicationUiModule.getInstance();this.m_messageManager=f.MessageManager.createMessageManagerExt(this.getSession());f.OlapUiValueHelpAbstract.s_syncType=f.SyncType.BLOCKING;var t=f.TraceInfo.create();t.setTraceType(f.TraceType.URL);t.setTraceName(this.m_test);this.getApplication().getConnectionPool().setTraceInfo(this.m_system,t);};f.DimensionDialogTestProgram.prototype.onPress=function(e){var c=e.getControl();var a=c.getName();var b=c.getParent().getName();var d=c.getCustomObject();switch(a){case f.DimensionDialogTestProgram.LAYOUT_BTN:this.openLayoutDialog();break;case f.DimensionDialogTestProgram.CUR_CONV_BUTTON:this.openCurrencyDialog();break;case f.DimensionDialogTestProgram.DIMENSION_BTN:this.m_dimPropMenu.openAt(e.getControl());break;case f.DimensionDialogTestProgram.DIMENSION_EXH_BTN:this.m_dimExhPropMenu.openAt(e.getControl());break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_BTN:var t=this.m_genesis.newControl(f.UiType.MENU);t.addNewItem().setText("Bw Sample System").setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_BW_MENU).registerOnPress(this);t.addNewItem().setText("Bw Sample System 2 Struct").setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_BW_2STRUCTURES).registerOnPress(this);t.addNewItem().setText("Gipsy with CaseSensitive Sorting").setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_GIPSY_MENU).registerOnPress(this);t.addNewItem().setText("Mds Sample System").setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_MENU).registerOnPress(this);t.addNewItem().setText("Mds Legacy CurTrans").setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_LEGACY_CUR_TRANS).registerOnPress(this);t.addNewItem().setText("Mds Account CurTrans").setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_ACCOUNT_WITH_MD).registerOnPress(this);t.addNewItem().setText("Mds Measure CurTrans").setName(f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_MEASURE_WITHOUT_MD).registerOnPress(this);t.openAt(e.getControl());break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_BW_MENU:this.m_system="KIW";this.m_datasource="query:[0BICS_C03_BICSTEST_Q0020]";this.fillDataSourceSeletWidgets();break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_BW_2STRUCTURES:this.m_system="KIW";this.m_datasource="query:[0BICS_009_BICSTEST_Q0001]";this.fillDataSourceSeletWidgets();break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_GIPSY_MENU:this.m_system="gipsy";this.m_datasource="view:[_SYS_BIC][mdstest.music][MUSICSALES]";this.fillDataSourceSeletWidgets();break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_MENU:this.m_system="apollo";this.m_datasource="planning:[TENANT_TEST][][/t.TEST/ACT_ANA_income_qs]";this.fillDataSourceSeletWidgets();break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_LEGACY_CUR_TRANS:this.m_system="apollo";this.m_datasource="sfx:[t.TEST.APDCurConv_Ext_Model:APDCurConv_Ext_Model]";this.fillDataSourceSeletWidgets();break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_ACCOUNT_WITH_MD:this.m_system="gipsy";this.m_datasource="inamodel:[MDS_REPO][][MDS_BusinessPlanning_withAccountAndMeasureMembers]";this.fillDataSourceSeletWidgets();break;case f.DimensionDialogTestProgram.SELECT_SYSTEM_MDS_MEASURE_WITHOUT_MD:this.m_system="gipsy";this.m_datasource="inamodel:[MDSTEST][][AN_PAID_INVOICES_WITH_CC]";this.fillDataSourceSeletWidgets();break;case f.DimensionDialogTestProgram.QUERY_BUTTON:this.m_system=this.m_systemInput.getText();this.m_datasource=this.m_dataSourceInput.getText();this.doQuery();break;case"DataCellProps":this.doOpenDataCellDialog();break;case"DataCellProps2":this.doOpenDataCellDialog2();break;case f.DimensionDialogTestProgram.DATACELL_MENU:this.openDataCellDialogForMember(d);break;case f.DimensionDialogTestProgram.DIMENSION_CONTEXT_MENU:f.DdEntryPoint.createEntryPoint(this.getApplication()).openDimensionDialog(f.XStringUtils.concatenate3(d.getName(),"/",d.getText()),d,this);break;case f.DimensionDialogTestProgram.FILTER_CONTEXT_MENU:f.FdEntryPoint.createEntryPoint(this.getApplication(),f.XStringUtils.concatenate3(d.getName(),"/",d.getText())).openWithDimension(d,this);break;case f.DimensionDialogTestProgram.COLLAPSE_MENU:c.getCustomObject().setNextDrillState(f.DrillState.COLLAPSED);this.updateGrid();break;case f.DimensionDialogTestProgram.DRILL_MENU:c.getCustomObject().setNextDrillState(f.DrillState.DRILLED);this.updateGrid();break;case f.DimensionDialogTestProgram.EXPAND_MENU:c.getCustomObject().setNextDrillState(f.DrillState.EXPANDED);this.updateGrid();break;default:switch(b){case f.DimensionDialogTestProgram.DIMENSION_MENU:f.DdEntryPoint.createEntryPoint(this.getApplication()).openDimensionDialog(f.XStringUtils.concatenate3(d.getName(),"/",d.getText()),d,this);break;case f.DimensionDialogTestProgram.DIMENSION_EXHAUSTIVE_MENU:f.DdExhaustiveEntryPoint.createEntryPoint(this.getApplication()).openDimensionDialog(f.XStringUtils.concatenate3(d.getName(),"/",d.getText()),d,this);break;}}};f.DimensionDialogTestProgram.prototype.m_dcController=null;f.DimensionDialogTestProgram.prototype.openLayoutDialog=function(){var a=f.AldEntryPoint.createEntryPoint(this.getApplication());a.openAldDialog("Axis layout",this.m_queryManager.getQueryModel(),this);};f.DimensionDialogTestProgram.prototype.openDataCellDialogForMember=function(s){var d=f.OlapUiDisplayFactory.createFactoryForDialog(this.getUiManager());var c=f.OlapUiContext.createContext(this.getUiManager(),d);if(f.isNull(this.m_dcController)){this.m_dcController=f.DataCellController.create(c);}if(s.getDimension().isMeasureStructure()){this.m_dcController.openDataCellPropertiesDialog(this,this.m_queryManager,s.getName(),null,false);}else{this.m_dcController.openDataCellPropertiesDialog(this,this.m_queryManager,null,s.getName(),true);}};f.DimensionDialogTestProgram.prototype.doOpenDataCellDialog=function(){var d=f.OlapUiDisplayFactory.createFactoryForDialog(this.getUiManager());var c=f.OlapUiContext.createContext(this.getUiManager(),d);if(f.isNull(this.m_dcController)){this.m_dcController=f.DataCellController.create(c);}var m=this.m_queryManager.getQueryModel().getMeasureDimension().getAllStructureMembers().get(0);this.m_dcController.openDataCellPropertiesDialog(this,this.m_queryManager,m.getName(),null,false);};f.DimensionDialogTestProgram.prototype.doOpenDataCellDialog2=function(){var d=f.OlapUiDisplayFactory.createFactoryForDialog(this.getUiManager());var c=f.OlapUiContext.createContext(this.getUiManager(),d);if(f.isNull(this.m_dcController)){this.m_dcController=f.DataCellController.create(c);}var m=this.m_queryManager.getQueryModel().getMeasureDimension().getAllStructureMembers().get(0);var s=null;var n=this.m_queryManager.getQueryModel().getNonMeasureDimension();if(f.notNull(n)&&n.getAllStructureMembers().size()>1){s=n.getAllStructureMembers().get(2);}this.m_dcController.openDataCellPropertiesDialog(this,this.m_queryManager,m.getName(),f.isNull(s)?null:s.getName(),true);};f.DimensionDialogTestProgram.prototype.onDataCellOk=function(){this.updateGrid();};f.DimensionDialogTestProgram.prototype.onDataCellClose=function(){this.m_dcController.close();};f.DimensionDialogTestProgram.prototype.openCurrencyDialog=function(){var q=f.CtEntryPoint.createEntryPoint(this.getApplication());q.openQCTDialog("Currency conversion",this.m_queryManager.getQueryModel().getCurrencyTranslationManager(),this);};f.DimensionDialogTestProgram.prototype.onSubmit=function(){this.updateGrid();this.updateDimensionMenu();};f.DimensionDialogTestProgram.prototype.onClose=function(){};f.DimensionDialogTestProgram.prototype.onLiveChange=function(e){this.needsQuery();};f.DimensionDialogTestProgram.prototype.needsQuery=function(){this.m_dimPropMenu.setEnabled(false);this.m_dimExhPropMenu.setEnabled(false);this.m_curConvBtn.setEnabled(false);this.m_dimPropBtn.setEnabled(false);this.m_dimExhPropBtn.setEnabled(false);this.m_layoutBtn.setEnabled(false);this.m_queryButton.setEnabled(true);};f.DimensionDialogTestProgram.prototype.onClick=function(e){};f.DimensionDialogTestProgram.prototype.onContextMenu=function(e){f.XLogger.println(e.getControl().toString());var c=e.getParameters().getIntegerByKey(f.UiControlEvent.PARAM_COLUMN);var r=e.getParameters().getIntegerByKey(f.UiControlEvent.PARAM_ROW);var a=e.getControl().getCustomObject();this.m_contextMenu.clearItems();var m=this.m_contextMenu.addNewItem();m.setText("Layout ...");m.setName(f.DimensionDialogTestProgram.LAYOUT_BTN);m.registerOnPress(this);var t=a.getColumnTupleElement(c,r);if(f.isNull(t)){t=a.getRowTupleElement(c,r);}if(f.notNull(t)){var d=t.getDrillState();if(d===f.DrillState.COLLAPSED||d===f.DrillState.COLLAPSED_EXPAND_AND_DRILLDOWN_ALLOWED||d===f.DrillState.LEAF_UDH_EXPAND_ALLOWED){m=this.m_contextMenu.addNewItem();m.setText("Expand node");m.setName(f.DimensionDialogTestProgram.EXPAND_MENU);m.setCustomObject(t);m.registerOnPress(this);}if(d===f.DrillState.COLLAPSED_EXPAND_AND_DRILLDOWN_ALLOWED||d===f.DrillState.LEAF_DRILLDOWN_ALLOWED){m=this.m_contextMenu.addNewItem();m.setText("Drill node");m.setName(f.DimensionDialogTestProgram.DRILL_MENU);m.setCustomObject(t);m.registerOnPress(this);}if(d===f.DrillState.EXPANDED||d===f.DrillState.DRILLED||d===f.DrillState.DRILL_DOWN){m=this.m_contextMenu.addNewItem();m.setText("Collapse node");m.setName(f.DimensionDialogTestProgram.COLLAPSE_MENU);m.setCustomObject(t);m.registerOnPress(this);}}var b=a.getColumnDimension(r);if(f.isNull(b)){b=a.getRowDimension(c);}if(f.notNull(b)){b=this.m_queryManager.getQueryModel().getDimensionByName(b.getName());if(!b.isUniversalDisplayHierarchyDimension()){m=this.m_contextMenu.addNewItem();m.setText(f.XStringUtils.concatenate2("Settings for dimension ",b.getText()));m.setName(f.DimensionDialogTestProgram.DIMENSION_CONTEXT_MENU);m.setCustomObject(b);m.registerOnPress(this);m=this.m_contextMenu.addNewItem();m.setText(f.XStringUtils.concatenate2("Filter on dimension ",b.getText()));m.setName(f.DimensionDialogTestProgram.FILTER_CONTEXT_MENU);m.setCustomObject(b);m.registerOnPress(this);}}var g;var i;var h=a.getRowTuple(r);var s;if(f.notNull(h)){for(i=0;i<h.size();i++){t=h.getTupleElementAt(i);g=t.getDimensionMember();s=t.getDimension().getStructureMember(g.getName());if(f.notNull(s)){m=this.m_contextMenu.addNewItem();m.setText(f.XStringUtils.concatenate2("Properties for ",g.getText()));m.setName(f.DimensionDialogTestProgram.DATACELL_MENU);m.setCustomObject(s);m.registerOnPress(this);break;}}}h=a.getColumnTuple(c);if(f.notNull(h)){for(i=0;i<h.size();i++){t=h.getTupleElementAt(i);g=t.getDimensionMember();s=t.getDimension().getStructureMember(g.getName());if(f.notNull(s)){m=this.m_contextMenu.addNewItem();m.setText(f.XStringUtils.concatenate2("Properties for ",g.getText()));m.setName(f.DimensionDialogTestProgram.DATACELL_MENU);m.setCustomObject(s);m.registerOnPress(this);break;}}}var j=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_X,0);var k=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_Y,0);this.m_contextMenu.openAtPosition(j,k);};f.DimensionDialogTestProgram.prototype.onFilterDialogOk=function(s){if(f.XCollectionUtils.hasElements(s)){var m=s.get(0).getNode().getDimensionMember();var d=m.getDimension();var c=this.m_queryManager.getQueryModel().getFilter().getDynamicFilter().getCartesianProductWithDefault().getCartesianListWithDefault(d);c.addNewCartesianElement().configureSingleParameterExpression(m.getFieldValue(d.getKeyField()).getValue(),f.ComparisonOperator.EQUAL);this.updateGrid();}};f.DimensionDialogTestProgram.prototype.onFilterDialogCancel=function(){};f.FilterDialogProgram=function(){};f.FilterDialogProgram.prototype=new f.DfUiProgram();f.FilterDialogProgram.prototype._ff_c="FilterDialogProgram";f.FilterDialogProgram.DEFAULT_PROGRAM_NAME="FilterDialog";f.FilterDialogProgram.PARAM_SYSTEM="system";f.FilterDialogProgram.PARAM_DATASOURCE="datasource";f.FilterDialogProgram.PARAM_DIMENSION="dimension";f.FilterDialogProgram.PARAM_VARIABLE="variable";f.FilterDialogProgram.PARAM_HIERARCHY="hierarchy";f.FilterDialogProgram.PARAM_TEST="test";f.FilterDialogProgram.createRunner=function(){return f.KernelBoot.createByName(f.FilterDialogProgram.DEFAULT_PROGRAM_NAME);};f.FilterDialogProgram.prototype.m_system=null;f.FilterDialogProgram.prototype.m_datasource=null;f.FilterDialogProgram.prototype.m_dimension=null;f.FilterDialogProgram.prototype.m_variable=null;f.FilterDialogProgram.prototype.m_hierarchy=null;f.FilterDialogProgram.prototype.m_test=null;f.FilterDialogProgram.prototype.m_programLayout=null;f.FilterDialogProgram.prototype.m_featureTogglesDialog=null;f.FilterDialogProgram.prototype.m_queryManager=null;f.FilterDialogProgram.prototype.m_entryPoint=null;f.FilterDialogProgram.prototype.m_fdOrcaEntryPoint=null;f.FilterDialogProgram.prototype.releaseObject=function(){f.DfUiProgram.prototype.releaseObject.call(this);this.m_system=null;this.m_datasource=null;this.m_dimension=null;this.m_variable=null;this.m_hierarchy=null;this.m_test=null;this.m_queryManager=f.XObjectExt.release(this.m_queryManager);this.m_entryPoint=f.XObjectExt.release(this.m_entryPoint);this.m_featureTogglesDialog=f.XObjectExt.release(this.m_featureTogglesDialog);this.m_programLayout=f.XObjectExt.release(this.m_programLayout);this.m_fdOrcaEntryPoint=f.XObjectExt.release(this.m_fdOrcaEntryPoint);};f.FilterDialogProgram.prototype.newProgram=function(){var a=new f.FilterDialogProgram();a.setup();return a;};f.FilterDialogProgram.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameter(f.FilterDialogProgram.PARAM_SYSTEM,"The system to connect to.");m.addParameter(f.FilterDialogProgram.PARAM_DATASOURCE,"The datasource to be used (Can be empty for planning sequences).");m.addParameter(f.FilterDialogProgram.PARAM_DIMENSION,"The dimension to be used.");m.addParameter(f.FilterDialogProgram.PARAM_VARIABLE,"The variable to be used.");m.addParameter(f.FilterDialogProgram.PARAM_HIERARCHY,"The hierarchy to used.");m.addParameter(f.FilterDialogProgram.PARAM_TEST,"The name of the running test (Optional).");};f.FilterDialogProgram.prototype.evalArguments=function(){var a=this.getArgumentStructure();if(a.getIntegerByKeyExt(f.DfProgram.PARAM_XVERSION,-1)===-1){a.putInteger(f.DfProgram.PARAM_XVERSION,f.XVersion.V124_INIT_ACTION_FOR_FUSION);}f.DfUiProgram.prototype.evalArguments.call(this);this.m_system=this.getParameterValue(f.FilterDialogProgram.PARAM_SYSTEM);this.m_datasource=this.getParameterValue(f.FilterDialogProgram.PARAM_DATASOURCE);this.m_dimension=this.getParameterValue(f.FilterDialogProgram.PARAM_DIMENSION);this.m_variable=this.getParameterValue(f.FilterDialogProgram.PARAM_VARIABLE);this.m_hierarchy=this.getParameterValue(f.FilterDialogProgram.PARAM_HIERARCHY);this.m_test=this.getParameterValue(f.FilterDialogProgram.PARAM_TEST);if(f.XStringUtils.isNullOrEmpty(this.m_system)||f.XStringUtils.isNullOrEmpty(this.m_datasource)){this.m_system="KIW";this.m_datasource="query:[0BOC_TEST_VARIABLE_TYPES_1]";this.m_dimension="0BC_CUST";this.m_variable=null;this.m_hierarchy=null;}};f.FilterDialogProgram.prototype.getParameterValue=function(n){var v=this.getSession().getEnvironment().getStringByKey(n);return f.XStringUtils.isNotNullAndNotEmpty(v)?v:this.getArgumentStructure().getStringByKey(n);};f.FilterDialogProgram.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);f.ApplicationUiModule.getInstance();var t=f.TraceInfo.create();t.setTraceType(f.TraceType.URL);t.setTraceName(this.m_test);this.getApplication().getConnectionPool().setTraceInfo(this.m_system,t);};f.FilterDialogProgram.prototype.isShowMenuBar=function(){return true;};f.FilterDialogProgram.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);this.m_programLayout=f.FilterDialogProgramLayout.create(g,this.getMenuBar(),this,this);this.setupQueryManager();};f.FilterDialogProgram.prototype.setupQueryManager=function(){this.m_programLayout.showActivityIndicator();this.m_queryManager=f.XObjectExt.release(this.m_queryManager);var s=f.QueryServiceConfig.createWithDataSourceName(this.getApplication(),this.m_system,this.m_datasource);s.processQueryManagerCreation(f.SyncType.NON_BLOCKING,this,null);};f.FilterDialogProgram.prototype.onQueryManagerCreated=function(e,q,c){if(e.hasErrors()){this.m_programLayout.showChangeDataSourceButton();this.m_programLayout.showErrorToast(e.getSummary());return;}this.m_queryManager=e.getData();this.m_programLayout.showUi(q,f.XStringUtils.concatenate3(this.m_system," - ",this.m_datasource),this.m_dimension,this.m_hierarchy,this.m_variable);this.m_dimension=this.m_programLayout.getDimensionDropdown().getSelectedName();this.m_variable=this.m_programLayout.getVariableDropdown().getSelectedName();};f.FilterDialogProgram.prototype.onSelect=function(e){this.m_programLayout.getSelectionTextArea().setText(null);this.m_programLayout.getOutputTextArea().setText(null);if(e.getControl()===this.m_programLayout.getDimensionDropdown()){this.m_dimension=this.m_programLayout.getDimensionDropdown().getSelectedItem().getText();var d=this.m_queryManager.getDimensionAccessor().getDimensionByName(this.m_dimension);this.m_programLayout.getHierarchyInput().setText(f.notNull(d)?d.getHierarchyName():null);}else if(e.getControl()===this.m_programLayout.getVariableDropdown()){this.m_variable=this.m_programLayout.getVariableDropdown().getSelectedItem().getText();}};f.FilterDialogProgram.prototype.onPress=function(e){var c=e.getControl();if(c===this.m_programLayout.getOpenFilterDialogBtn()){this.openFilterDialog();}else if(c===this.m_programLayout.getChangeDataSourceBtn()){this.openDataSourceDialog();}else if(c===this.m_programLayout.getFeatureTogglesBtn()){this.openFeatureTogglesDialog();}else if(c===this.m_programLayout.getSetVariablesBtn()){f.VdUqmEntryPoint.createEntryPoint("Set Variables",this.m_queryManager.getVariableProcessor(),this).open();}};f.FilterDialogProgram.prototype.openFilterDialog=function(){f.OlapUiValueHelpAbstract.s_syncType=this.m_programLayout.getNonBlockingCheckbox().isChecked()?f.SyncType.NON_BLOCKING:f.SyncType.BLOCKING;this.m_entryPoint=f.XObjectExt.release(this.m_entryPoint);if(this.m_programLayout.getDataObjectDimensionRadioBtn().isSelected()&&this.m_queryManager.hasVariables()&&this.m_queryManager.isSubmitNeeded()){this.m_queryManager.submitVariables(f.SyncType.BLOCKING,null,null);}else if(this.m_programLayout.getDataObjectVariableRadioBtn().isSelected()&&!this.m_programLayout.getEntryPointSacRadioBtn().isSelected()&&this.m_queryManager.isReinitNeeded()){this.m_queryManager.reInitVariablesAfterSubmit(f.SyncType.BLOCKING,null,null);}if(this.m_programLayout.getEntryPointDefaultRadioBtn().isSelected()){var s=f.XList.create();var a=this.m_programLayout.getSelectionTextArea().getText();if(f.XStringUtils.isNotNullAndNotEmpty(a)){var b=f.XStringTokenizer.splitString(a,",");for(var i=0;i<b.size();i++){s.add(f.FdItemFactory.createItemByKey(null,f.XString.trim(b.get(i)),null));}}this.openFilterDialogWithFdEntryPoint(s);}else if(this.m_programLayout.getEntryPointSacRadioBtn().isSelected()){this.openFilterDialogWithFdOrcaEntryPoint();}};f.FilterDialogProgram.prototype.openFilterDialogWithFdEntryPoint=function(s){this.m_entryPoint=f.FdEntryPoint.createEntryPoint(this.getApplication(),"Filter Dialog");this.m_entryPoint.setFeatureToggleProvider(this);var c=this.m_entryPoint.getConfiguration();c.setMultiSelection(this.m_programLayout.getMultiSelectionModeCheckbox().isChecked());c.setSelection(s);c.setDimensionDisplayInfo(this.m_programLayout.getDisplayInfoDropdown().getSelectedItem().getCustomObject());c.setPageSize(f.XInteger.convertFromStringWithDefault(this.m_programLayout.getPageSizeInput().getText(),f.FdConfiguration.DEFAULT_PAGE_SIZE));c.setFunctionalValuesEnabled(true);if(this.m_programLayout.getDataObjectDimensionRadioBtn().isSelected()){var d=this.getSelectedDimension();if(f.notNull(d)){if(this.m_programLayout.getUseDynamicFilterCheckbox().isChecked()){this.m_entryPoint.openWithDynamicFilter(d,this);}else{this.m_entryPoint.openWithDimension(d,this);}}}else if(this.m_programLayout.getDataObjectVariableRadioBtn().isSelected()){var v=this.getSelectedVariable();if(f.notNull(v)){this.m_entryPoint.openWithVariable(v,this);}}};f.FilterDialogProgram.prototype.getSelectedDimension=function(){var s=this.m_programLayout.getDimensionDropdown().getSelectedItem();var d=f.notNull(s)?this.m_queryManager.getDimensionAccessor().getDimensionByName(s.getText()):null;if(f.isNull(d)){this.m_programLayout.showErrorToast("Invalid dimension");return null;}var h=this.m_programLayout.getHierarchyInput().getText();if(f.XStringUtils.isNotNullAndNotEmpty(h)){d.setHierarchyName(h);d.setHierarchyActive(true);}else if(d.supportsHierarchy()){d.setHierarchyActive(false);}return d;};f.FilterDialogProgram.prototype.getSelectedVariable=function(){var s=this.m_programLayout.getVariableDropdown().getSelectedItem();var v=f.notNull(s)?this.m_queryManager.getVariable(s.getText()):null;if(f.isNull(v)){this.m_programLayout.showErrorToast("Invalid variable");return null;}return v;};f.FilterDialogProgram.prototype.openFilterDialogWithFdOrcaEntryPoint=function(){if(this.m_programLayout.getDataObjectDimensionRadioBtn().isSelected()){this.m_programLayout.showErrorToast("Opening filter dialog for dimension with SAC entry point is not yet supported");}else if(this.m_programLayout.getDataObjectVariableRadioBtn().isSelected()){var v=this.getSelectedVariable();if(f.notNull(v)){if(f.isNull(this.m_fdOrcaEntryPoint)){this.m_fdOrcaEntryPoint=f.FdOrcaEntryPoint.create(this.getApplication(),null,f.GyrosNumberFormatter.create(),this,null);}this.m_fdOrcaEntryPoint.prepareVariableProcessorState(v,this);}}};f.FilterDialogProgram.prototype.onVariableProcessorExecuted=function(a,r,c){var s;try{var b=this.m_programLayout.getSelectionTextArea().getText();s=f.XStringUtils.isNotNullAndNotEmpty(b)?f.JsonParserFactory.createFromString(b).asStructure():null;}catch(e){this.m_programLayout.showErrorToast("Json is not a valid structure");return;}if(!this.m_fdOrcaEntryPoint.openForVariable(this.getSelectedVariable(),s,this)){this.m_programLayout.showErrorToast("Opening the dialog failed");}};f.FilterDialogProgram.prototype.isActive=function(t){if(f.XString.isEqual(t,f.OlapUiFeatureToggle.MEMBERSELECTOR_READMODE_SWITCH)){return this.m_programLayout.getFeatureToggleReadMode().isChecked();}return true;};f.FilterDialogProgram.prototype.onOk=function(){};f.FilterDialogProgram.prototype.onCancel=function(){};f.FilterDialogProgram.prototype.openDataSourceDialog=function(){var a=f.ProgramRegistration.getProgramManifest(f.AuDatasourcePicker.DEFAULT_PROGRAM_NAME);var b=f.ProgramStartCfg.create(this.getProcess(),a.getName(),null,null);var t=b.getArguments();t.getArgumentStructure().putString(f.AuDatasourcePicker.PARAM_SYSTEM,this.m_system);t.putXObject(f.AuDatasourcePicker.PARAM_LISTENER,this);b.setParentProcess(this.getProcess());b.setIsCreatingChildProcess(true);b.processExecution(f.SyncType.NON_BLOCKING,null,null);};f.FilterDialogProgram.prototype.onDatasourceSelected=function(d){if(f.notNull(d)){this.m_system=d.getSystemName();this.m_datasource=d.getFullQualifiedName();this.setupQueryManager();}};f.FilterDialogProgram.prototype.openFeatureTogglesDialog=function(){f.XObjectExt.release(this.m_featureTogglesDialog);this.m_featureTogglesDialog=f.UiFeatureToggleDialog.createFeatureDialog(this.getSession(),this.getUiManager(),this);this.m_featureTogglesDialog.open();};f.FilterDialogProgram.prototype.onFeatureToggleDialogClose=function(s){if(f.notNull(s)){var a=this.getSession();a.clearAllFeatureToggles();a.activateFeatureToggleSet(s);this.setupQueryManager();}};f.FilterDialogProgram.prototype.onFilterDialogOk=function(s){var v=null;if(this.m_programLayout.getDataObjectVariableRadioBtn().isSelected()&&this.getSelectedVariable()!==null){v=this.getSelectedVariable().getMemberFilter();v.clear();}var a=f.XStringBuffer.create();var o="No elements selected";if(f.XCollectionUtils.hasElements(s)){var b=f.XStringBuffer.create();for(var i=0;i<s.size();i++){if(i>0){a.append(",");b.appendNewLine();}var c=s.get(i);var d=c.getDisplayKey();var t=c.getText();a.append(d);b.append(d);b.append(" - ");b.append(t);if(f.notNull(v)){v.addNewCartesianElement().getLow().setString(c.getKey());}}o=b.toString();}this.m_programLayout.getSelectionTextArea().setText(a.toString());this.m_programLayout.getOutputTextArea().setText(o);};f.FilterDialogProgram.prototype.onFilterDialogCancel=function(){this.m_programLayout.getOutputTextArea().setText("Selection canceled");};f.FilterDialogProgram.prototype.onOrcaFilterDialogOk=function(s){var p=f.JsonParserFactory.createFromString(s).asStructure();var a=f.PrUtils.serialize(p,false,true,2);this.m_programLayout.getSelectionTextArea().setText(s);this.m_programLayout.getOutputTextArea().setText(f.XStringUtils.concatenate2("Selection changed:\n\n",a));if(this.m_programLayout.getDataObjectVariableRadioBtn().isSelected()&&this.getSelectedVariable()!==null){var v=this.getSelectedVariable().getMemberFilter();v.clear();var b=p.getListByKey(f.OrcaConstants.SELECTED_DATA);for(var i=0;i<b.size();i++){var c=b.getStructureAt(i).getStringByKey(f.OrcaConstants.NAME);v.addNewCartesianElement().getLow().setString(c);}}};f.FilterDialogProgram.prototype.onOrcaFilterDialogCancel=function(){this.m_programLayout.getOutputTextArea().setText("Selection canceled");};f.FilterDialogProgram.prototype.onFilterUpdated=function(a){var o=f.XStringBuffer.create();o.append(a?"Filter changed:":"Filter has not been changed:").appendNewLine();var s=this.m_programLayout.getDimensionDropdown().getSelectedItem();var d=f.notNull(s)?this.m_queryManager.getDimensionAccessor().getDimensionByName(s.getText()):null;if(f.notNull(d)){var b=d.getFilter();if(f.notNull(b)){o.appendNewLine().append(b.serializeToString(f.QModelFormat.INA_DATA));}else{o.append("No filter set for dimension");}}else{o.append("Invalid dimension");}this.m_programLayout.getSelectionTextArea().setText(null);this.m_programLayout.getOutputTextArea().setText(o.toString());};f.GsGalaxyStudio=function(){};f.GsGalaxyStudio.prototype=new f.DfUiProgram();f.GsGalaxyStudio.prototype._ff_c="GsGalaxyStudio";f.GsGalaxyStudio.DEFAULT_PROGRAM_NAME="GalaxyStudio";f.GsGalaxyStudio.ACTION_BAR_ITEM_SPACING="10px";f.GsGalaxyStudio.RECENT_FILES_SEPARATOR=",";f.GsGalaxyStudio.GALAXY_RECENT_FILES_KEY="galaxy_recentFiles";f.GsGalaxyStudio.createRunner=function(){var r=f.KernelBoot.createByName(f.GsGalaxyStudio.DEFAULT_PROGRAM_NAME);return r;};f.GsGalaxyStudio.createNewVulcan=function(){var p=new f.GsGalaxyStudio();p.setup();return p;};f.GsGalaxyStudio.prototype.m_file=null;f.GsGalaxyStudio.prototype.m_mainLayout=null;f.GsGalaxyStudio.prototype.m_runActionBarBtn=null;f.GsGalaxyStudio.prototype.m_stopActionBarBtn=null;f.GsGalaxyStudio.prototype.m_splitActionBarBtn=null;f.GsGalaxyStudio.prototype.m_codeEditor=null;f.GsGalaxyStudio.prototype.m_appContainerWrapper=null;f.GsGalaxyStudio.prototype.m_appContainer=null;f.GsGalaxyStudio.prototype.m_quasarEngine=null;f.GsGalaxyStudio.prototype.m_quasarEngineGenesis=null;f.GsGalaxyStudio.prototype.m_recentFiles=null;f.GsGalaxyStudio.prototype.newProgram=function(){var p=new f.GsGalaxyStudio();p.setup();return p;};f.GsGalaxyStudio.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption(f.DfProgram.PARAM_FILE,"Specify the file to open","Path to the file ",f.XValueType.STRING);};f.GsGalaxyStudio.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);var a=this.getArgumentStructure();var b=a.getStringByKey(f.DfProgram.PARAM_FILE);if(f.XStringUtils.isNotNullAndNotEmpty(b)===true){this.openFileByPath(b);}};f.GsGalaxyStudio.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);this.setupInternal();};f.GsGalaxyStudio.prototype.releaseObject=function(){f.DfUiProgram.prototype.releaseObject.call(this);this.m_file=null;this.m_recentFiles=f.XObjectExt.release(this.m_recentFiles);this.m_runActionBarBtn=f.XObjectExt.release(this.m_runActionBarBtn);this.m_stopActionBarBtn=f.XObjectExt.release(this.m_stopActionBarBtn);this.m_splitActionBarBtn=f.XObjectExt.release(this.m_splitActionBarBtn);this.m_appContainer=f.XObjectExt.release(this.m_appContainer);this.m_appContainerWrapper=f.XObjectExt.release(this.m_appContainerWrapper);this.m_codeEditor=f.XObjectExt.release(this.m_codeEditor);this.m_mainLayout=f.XObjectExt.release(this.m_mainLayout);this.m_quasarEngineGenesis=f.XObjectExt.release(this.m_quasarEngineGenesis);this.m_quasarEngine=f.XObjectExt.release(this.m_quasarEngine);};f.GsGalaxyStudio.prototype.getLogSeverity=function(){return f.DfUiProgram.prototype.getLogSeverity.call(this);};f.GsGalaxyStudio.prototype.isShowMenuBar=function(){return true;};f.GsGalaxyStudio.prototype.getDefaultWindowSize=function(){return f.UiSizeValue.createByCss("70vw","70vh");};f.GsGalaxyStudio.prototype.getDefaultProgramName=function(){return f.GsGalaxyStudio.DEFAULT_PROGRAM_NAME;};f.GsGalaxyStudio.prototype.setupInternal=function(){this.initSettings();};f.GsGalaxyStudio.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);this.m_mainLayout=g.newControl(f.UiType.FLEX_LAYOUT);this.m_mainLayout.setName("gsMainLayout");this.m_mainLayout.useMaxSpace();this.m_mainLayout.setDirection(f.UiFlexDirection.COLUMN);this.m_mainLayout.setWrap(f.UiFlexWrap.NO_WRAP);this.createHeaderToolbar(this.m_mainLayout);var v=this.m_mainLayout.addNewItemOfType(f.UiType.FLEX_LAYOUT);v.setName("gsViewLayout");v.useMaxSpace();v.setDirection(f.UiFlexDirection.ROW);v.setAlignItems(f.UiFlexAlignItems.CENTER);v.setJustifyContent(f.UiFlexJustifyContent.CENTER);v.setWrap(f.UiFlexWrap.NO_WRAP);this.m_codeEditor=v.addNewItemOfType(f.UiType.CODE_EDITOR);this.m_codeEditor.useMaxHeight();this.m_codeEditor.setWidthCss("100%");this.m_codeEditor.setCodeType("json");this.m_codeEditor.registerOnLiveChange(this);this.m_codeEditor.registerOnFileDrop(this);this.m_codeEditor.setDebounceTime(2000);this.m_codeEditor.focus();this.m_appContainerWrapper=v.addNewItemOfType(f.UiType.FLEX_LAYOUT);this.m_appContainerWrapper.useMaxSpace();this.m_appContainerWrapper.setDirection(f.UiFlexDirection.ROW);this.m_appContainerWrapper.setVisible(false);var c=this.m_appContainerWrapper.addNewItemOfType(f.UiType.SPACER);c.useMaxHeight();c.setWidthCss("3px");c.setBackgroundColor(f.UiColor.createByString("#A8AAAA"));this.m_appContainer=this.m_appContainerWrapper.addNewItemOfType(f.UiType.SCROLL_CONTAINER);this.m_appContainer.useMaxHeight();this.m_appContainer.setWidthCss("100%");this.createNotRunningContent(this.m_appContainer);g.setRoot(this.m_mainLayout);this.addMenuBarButton("gsFileToolbarBtn",null,"File",null,this);this.addMenuBarButton("gsToolsToolbarBtn",null,"Tools",null,this).setEnabled(false);this.addMenuBarButton("gsToolbarHelpBtn",null,"Help","hint",this);this.updateEditorStatus();};f.GsGalaxyStudio.prototype.createHeaderToolbar=function(m){var h=m.addNewItemOfType(f.UiType.TOOLBAR);h.setName("headerToolbar");h.setWidthCss("100%");h.setHeightCss("40px");h.setPaddingCss("0px");var a=h.addNewItemOfType(f.UiType.FLEX_LAYOUT);a.setName("headerToolbarLayout");a.useMaxSpace();a.setAlignItems(f.UiFlexAlignItems.CENTER);a.setBackgroundColor(f.UiColor.WHITE);this.m_runActionBarBtn=a.addNewItemOfType(f.UiType.TOGGLE_BUTTON);this.m_runActionBarBtn.setName("runActionBarBtn");this.m_runActionBarBtn.setIcon("media-play");this.m_runActionBarBtn.registerOnPress(this);var p=a.addNewItemOfType(f.UiType.SPACER);p.setWidthCss(f.GsGalaxyStudio.ACTION_BAR_ITEM_SPACING);this.m_stopActionBarBtn=a.addNewItemOfType(f.UiType.BUTTON);this.m_stopActionBarBtn.setName("stopActionBarBtn");this.m_stopActionBarBtn.setIcon("stop");this.m_stopActionBarBtn.registerOnPress(this);var v=a.addNewItemOfType(f.UiType.SPACER);v.setWidthCss(f.GsGalaxyStudio.ACTION_BAR_ITEM_SPACING);var b=a.addNewItemOfType(f.UiType.SPACER);b.setWidthCss("1px");b.setHeightCss("60%");b.setBackgroundColor(f.UiColor.createByString("#A8AAAA"));var c=a.addNewItemOfType(f.UiType.SPACER);c.setWidthCss(f.GsGalaxyStudio.ACTION_BAR_ITEM_SPACING);this.m_splitActionBarBtn=a.addNewItemOfType(f.UiType.TOGGLE_BUTTON);this.m_splitActionBarBtn.setName("splitActionBarTglBtn");this.m_splitActionBarBtn.setIcon("screen-split-two");this.m_splitActionBarBtn.registerOnPress(this);};f.GsGalaxyStudio.prototype.createNotRunningContent=function(a){var w=a.setNewContent(f.UiType.FLEX_LAYOUT);w.useMaxSpace();w.setAlignItems(f.UiFlexAlignItems.CENTER);w.setJustifyContent(f.UiFlexJustifyContent.CENTER);var n=w.addNewItemOfType(f.UiType.LABEL);n.setText("Not running...");n.setFontSizeCss("18px");n.setMarginCss("20px");};f.GsGalaxyStudio.prototype.openFileByPath=function(a){if(f.notNull(a)){var s=this.getSession();var b=f.XFile.createExt(s,a,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);if(f.isNull(b)||b.isExisting()===false){this.log2("File does not exist: ",a);return;}this.setFile(b);}};f.GsGalaxyStudio.prototype.initSettings=function(){if(this.getProcess()!==null){var r=this.getProcess().getUserManager().getUserSettings().getStringByKeyExt(f.GsGalaxyStudio.GALAXY_RECENT_FILES_KEY,"");if(f.XStringUtils.isNotNullAndNotEmpty(r)){this.m_recentFiles=f.XStringTokenizer.splitString(r,f.GsGalaxyStudio.RECENT_FILES_SEPARATOR);}else{this.m_recentFiles=f.XListOfString.create();}}};f.GsGalaxyStudio.prototype.updateEditorStatus=function(){if(f.notNull(this.m_file)){this.loadFileContent(this.m_file);this.setTitle(this.m_file.getName());}else{this.setTitle("untitled");}};f.GsGalaxyStudio.prototype.setFile=function(a){this.m_file=a;this.loadFileContent(a);};f.GsGalaxyStudio.prototype.loadFileContent=function(a){if(f.notNull(a)&&a.isExisting()&&f.notNull(this.m_codeEditor)){a.processLoad(f.SyncType.NON_BLOCKING,this,null,f.CompressionType.NONE);}return null;};f.GsGalaxyStudio.prototype.showAppContainer=function(s){if(f.notNull(this.m_appContainerWrapper)){this.m_appContainerWrapper.setVisible(s);this.m_splitActionBarBtn.setPressed(s);}};f.GsGalaxyStudio.prototype.addRecentFileToUserSettings=function(a){if(f.notNull(a)){var b=a.getVfsUri().getUrl();var r=this.getProcess().getUserManager().getUserSettings().getStringByKeyExt(f.GsGalaxyStudio.GALAXY_RECENT_FILES_KEY,"");if(!f.XStringUtils.containsString(r,b,true)){if(f.XStringUtils.isNotNullAndNotEmpty(r)){r=f.XStringUtils.concatenate3(r,f.GsGalaxyStudio.RECENT_FILES_SEPARATOR,b);}else{r=b;}this.getProcess().getUserManager().getUserSettings().putString(f.GsGalaxyStudio.GALAXY_RECENT_FILES_KEY,r);if(f.notNull(this.m_recentFiles)){this.m_recentFiles.add(b);}}}};f.GsGalaxyStudio.prototype.executeApp=function(d){if(f.isNull(this.m_quasarEngine)){this.m_quasarEngine=f.QuasarEngine.create(this.getApplication());}if(f.isNull(this.m_quasarEngineGenesis)){this.m_quasarEngineGenesis=f.UiGenesis.create(this.m_appContainer,f.UiPosition.CONTENT,f.UiOperation.SET,0,0);}if(f.XStringUtils.isNotNullAndNotEmpty(d)){var p=f.JsonParserFactory.newInstance();var j=p.parse(d);if(f.notNull(j)){if(p.hasErrors()){this.m_genesis.showErrorToast("Document is not a quasar document!");this.m_runActionBarBtn.setPressed(false);}else{f.XObjectExt.release(p);if(j.isStructure()){this.showAppContainer(true);this.m_runActionBarBtn.setPressed(true);this.m_quasarEngine.reset();this.m_quasarEngine.setDocument(j);this.m_quasarEngine.renderUi(this.m_quasarEngineGenesis);}}}else{this.m_genesis.showErrorToast("Document is not a json!");this.m_runActionBarBtn.setPressed(false);}}else{this.m_genesis.showErrorToast("Document is empty!");this.m_runActionBarBtn.setPressed(false);}};f.GsGalaxyStudio.prototype.stopExecution=function(){if(f.notNull(this.m_quasarEngine)){this.m_quasarEngine=f.XObjectExt.release(this.m_quasarEngine);}if(f.notNull(this.m_quasarEngineGenesis)){this.m_quasarEngineGenesis=f.XObjectExt.release(this.m_quasarEngineGenesis);}this.createNotRunningContent(this.m_appContainer);this.m_runActionBarBtn.setPressed(false);};f.GsGalaxyStudio.prototype.isRunning=function(){return this.m_runActionBarBtn.isPressed()&&f.notNull(this.m_quasarEngine)&&f.notNull(this.m_appContainerWrapper);};f.GsGalaxyStudio.prototype.createFileToolbarMenu=function(a){var b=this.m_genesis.newControl(f.UiType.MENU);b.setName("gsFileToolbarMenu");b.addNewItem().setName("gsToolbarMenuNew").setText("New").setIcon("document").registerOnPress(this);b.addNewItem().setName("gsToolbarMenuOpen").setText("Open").setIcon("open-folder").registerOnPress(this).setEnabled(false);var r=b.addNewItem().setName("gsToolbarMenuRecent").setText("Recent").setIcon("history").registerOnPress(this);b.addNewItem().setName("gsToolbarMenuSave").setText("Save").setIcon("save").registerOnPress(this).setSectionStart(true).setEnabled(false);b.addNewItem().setName("gsToolbarMenuSaveAs").setText("Save as...").setIcon("save").registerOnPress(this).setEnabled(false);this.createRecentFilesMenu(r);b.openAt(a);};f.GsGalaxyStudio.prototype.createToolsToolbarMenu=function(t){var a=this.m_genesis.newControl(f.UiType.MENU);a.setName("gsToolsToolbarMenu");a.addNewItem().setName("gsToolbarMenuDiscardChanges").setText("Discard changes").setIcon("eraser").registerOnPress(this);a.openAt(t);};f.GsGalaxyStudio.prototype.createRecentFilesMenu=function(r){if(f.notNull(r)){if(this.m_recentFiles.size()>0){var a=this.m_recentFiles.getIterator();while(a.hasNext()){var b=a.next();r.addNewItem().setTag("gsToolbarSubMenuRecentFiles").setText(b).setIcon("timesheet").registerOnPress(this);}}else{r.addNewItem().setTag("gsToolbarSubMenuRecentFiles").setText("None").setIcon(null).setEnabled(false);}r.addNewItem().setName("gsToolbarSubMenuRecentFilesClear").setText("Clear").setIcon("delete").setSectionStart(true).registerOnPress(this);}};f.GsGalaxyStudio.prototype.newProject=function(){if(f.notNull(this.m_codeEditor)){this.m_codeEditor.setText("{\r\n \"DocType\": \"FireflyApp\",\r\n \"Content\": {\r\n     \"CType\": \"Label\",\r\n     \"Text\": \"Hello world!\"\r\n },\r\n  \"DataProviders\": [],\r\n  \"Bindings\": []\r\n}");}};f.GsGalaxyStudio.prototype.openRecentFile=function(a){if(f.XStringUtils.isNotNullAndNotEmpty(a)){this.openFileByPath(a);}};f.GsGalaxyStudio.prototype.clearRecentFiles=function(){this.getProcess().getUserManager().getUserSettings().removeKey(f.GsGalaxyStudio.GALAXY_RECENT_FILES_KEY);this.m_recentFiles.clear();};f.GsGalaxyStudio.prototype.openHelpAlert=function(){var h=this.m_genesis.newControl(f.UiType.ALERT);h.setName("gsHelpAlert");h.setTitle("Help");h.setText("Galaxy Studio v0.1 Alpha! \n Proudly brought to you by Firefly!");h.open();};f.GsGalaxyStudio.prototype.onFileLoaded=function(e,a,b,c){if(e.isValid()&&f.notNull(this.m_codeEditor)){if(f.notNull(b)){this.addRecentFileToUserSettings(a);var s=b.getString();this.m_codeEditor.setText(s);this.setTitle(a.getName());}}};f.GsGalaxyStudio.prototype.onPress=function(e){f.DfUiProgram.prototype.onPress.call(this,e);var c=e.getControl();var a=c.getParent();if(e.getControl()===this.m_runActionBarBtn){if(this.m_runActionBarBtn.isPressed()){this.executeApp(this.m_codeEditor.getText());}else{this.stopExecution();}}else if(e.getControl()===this.m_stopActionBarBtn){this.stopExecution();}else if(e.getControl()===this.m_splitActionBarBtn){if(this.m_splitActionBarBtn.isPressed()){this.showAppContainer(true);}else{this.showAppContainer(false);}}if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR){switch(c.getName()){case"gsFileToolbarBtn":this.createFileToolbarMenu(c);break;case"gsToolsToolbarBtn":this.createToolsToolbarMenu(c);break;case"gsToolbarHelpBtn":this.openHelpAlert();break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU&&f.XString.isEqual(a.getName(),"gsFileToolbarMenu")){switch(c.getName()){case"gsToolbarMenuNew":this.newProject();break;case"gsToolbarMenuSave":this.m_genesis.showInfoToast("Save pressed");break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU&&f.XString.isEqual(a.getName(),"gsToolsToolbarMenu")){switch(c.getName()){case"gsToolbarMenuDiscardChanges":this.m_genesis.showInfoToast("Discard changes pressed");break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU_ITEM&&f.XString.isEqual(a.getName(),"gsToolbarMenuRecent")){if(f.XString.isEqual(c.getName(),"gsToolbarSubMenuRecentFilesClear")){this.clearRecentFiles();}else if(f.XString.isEqual(c.getTag(),"gsToolbarSubMenuRecentFiles")){this.openRecentFile(c.getText());}}};f.GsGalaxyStudio.prototype.onFileDrop=function(e){var a=e.getParameters().getStringByKeyExt(f.UiControlEvent.PARAM_FILE_CONTENT,null);if(f.XStringUtils.isNotNullAndNotEmpty(a)){this.m_codeEditor.setText(a);}};f.GsGalaxyStudio.prototype.onLiveChange=function(e){var d=e.getParameters().getStringByKeyExt(f.UiControlEvent.PARAM_VALUE,null);if(this.isRunning()){this.executeApp(d);}};f.AuGds=function(){};f.AuGds.prototype=new f.DfUiProgram();f.AuGds.prototype._ff_c="AuGds";f.AuGds.DEFAULT_PROGRAM_NAME="Gds";f.AuGds.MENU_BAR_FILE_BTN="gdsFileMenuBarBtn";f.AuGds.MENU_BAR_EDIT_BTN="gdsEditMenuBarBtn";f.AuGds.MENU_BAR_VIEW_BTN="gdsViewMenuBarBtn";f.AuGds.MENU_BAR_DATA_SOURCE_BTN="gdsDataSourceMenuBarBtn";f.AuGds.MENU_BAR_FILE_MENU="gdsFileMenuBarMenu";f.AuGds.MENU_BAR_FILE_MENU_NEW="gdsMenuBarMenuNew";f.AuGds.MENU_BAR_FILE_MENU_OPEN="gdsMenuBarMenuOpen";f.AuGds.MENU_BAR_FILE_MENU_SAVE="gdsMenuBarMenuSave";f.AuGds.MENU_BAR_FILE_MENU_SAVE_AS="gdsMenuBarMenuSaveAs";f.AuGds.MENU_BAR_EDIT_MENU="gdsEditMenuBarMenu";f.AuGds.MENU_BAR_EDIT_MENU_CLEAR_RECENTS="gdsMenuBarEditMenuClearRecents";f.AuGds.MENU_BAR_VIEW_MENU="gdsViewMenuBarMenu";f.AuGds.MENU_BAR_VIEW_MENU_FILTER_PANEL="gdsViewMenuBarMenuFilterPanel";f.AuGds.MENU_BAR_VIEW_MENU_NAV_PANEL="gdsViewMenuBarMenuNavPanel";f.AuGds.MENU_BAR_DATA_SOURCE_MENU="gdsDataSourceMenuBarMenu";f.AuGds.MENU_BAR_DATA_SOURCE_MENU_SELECT_DATA_SOURCE="gdsMenuBarDataSourceMenuSelectDataSource";f.AuGds.MENU_BAR_DATA_SOURCE_MENU_RESET="gdsMenuBarDataSourceMenuReset";f.AuGds.MENU_BAR_DATA_SOURCE_MENU_VARIABLES="gdsMenuBarDataSourceMenuVariables";f.AuGds.QUICK_ACTION_TOOLBAR="gdsQuickActionToolbar";f.AuGds.QUICK_ACTION_TOOLBAR_NEW="gdsQuickActionToolbarNew";f.AuGds.QUICK_ACTION_TOOLBAR_OPEN="gdsQuickActionToolbarOpen";f.AuGds.QUICK_ACTION_TOOLBAR_SAVE_AS="gdsQuickActionToolbarSaveAs";f.AuGds.QUICK_ACTION_TOOLBAR_UNDO="gdsQuickActionToolbarUndo";f.AuGds.QUICK_ACTION_TOOLBAR_REDO="gdsQuickActionToolbarRedo";f.AuGds.QUICK_ACTION_TOOLBAR_SELECT_DATA_SOURCE="gdsQuickActionToolbarSelectDataSource";f.AuGds.QUICK_ACTION_TOOLBAR_RESET="gdsQuickActionToolbarReset";f.AuGds.QUICK_ACTION_TOOLBAR_VARIABLES="gdsQuickActionToolbarVariables";f.AuGds.RECENT_FILES_LIST_NAME="gdsRecentFileList";f.AuGds.RECENT_FILES_LIST_HEADER_CLEAR_BTN="gdsRecentFileListHeaderClearBtn";f.AuGds.RECENT_FILES_LIST_ITEM_TAG="gdsRecentFileListItem";f.AuGds.QDF_FILE_SYSTEM_KEY="system";f.AuGds.QDF_FILE_DATA_SOURCE_KEY="dataSource";f.AuGds.QDF_FILE_INA_REPO_KEY="inaRepo";f.AuGds.PARAM_SYSTEM="system";f.AuGds.PARAM_DATASOURCE="datasource";f.AuGds.RECENT_FILES_SEPARATOR=",";f.AuGds.GDS_RECENT_FILES_KEY="queryDesginer_recentFiles";f.AuGds.GDS_AUTO_OPEN_NAVIGATION_PANEL_KEY="queryDesginer_autoOpenNavigationPanel";f.AuGds.GDS_AUTO_OPEN_FILTER_PANEL_KEY="queryDesginer_autoOpenFilterPanel";f.AuGds.SELECT_DATA_SOURCE_BTN="gdsSelectDataSourceBtn";f.AuGds.CONTENT_ACTIVITY_INDICATOR="gdsContentActivityIndicator";f.AuGds.createRunner=function(){var r=f.KernelBoot.createByName(f.AuGds.DEFAULT_PROGRAM_NAME);return r;};f.AuGds.prototype.m_mainLayout=null;f.AuGds.prototype.m_contentLayout=null;f.AuGds.prototype.m_recentFilesList=null;f.AuGds.prototype.m_statusLabel=null;f.AuGds.prototype.m_system=null;f.AuGds.prototype.m_dataSource=null;f.AuGds.prototype.m_inaRepoStr=null;f.AuGds.prototype.m_messageManager=null;f.AuGds.prototype.m_queryManager=null;f.AuGds.prototype.m_interactiveTable=null;f.AuGds.prototype.m_filterPanel=null;f.AuGds.prototype.m_navigationPanel=null;f.AuGds.prototype.m_variableDialog=null;f.AuGds.prototype.m_toolbar=null;f.AuGds.prototype.m_autoOpenNavPanel=false;f.AuGds.prototype.m_autoOpenFilterPanel=false;f.AuGds.prototype.m_file=null;f.AuGds.prototype.m_qdfFileJson=null;f.AuGds.prototype.m_recentFiles=null;f.AuGds.prototype.newProgram=function(){var p=new f.AuGds();p.setup();return p;};f.AuGds.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption(f.DfProgram.PARAM_FILE,"Specify a gds file","Relative URI",f.XValueType.STRING);m.addParameter(f.AuGds.PARAM_SYSTEM,"The system to connect to.");m.addParameter(f.AuGds.PARAM_DATASOURCE,"The datasource to be used.");};f.AuGds.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);var a=this.getArgumentStructure();var b=a.getStringByKey(f.DfProgram.PARAM_FILE);this.createFileFromPath(b);this.m_system=a.getStringByKeyExt(f.AuGds.PARAM_SYSTEM,null);this.m_dataSource=a.getStringByKeyExt(f.AuGds.PARAM_DATASOURCE,null);};f.AuGds.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);this.setupInternal();};f.AuGds.prototype.releaseObject=function(){this.m_file=f.XObjectExt.release(this.m_file);this.m_recentFiles=f.XObjectExt.release(this.m_recentFiles);this.m_recentFilesList=f.XObjectExt.release(this.m_recentFilesList);this.m_contentLayout=f.XObjectExt.release(this.m_contentLayout);this.m_mainLayout=f.XObjectExt.release(this.m_mainLayout);this.m_toolbar=f.XObjectExt.release(this.m_toolbar);this.m_statusLabel=f.XObjectExt.release(this.m_statusLabel);this.m_filterPanel=f.XObjectExt.release(this.m_filterPanel);this.m_navigationPanel=f.XObjectExt.release(this.m_navigationPanel);this.m_interactiveTable=f.XObjectExt.release(this.m_interactiveTable);f.DfUiProgram.prototype.releaseObject.call(this);};f.AuGds.prototype.getLogSeverity=function(){return f.DfUiProgram.prototype.getLogSeverity.call(this);};f.AuGds.prototype.isShowMenuBar=function(){return true;};f.AuGds.prototype.getDefaultWindowSize=function(){return f.UiSizeValue.createByCss("70vw","70vh");};f.AuGds.prototype.getDefaultProgramName=function(){return f.AuGds.DEFAULT_PROGRAM_NAME;};f.AuGds.prototype.setupInternal=function(){this.initSettings();};f.AuGds.prototype.initSettings=function(){this.initRecentFiles();this.m_autoOpenNavPanel=this.getProcess().getUserManager().getUserSettings().getBooleanByKeyExt(f.AuGds.GDS_AUTO_OPEN_NAVIGATION_PANEL_KEY,false);this.m_autoOpenFilterPanel=this.getProcess().getUserManager().getUserSettings().getBooleanByKeyExt(f.AuGds.GDS_AUTO_OPEN_FILTER_PANEL_KEY,false);};f.AuGds.prototype.setupQueryManager=function(){this.m_messageManager=f.MessageManagerSimple.createMessageManager();if(f.XStringUtils.isNullOrEmpty(this.m_system)||f.XStringUtils.isNullOrEmpty(this.m_dataSource)){this.showErrorStatusMessage("Please specify a data source!");return;}this.setContentBusy("Loading query...");var s=f.QueryServiceConfig.createWithDataSourceName(this.getApplication(),this.m_system,this.m_dataSource);s.processQueryManagerCreation(f.SyncType.NON_BLOCKING,this,null);};f.AuGds.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);this.m_mainLayout=g.newControl(f.UiType.FLEX_LAYOUT);this.m_mainLayout.setDirection(f.UiFlexDirection.COLUMN);this.m_mainLayout.useMaxSpace();this.m_mainLayout.setBackgroundColor(f.UiColor.WHITE);this.m_toolbar=this.m_mainLayout.addNewItemOfType(f.UiType.TOOLBAR);this.m_toolbar.setName(f.AuGds.QUICK_ACTION_TOOLBAR);this.m_toolbar.setHeight(f.UiUnitValue.createByCss("40px"));this.m_toolbar.setWidth(f.UiUnitValue.createByCss("100%"));this.m_contentLayout=this.m_mainLayout.addNewItemOfType(f.UiType.FLEX_LAYOUT);this.m_contentLayout.setDirection(f.UiFlexDirection.ROW);this.m_contentLayout.useMaxSpace();this.m_contentLayout.registerOnFileDrop(this);this.m_statusLabel=this.m_mainLayout.addNewItemOfType(f.UiType.LABEL);this.m_statusLabel.setFlex("0 0 27px");this.m_statusLabel.setHeight(f.UiUnitValue.createByCss("27px"));this.m_statusLabel.setPadding(f.UiUnitValue.createByCss("5px"));this.m_statusLabel.setBackgroundColor(f.UiColor.GREY.newBrighterColor(0.28));g.setRoot(this.m_mainLayout);this.addMenuBarButton(f.AuGds.MENU_BAR_FILE_BTN,null,"File",null,this);this.addMenuBarButton(f.AuGds.MENU_BAR_EDIT_BTN,null,"Edit",null,this);this.addMenuBarButton(f.AuGds.MENU_BAR_VIEW_BTN,null,"View",null,this);this.addMenuBarButton(f.AuGds.MENU_BAR_DATA_SOURCE_BTN,null,"Data Source",null,this);this.initInitialView();};f.AuGds.prototype.initInitialView=function(){if(f.notNull(this.m_file)){this.updateQuickActionToolbar();this.setTitle(this.m_file.getName());this.openQdfFromFile(this.m_file);}else if(f.XStringUtils.isNotNullAndNotEmpty(this.m_system)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_dataSource)){this.updateQuickActionToolbar();this.setupQueryManager();this.showErrorStatusMessage(this.m_messageManager.getSummary());this.updateTable();}else{this.initHomeView();}};f.AuGds.prototype.initHomeView=function(){this.m_contentLayout.clearItems();this.m_recentFilesList=f.XObjectExt.release(this.m_recentFilesList);this.m_filterPanel=f.XObjectExt.release(this.m_filterPanel);this.m_navigationPanel=f.XObjectExt.release(this.m_navigationPanel);this.m_interactiveTable=f.XObjectExt.release(this.m_interactiveTable);this.m_queryManager=f.XObjectExt.release(this.m_queryManager);this.m_system=null;this.m_dataSource=null;this.m_inaRepoStr=null;this.m_file=null;var h=this.m_contentLayout.addNewItemOfType(f.UiType.FLEX_LAYOUT);h.setDirection(f.UiFlexDirection.COLUMN);h.setAlignItems(f.UiFlexAlignItems.CENTER);h.setJustifyContent(f.UiFlexJustifyContent.CENTER);h.useMaxSpace();var s=h.addNewItemOfType(f.UiType.FLEX_LAYOUT);s.setDirection(f.UiFlexDirection.COLUMN);s.setAlignItems(f.UiFlexAlignItems.CENTER);s.setJustifyContent(f.UiFlexJustifyContent.CENTER);s.useMaxSpace();var n=s.addNewItemOfType(f.UiType.LABEL);n.setText("No data source selected! Please select a data source!");n.setPadding(f.UiUnitValue.createByCss("10px"));var a=s.addNewItemOfType(f.UiType.BUTTON);a.setName(f.AuGds.SELECT_DATA_SOURCE_BTN);a.setText("Select Data Source");a.registerOnPress(this);if(f.notNull(this.m_recentFiles)&&this.m_recentFiles.size()>0){this.m_recentFilesList=h.addNewItemOfType(f.UiType.LIST);this.m_recentFilesList.setName(f.AuGds.RECENT_FILES_LIST_NAME);this.m_recentFilesList.setHeight(f.UiUnitValue.createByCss("280px"));this.m_recentFilesList.setWidth(f.UiUnitValue.createByCss("50%"));this.m_recentFilesList.setMargin(f.UiUnitValue.createByCss("10px"));this.m_recentFilesList.setSelectionMode(f.UiSelectionMode.SINGLE_SELECT_MASTER);this.m_recentFilesList.registerOnSelect(this);var l=this.m_recentFilesList.setNewHeader(f.UiType.FLEX_LAYOUT);l.useMaxSpace();l.setJustifyContent(f.UiFlexJustifyContent.SPACE_BETWEEN);l.setAlignItems(f.UiFlexAlignItems.CENTER);var r=l.addNewItemOfType(f.UiType.LABEL);r.setText("Recent files:");var c=l.addNewItemOfType(f.UiType.BUTTON);c.setName(f.AuGds.RECENT_FILES_LIST_HEADER_CLEAR_BTN);c.setIcon("delete");c.setButtonType(f.UiButtonType.DESTRUCTIVE);c.setTooltip("Clear recent files...");c.registerOnPress(this);this.reloadRecentFilesList();}this.setTitle("Home");this.showWarningStatusMessage("No data source selected!");this.updateQuickActionToolbar();};f.AuGds.prototype.updateStatusMessage=function(m,c){this.m_statusLabel.setText(m);this.m_statusLabel.setFontColor(c);};f.AuGds.prototype.resetStatusMessage=function(){this.updateStatusMessage(null,null);};f.AuGds.prototype.showWarningStatusMessage=function(m){this.updateStatusMessage(m,f.UiColor.YELLOW.newDarkerColor(0.22));};f.AuGds.prototype.showErrorStatusMessage=function(m){this.updateStatusMessage(m,f.UiColor.RED);};f.AuGds.prototype.setContentBusy=function(t){var c=this.m_contentLayout.getItemByName(f.AuGds.CONTENT_ACTIVITY_INDICATOR);if(f.isNull(c)){this.m_contentLayout.clearItems();if(f.notNull(this.m_interactiveTable)){this.m_interactiveTable=f.XObjectExt.release(this.m_interactiveTable);}c=this.m_contentLayout.addNewItemOfType(f.UiType.ACTIVITY_INDICATOR);c.useMaxSpace();}c.setText(t);};f.AuGds.prototype.setCriticalError=function(t){this.m_contentLayout.clearItems();if(f.notNull(this.m_interactiveTable)){this.m_interactiveTable=f.XObjectExt.release(this.m_interactiveTable);}var e=this.m_contentLayout.addNewItemOfType(f.UiType.LABEL);e.useMaxWidth();e.setPadding(f.UiUnitValue.createByCss("20px"));e.setTextAlign(f.UiTextAlign.CENTER);e.setFontColor(f.UiColor.RED);e.setText(t);this.showErrorStatusMessage("Error");};f.AuGds.prototype.updateTable=function(){if(f.isNull(this.m_interactiveTable)){return;}if(f.isNull(this.m_queryManager)){this.showErrorStatusMessage("No QueryManager.");return;}var a=this.m_queryManager.getActiveResultSetContainer();if(f.isNull(a)){this.showErrorStatusMessage("Cannot fetch results.");return;}if(a.hasErrors()){this.showErrorStatusMessage(a.getSummary());return;}this.m_interactiveTable.updateTable();this.resetStatusMessage();};f.AuGds.prototype.updateViews=function(){if(f.isNull(this.m_interactiveTable)){this.m_interactiveTable=f.AuGdsInteractiveTableView.create(this.getApplication(),this.m_queryManager,this,this.getGenesis());this.m_interactiveTable.getView().setWidth(f.UiUnitValue.createByCss("100%"));this.m_interactiveTable.getView().setFlex("3 1 50%");this.m_contentLayout.clearItems();this.m_contentLayout.addItem(this.m_interactiveTable.getView());this.m_interactiveTable.registerOnSelectionChange(this);}else{this.m_interactiveTable.setQueryManager(this.m_queryManager);}if(f.notNull(this.m_filterPanel)){this.m_filterPanel.setQueryManager(this.m_queryManager);}if(f.notNull(this.m_navigationPanel)){this.m_navigationPanel.setQueryManager(this.m_queryManager);}if(this.m_autoOpenFilterPanel){this.toggleFilterPanel();}if(this.m_autoOpenNavPanel){this.toggleNavigationPanel();}var h=this.m_queryManager.hasInputEnabledVariables();this.m_variableDialog=f.XObjectExt.release(this.m_variableDialog);if(h&&this.m_queryManager.isSubmitNeeded()){this.m_variableDialog=f.VdUqmEntryPoint.createEntryPoint("Variable Dialog",this.m_queryManager,this);this.m_variableDialog.open();this.showWarningStatusMessage("Please select mandatory variables!");return;}this.updateTable();};f.AuGds.prototype.createFileFromPath=function(a){if(f.notNull(a)){var s=this.getSession();var q=f.XFile.createExt(s,a,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);if(f.isNull(q)||q.isExisting()===false){this.log2("File does not exist: ",a);this.m_file=null;}else{this.m_file=q;}}};f.AuGds.prototype.openQdfFromFile=function(q){if(q.isExisting()){q.processLoad(f.SyncType.NON_BLOCKING,this,null,f.CompressionType.NONE);}};f.AuGds.prototype.loadStoryFromFileJson=function(q){if(this.isQdfJsonFileValid(q)){this.m_qdfFileJson=q;this.m_system=this.m_qdfFileJson.getStringByKey(f.AuGds.QDF_FILE_SYSTEM_KEY);this.m_dataSource=this.m_qdfFileJson.getStringByKey(f.AuGds.QDF_FILE_DATA_SOURCE_KEY);this.m_inaRepoStr=this.m_qdfFileJson.getStringByKey(f.AuGds.QDF_FILE_INA_REPO_KEY);this.setupQueryManager();}else{this.getGenesis().showErrorToast("Invalid qdf file!");this.m_qdfFileJson=null;}};f.AuGds.prototype.isQdfJsonFileValid=function(q){if(f.isNull(q)){return false;}if(!q.containsKey(f.AuGds.QDF_FILE_SYSTEM_KEY)){return false;}if(!q.containsKey(f.AuGds.QDF_FILE_DATA_SOURCE_KEY)){return false;}return true;};f.AuGds.prototype.saveCurrentQueryAsQdfFile=function(o){if(f.isNull(this.m_queryManager)){this.getGenesis().showErrorToast("No query!");return;}if(f.isNull(o)){this.getGenesis().showErrorToast("Error during file saving!");return;}var i=this.m_queryManager.getQueryModel().serializeToString(f.QModelFormat.INA_REPOSITORY);var n=f.PrStructure.create();n.putString(f.AuGds.QDF_FILE_SYSTEM_KEY,this.m_system);n.putString(f.AuGds.QDF_FILE_DATA_SOURCE_KEY,this.m_dataSource);n.putString(f.AuGds.QDF_FILE_INA_REPO_KEY,i);var a=f.XContent.createJsonObjectContent(f.ContentType.JSON,n);o.processSave(f.SyncType.BLOCKING,null,null,a,f.CompressionType.NONE);if(o.hasErrors()){this.getGenesis().showErrorToast(o.getSummary());}else{this.addRecentFileEntry(o);this.getGenesis().showSuccessToast("Saved!");}};f.AuGds.prototype.initRecentFiles=function(){if(f.notNull(this.m_recentFiles)){this.m_recentFiles.clear();this.m_recentFiles=f.XObjectExt.release(this.m_recentFiles);}var r=this.getProcess().getUserManager().getUserSettings().getStringByKeyExt(f.AuGds.GDS_RECENT_FILES_KEY,"");if(f.XStringUtils.isNotNullAndNotEmpty(r)){this.m_recentFiles=f.XStringTokenizer.splitString(r,f.AuGds.RECENT_FILES_SEPARATOR);}else{this.m_recentFiles=f.XListOfString.create();}};f.AuGds.prototype.reloadRecentFilesList=function(){if(f.notNull(this.m_recentFilesList)){this.m_recentFilesList.clearItems();var r=this.m_recentFiles.getIterator();while(r.hasNext()){var a=r.next();var t=this.m_recentFilesList.addNewItem();t.setTag(f.AuGds.RECENT_FILES_LIST_ITEM_TAG);t.setText(a);}}};f.AuGds.prototype.saveRecentFilesToUserSettings=function(){if(f.notNull(this.m_recentFiles)){var r="";for(var a=0;a<this.m_recentFiles.size();a++){var t=this.m_recentFiles.get(a);r=f.XStringUtils.concatenate2(r,t);if(a!==this.m_recentFiles.size()-1){r=f.XStringUtils.concatenate2(r,f.AuGds.RECENT_FILES_SEPARATOR);}}this.getProcess().getUserManager().getUserSettings().putString(f.AuGds.GDS_RECENT_FILES_KEY,r);this.initRecentFiles();}};f.AuGds.prototype.addRecentFileEntry=function(a){if(f.notNull(a)&&f.notNull(this.m_recentFiles)){var b=a.getVfsUri().getUrl();this.m_recentFiles.removeElement(b);this.m_recentFiles.insert(0,b);this.reloadRecentFilesList();this.saveRecentFilesToUserSettings();}};f.AuGds.prototype.removeRecentFileEntry=function(a){if(f.notNull(this.m_recentFiles)){this.m_recentFiles.removeElement(a);this.reloadRecentFilesList();this.saveRecentFilesToUserSettings();}};f.AuGds.prototype.clearRecentFiles=function(){this.getProcess().getUserManager().getUserSettings().removeKey(f.AuGds.GDS_RECENT_FILES_KEY);this.m_recentFiles.clear();var r=this.m_contentLayout.getItemByName(f.AuGds.RECENT_FILES_LIST_NAME);if(f.notNull(r)){r.clearItems();}this.getGenesis().showSuccessToast("Recent files successfully cleared!");};f.AuGds.prototype.createFileMenuBarMenu=function(a){var b=this.getGenesis().newControl(f.UiType.MENU);b.setName(f.AuGds.MENU_BAR_FILE_MENU);b.addNewItem().setName(f.AuGds.MENU_BAR_FILE_MENU_NEW).setText("New").setIcon("document").registerOnPress(this);b.addNewItem().setName(f.AuGds.MENU_BAR_FILE_MENU_OPEN).setText("Open").setIcon("open-folder").registerOnPress(this).setEnabled(false);b.addNewItem().setName(f.AuGds.MENU_BAR_FILE_MENU_SAVE).setText("Save").setIcon("save").registerOnPress(this).setSectionStart(true).setEnabled(f.notNull(this.m_file));b.addNewItem().setName(f.AuGds.MENU_BAR_FILE_MENU_SAVE_AS).setText("Save as...").setIcon("save").registerOnPress(this).setEnabled(f.notNull(this.m_queryManager));b.openAt(a);};f.AuGds.prototype.createEditToolbarMenu=function(a){var e=this.getGenesis().newControl(f.UiType.MENU);e.setName(f.AuGds.MENU_BAR_EDIT_MENU);e.addNewItem().setName(f.AuGds.MENU_BAR_EDIT_MENU_CLEAR_RECENTS).setText("Clear recent files").setIcon("delete").registerOnPress(this).setEnabled(f.notNull(this.m_recentFiles)&&this.m_recentFiles.size()>0);e.openAt(a);};f.AuGds.prototype.createViewToolbarMenu=function(a){var v=this.getGenesis().newControl(f.UiType.MENU);v.setName(f.AuGds.MENU_BAR_VIEW_MENU);v.addNewItem().setName(f.AuGds.MENU_BAR_VIEW_MENU_FILTER_PANEL).setText("Show Filter Panel").setIcon(f.notNull(this.m_filterPanel)&&this.m_filterPanel.getView().getParent()===this.m_contentLayout?"accept":null).registerOnPress(this).setEnabled(f.notNull(this.m_queryManager));v.addNewItem().setName(f.AuGds.MENU_BAR_VIEW_MENU_NAV_PANEL).setText("Show Navigation Panel").setIcon(f.notNull(this.m_navigationPanel)&&this.m_navigationPanel.getView().getParent()===this.m_contentLayout?"accept":null).registerOnPress(this).setEnabled(f.notNull(this.m_queryManager));v.openAt(a);};f.AuGds.prototype.createDataSourceToolbarMenu=function(a){var d=this.getGenesis().newControl(f.UiType.MENU);d.setName(f.AuGds.MENU_BAR_DATA_SOURCE_MENU);d.addNewItem().setName(f.AuGds.MENU_BAR_DATA_SOURCE_MENU_SELECT_DATA_SOURCE).setText("Select Data Source").setIcon("database").registerOnPress(this);d.addNewItem().setName(f.AuGds.MENU_BAR_DATA_SOURCE_MENU_RESET).setText("Reset").setIcon("reset").registerOnPress(this).setEnabled(f.notNull(this.m_queryManager));d.addNewItem().setName(f.AuGds.MENU_BAR_DATA_SOURCE_MENU_VARIABLES).setText("Set Variables").setIcon("customize").registerOnPress(this).setSectionStart(true).setEnabled(f.notNull(this.m_queryManager)&&this.m_queryManager.hasInputEnabledVariables());d.openAt(a);};f.AuGds.prototype.updateQuickActionToolbar=function(){this.m_toolbar.clearItems();this.m_toolbar.addNewItemOfType(f.UiType.BUTTON).setName(f.AuGds.QUICK_ACTION_TOOLBAR_NEW).setTooltip("New").setIcon("document").registerOnPress(this);this.m_toolbar.addNewItemOfType(f.UiType.BUTTON).setName(f.AuGds.QUICK_ACTION_TOOLBAR_OPEN).setTooltip("Open").setIcon("open-folder").registerOnPress(this).setEnabled(false);this.m_toolbar.addNewItemOfType(f.UiType.BUTTON).setName(f.AuGds.QUICK_ACTION_TOOLBAR_SAVE_AS).setTooltip("Save as...").setIcon("save").registerOnPress(this).setEnabled(f.notNull(this.m_queryManager));this.m_toolbar.addNewItemOfType(f.UiType.SPACER);this.m_toolbar.addNewItemOfType(f.UiType.BUTTON).setName(f.AuGds.QUICK_ACTION_TOOLBAR_UNDO).setTooltip("Undo last action...").setIcon("undo").registerOnPress(this).setEnabled(f.notNull(this.m_queryManager)&&this.getApplication().getUndoManager().getAvailableUndoStepCount()>0);this.m_toolbar.addNewItemOfType(f.UiType.BUTTON).setName(f.AuGds.QUICK_ACTION_TOOLBAR_REDO).setTooltip("Redo last action...").setIcon("redo").registerOnPress(this).setEnabled(f.notNull(this.m_queryManager)&&this.getApplication().getUndoManager().getAvailableRedoStepCount()>0);this.m_toolbar.addNewItemOfType(f.UiType.SPACER);this.m_toolbar.addNewItemOfType(f.UiType.BUTTON).setName(f.AuGds.QUICK_ACTION_TOOLBAR_SELECT_DATA_SOURCE).setTooltip("Select Data Source").setIcon("database").registerOnPress(this);this.m_toolbar.addNewItemOfType(f.UiType.BUTTON).setName(f.AuGds.QUICK_ACTION_TOOLBAR_RESET).setTooltip("Reset").setIcon("reset").registerOnPress(this).setEnabled(f.notNull(this.m_queryManager));this.m_toolbar.addNewItemOfType(f.UiType.BUTTON).setName(f.AuGds.QUICK_ACTION_TOOLBAR_VARIABLES).setTooltip("Set Variables").setIcon("customize").registerOnPress(this).setSectionStart(true).setEnabled(f.notNull(this.m_queryManager)&&this.m_queryManager.hasInputEnabledVariables());this.m_toolbar.addNewItemOfType(f.UiType.SPACER);if(f.notNull(this.m_interactiveTable)){this.m_toolbar.addAllItems(this.m_interactiveTable.getToolbarItems());}};f.AuGds.prototype.onSelectDataSourcePressed=function(){var a=f.ProgramRegistration.getProgramManifest(f.AuDatasourcePicker.DEFAULT_PROGRAM_NAME);var b=f.ProgramStartCfg.create(this.getProcess(),a.getName(),null,null);var t=b.getArguments();t.getArgumentStructure().putString(f.AuDatasourcePicker.PARAM_SYSTEM,this.m_system);t.putXObject(f.AuDatasourcePicker.PARAM_LISTENER,this);b.setParentProcess(this.getProcess());b.setIsCreatingChildProcess(true);b.processExecution(f.SyncType.NON_BLOCKING,null,null);};f.AuGds.prototype.onResetDataSourcePressed=function(){if(f.notNull(this.m_queryManager)&&f.notNull(this.m_interactiveTable)){this.m_queryManager.getConvenienceCommands().resetToDefault();this.updateTable();}};f.AuGds.prototype.onOpenVariableDialogPressed=function(){this.m_variableDialog=f.XObjectExt.release(this.m_variableDialog);this.m_variableDialog=f.VdUqmEntryPoint.createEntryPoint("Variable Dialog",this.m_queryManager,this);this.m_variableDialog.open();};f.AuGds.prototype.onOpenPressed=function(){};f.AuGds.prototype.onSavePressed=function(){this.saveCurrentQueryAsQdfFile(this.m_file);};f.AuGds.prototype.onSaveAsPressed=function(){var d="${ff_sdk}/production/queries/gds/";var g=f.XStringUtils.concatenate3(this.m_system,"_",this.m_queryManager.getQueryModel().getDataSource().getName());g=f.XString.toLowerCase(g);g=f.XStringUtils.concatenate2(g,".qdf");g=f.XStringUtils.concatenate2(d,g);var n=f.UiInputPopup.createNewInputPopup(this.getGenesis(),"Save as...","Please specify the file",this);n.setInputPlaceholder("File path");n.setInputValue(g);n.open();n.selectText(f.XString.size(d),f.XString.size(g)-4);};f.AuGds.prototype.onUndoPressed=function(){if(f.notNull(this.m_interactiveTable)){this.m_interactiveTable.executeUndo();}};f.AuGds.prototype.onRedoPressed=function(){if(f.notNull(this.m_interactiveTable)){this.m_interactiveTable.executeRedo();}};f.AuGds.prototype.toggleFilterPanel=function(){if(f.isNull(this.m_filterPanel)){this.m_filterPanel=f.AuGdsFilterPanel.createFilterPanel(this.getGenesis());this.m_filterPanel.setQueryManager(this.m_queryManager);this.m_filterPanel.getView().setWidth(f.UiUnitValue.createByCss("25%"));this.m_filterPanel.getView().setFlex("1 1 25%");this.m_filterPanel.addEditActionListener(this);}if(this.m_filterPanel.getView().getParent()!==null){this.m_contentLayout.removeItem(this.m_filterPanel.getView());this.m_autoOpenFilterPanel=false;}else{this.m_contentLayout.addItem(this.m_filterPanel.getView());this.m_autoOpenFilterPanel=true;}this.getProcess().getUserManager().getUserSettings().putBoolean(f.AuGds.GDS_AUTO_OPEN_FILTER_PANEL_KEY,this.m_autoOpenFilterPanel);};f.AuGds.prototype.toggleNavigationPanel=function(){if(f.isNull(this.m_navigationPanel)){this.m_navigationPanel=f.AuGdsNavigationPanel.createNavPanel(this.getGenesis());this.m_navigationPanel.setQueryManager(this.m_queryManager);this.m_navigationPanel.getView().setWidth(f.UiUnitValue.createByCss("25%"));this.m_navigationPanel.getView().setFlex("1 1 25%");this.m_navigationPanel.addEditActionListener(this);}if(this.m_navigationPanel.getView().getParent()!==null){this.m_contentLayout.removeItem(this.m_navigationPanel.getView());this.m_autoOpenNavPanel=false;}else{this.m_contentLayout.addItem(this.m_navigationPanel.getView());this.m_autoOpenNavPanel=true;}this.getProcess().getUserManager().getUserSettings().putBoolean(f.AuGds.GDS_AUTO_OPEN_NAVIGATION_PANEL_KEY,this.m_autoOpenNavPanel);};f.AuGds.prototype.onDatasourceSelected=function(d){if(f.isNull(d)){return;}if(f.notNull(this.m_interactiveTable)){this.m_interactiveTable.clearTable();}this.m_system=d.getSystemName();this.m_dataSource=d.getFullQualifiedName();this.setTitle(f.XStringUtils.concatenate3(this.m_system," - ",d.getName()));this.setupQueryManager();};f.AuGds.prototype.onQueryManagerCreated=function(e,q,c){if(e.hasErrors()){this.m_messageManager.addAllMessages(e);this.setCriticalError(this.m_messageManager.getSummary());return;}this.m_queryManager=e.getData();if(f.XStringUtils.isNotNullAndNotEmpty(this.m_inaRepoStr)){this.m_queryManager.getQueryModel().getVariableContainer().deserializeExt(f.QModelFormat.INA_REPOSITORY,this.m_inaRepoStr);this.m_queryManager.submitVariables(f.SyncType.NON_BLOCKING,this,null);}else{this.updateViews();}};f.AuGds.prototype.onVariableProcessorExecuted=function(e,r,c){if(e.hasErrors()){this.getGenesis().showWarningToast("Could not submit variables!");}else{this.m_queryManager.getQueryModel().deserializeExt(f.QModelFormat.INA_REPOSITORY_NO_VARS,this.m_inaRepoStr);}this.m_inaRepoStr=null;this.updateViews();};f.AuGds.prototype.onPress=function(e){f.DfUiProgram.prototype.onPress.call(this,e);var c=e.getControl();var a=c.getParent();if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR&&a===this.getMenuBar()){switch(c.getName()){case f.AuGds.MENU_BAR_FILE_BTN:this.createFileMenuBarMenu(c);break;case f.AuGds.MENU_BAR_EDIT_BTN:this.createEditToolbarMenu(c);break;case f.AuGds.MENU_BAR_VIEW_BTN:this.createViewToolbarMenu(c);break;case f.AuGds.MENU_BAR_DATA_SOURCE_BTN:this.createDataSourceToolbarMenu(c);break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU&&f.XString.isEqual(a.getName(),f.AuGds.MENU_BAR_FILE_MENU)){switch(c.getName()){case f.AuGds.MENU_BAR_FILE_MENU_NEW:this.initHomeView();break;case f.AuGds.MENU_BAR_FILE_MENU_OPEN:this.onOpenPressed();break;case f.AuGds.MENU_BAR_FILE_MENU_SAVE:this.onSavePressed();break;case f.AuGds.MENU_BAR_FILE_MENU_SAVE_AS:this.onSaveAsPressed();break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU&&f.XString.isEqual(a.getName(),f.AuGds.MENU_BAR_EDIT_MENU)){switch(c.getName()){case f.AuGds.MENU_BAR_EDIT_MENU_CLEAR_RECENTS:this.clearRecentFiles();break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU&&f.XString.isEqual(a.getName(),f.AuGds.MENU_BAR_VIEW_MENU)){switch(c.getName()){case f.AuGds.MENU_BAR_VIEW_MENU_FILTER_PANEL:this.toggleFilterPanel();break;case f.AuGds.MENU_BAR_VIEW_MENU_NAV_PANEL:this.toggleNavigationPanel();break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU&&f.XString.isEqual(a.getName(),f.AuGds.MENU_BAR_DATA_SOURCE_MENU)){switch(c.getName()){case f.AuGds.MENU_BAR_DATA_SOURCE_MENU_SELECT_DATA_SOURCE:this.onSelectDataSourcePressed();break;case f.AuGds.MENU_BAR_DATA_SOURCE_MENU_RESET:this.onResetDataSourcePressed();break;case f.AuGds.MENU_BAR_DATA_SOURCE_MENU_VARIABLES:this.onOpenVariableDialogPressed();break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR&&f.XString.isEqual(a.getName(),f.AuGds.QUICK_ACTION_TOOLBAR)){switch(c.getName()){case f.AuGds.QUICK_ACTION_TOOLBAR_NEW:this.initHomeView();break;case f.AuGds.QUICK_ACTION_TOOLBAR_OPEN:this.onOpenPressed();break;case f.AuGds.QUICK_ACTION_TOOLBAR_SAVE_AS:this.onSaveAsPressed();break;case f.AuGds.QUICK_ACTION_TOOLBAR_UNDO:this.onUndoPressed();break;case f.AuGds.QUICK_ACTION_TOOLBAR_REDO:this.onRedoPressed();break;case f.AuGds.QUICK_ACTION_TOOLBAR_SELECT_DATA_SOURCE:this.onSelectDataSourcePressed();break;case f.AuGds.QUICK_ACTION_TOOLBAR_RESET:this.onResetDataSourcePressed();break;case f.AuGds.QUICK_ACTION_TOOLBAR_VARIABLES:this.onOpenVariableDialogPressed();break;default:}}if(f.XString.isEqual(c.getName(),f.AuGds.SELECT_DATA_SOURCE_BTN)){this.onSelectDataSourcePressed();}if(f.XString.isEqual(c.getName(),f.AuGds.RECENT_FILES_LIST_HEADER_CLEAR_BTN)){this.clearRecentFiles();}};f.AuGds.prototype.onOk=function(){this.updateTable();};f.AuGds.prototype.onCancel=function(){if(this.m_queryManager.isSubmitNeeded()){this.showErrorStatusMessage("Variables not set.");}};f.AuGds.prototype.onFileLoaded=function(e,a,b,c){this.log("File loaded!");if(e.isValid()){if(f.notNull(b)){var j=b.getJsonContent();if(f.notNull(j)){this.loadStoryFromFileJson(j.asStructure());this.addRecentFileEntry(a);}else{this.getGenesis().showErrorToast("Not a json document!");}}else{this.getGenesis().showErrorToast("Something went wrong! File content is empty!");}}else{this.getGenesis().showErrorToast("Error while fetching the specified file!");}};f.AuGds.prototype.onInputPopupOkPressed=function(i){if(f.XStringUtils.isNotNullAndNotEmpty(i)){var s=this.getSession();var t=f.XFile.createExt(s,i,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);this.saveCurrentQueryAsQdfFile(t);}else{this.getGenesis().showWarningToast("Cannot save! No file specified!");}};f.AuGds.prototype.onFileDrop=function(e){var a=e.getParameters().getStringByKeyExt(f.UiControlEvent.PARAM_FILE_CONTENT,null);if(f.XStringUtils.isNotNullAndNotEmpty(a)){var p=f.JsonParserFactory.newInstance();var t=p.parse(a);var j=null;if(f.notNull(t)&&t.isStructure()){j=t;}this.loadStoryFromFileJson(j);p=f.XObjectExt.release(p);}};f.AuGds.prototype.onSelect=function(e){if(f.XString.isEqual(e.getControl().getName(),f.AuGds.RECENT_FILES_LIST_NAME)){var t=e.getSelectedItem();this.createFileFromPath(t.getText());if(f.notNull(this.m_file)){this.setTitle(this.m_file.getName());this.openQdfFromFile(this.m_file);}else{this.removeRecentFileEntry(t.getText());this.getGenesis().showWarningToast(f.XStringUtils.concatenate3("File ",t.getText()," does not exist!"));}}};f.AuGds.prototype.onSelectionChange=function(e){this.m_interactiveTable.processSelectionChangeEvent(e);this.updateQuickActionToolbar();};f.AuGds.prototype.onQueryExecuted=function(e,r,c){this.updateQuickActionToolbar();};f.AuGds.prototype.notifyEditAction=function(){this.updateTable();};f.Gyros=function(){};f.Gyros.prototype=new f.DfUiProgram();f.Gyros.prototype._ff_c="Gyros";f.Gyros.DEFAULT_PROGRAM_NAME="Gyros";f.Gyros.PARAM_SYSTEM="system";f.Gyros.PARAM_DATASOURCE="datasource";f.Gyros.PARAM_PLANNING_SEQUENCE="planningSequence";f.Gyros.PARAM_TEST="test";f.Gyros.PROPERTY_USE_OLAP_ENV="useOlapEnv";f.Gyros.PROPERTY_FUNCTIONAL_VALUES="enableFunctionalValues";f.Gyros.PROPERTY_DATE_PICKER_VALUE_HELP="enableDatePickerValueHelp";f.Gyros.PROPERTY_NON_BLOCKING_REQUESTS="nonBlockingRequests";f.Gyros.PROPERTY_USE_CUSTOM_STORY_LEVEL_TEXT="useCustomStoryLevelText";f.Gyros.createRunner=function(){return f.KernelBoot.createByName(f.Gyros.DEFAULT_PROGRAM_NAME);};f.Gyros.prototype.m_argumentStructure=null;f.Gyros.prototype.m_system=null;f.Gyros.prototype.m_datasource=null;f.Gyros.prototype.m_planningSequence=null;f.Gyros.prototype.m_test=null;f.Gyros.prototype.m_defaultRb=null;f.Gyros.prototype.m_storyRb=null;f.Gyros.prototype.m_appRb=null;f.Gyros.prototype.m_brRb=null;f.Gyros.prototype.m_storyEditableCb=null;f.Gyros.prototype.m_readonlyCb=null;f.Gyros.prototype.m_uqmCb=null;f.Gyros.prototype.m_noneRb=null;f.Gyros.prototype.m_chartRb=null;f.Gyros.prototype.m_tableRb=null;f.Gyros.prototype.m_explorerRb=null;f.Gyros.prototype.m_filterRb=null;f.Gyros.prototype.m_displayMcb=null;f.Gyros.prototype.m_linkMcb=null;f.Gyros.prototype.m_commandMcb=null;f.Gyros.prototype.m_optionsIcon=null;f.Gyros.prototype.m_options=null;f.Gyros.prototype.m_optionsPopover=null;f.Gyros.prototype.m_changeDsBtn=null;f.Gyros.prototype.m_editToggleBtn=null;f.Gyros.prototype.m_mobileValueHelpBtn=null;f.Gyros.prototype.m_openBtn=null;f.Gyros.prototype.m_optimizedBtn=null;f.Gyros.prototype.m_storyTa=null;f.Gyros.prototype.m_widgetTa=null;f.Gyros.prototype.m_sacDataTa=null;f.Gyros.prototype.m_tokenPopover=null;f.Gyros.prototype.m_messageManager=null;f.Gyros.prototype.m_queryManager=null;f.Gyros.prototype.m_variableProcessor=null;f.Gyros.prototype.m_vdDialog=null;f.Gyros.prototype.m_vdToken=null;f.Gyros.prototype.m_orcaFunctions=null;f.Gyros.prototype.m_orcaDialog=null;f.Gyros.prototype.m_orcaToken=null;f.Gyros.prototype.m_linkage=null;f.Gyros.prototype.m_isPlanningSequence=false;f.Gyros.prototype.m_forcePrompt=false;f.Gyros.prototype.m_disableExitVariables=false;f.Gyros.prototype.m_disableDynamicVariablesInStory=false;f.Gyros.prototype.m_disableDynamicVariablesInWidget=false;f.Gyros.prototype.m_featureDialog=null;f.Gyros.prototype.newProgram=function(){var g=new f.Gyros();g.setup();return g;};f.Gyros.prototype.isShowMenuBar=function(){return true;};f.Gyros.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameter(f.Gyros.PARAM_SYSTEM,"The system to connect to.");m.addParameter(f.Gyros.PARAM_DATASOURCE,"The datasource to be used (Can be empty for planning sequences).");m.addParameter(f.Gyros.PARAM_PLANNING_SEQUENCE,"The planning sequence to be used (Optional).");m.addParameter(f.Gyros.PARAM_TEST,"The name of the running test (Optional).");};f.Gyros.prototype.evalArguments=function(){this.m_argumentStructure=this.getArgumentStructure();if(this.m_argumentStructure.getIntegerByKeyExt(f.DfProgram.PARAM_XVERSION,-3)===-3){this.m_argumentStructure.putInteger(f.DfProgram.PARAM_XVERSION,f.XVersion.V124_INIT_ACTION_FOR_FUSION);}f.DfUiProgram.prototype.evalArguments.call(this);this.m_system=this.getParameterValue(f.Gyros.PARAM_SYSTEM);this.m_datasource=this.getParameterValue(f.Gyros.PARAM_DATASOURCE);this.m_planningSequence=this.getParameterValue(f.Gyros.PARAM_PLANNING_SEQUENCE);this.m_test=this.getParameterValue(f.Gyros.PARAM_TEST);if(f.XStringUtils.isNullOrEmpty(this.m_system)||f.XStringUtils.isNullOrEmpty(this.m_planningSequence)&&f.XStringUtils.isNullOrEmpty(this.m_datasource)){this.m_system="KIW";this.m_datasource="query:[0BOC_TEST_VARIABLE_TYPES_1]";}};f.Gyros.prototype.getParameterValue=function(n){var v=this.getSession().getEnvironment().getStringByKey(n);if(f.XStringUtils.isNullOrEmpty(v)){v=this.m_argumentStructure.getStringByKey(n);}return v;};f.Gyros.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);f.ApplicationUiModule.getInstance();this.m_messageManager=f.MessageManager.createMessageManagerExt(this.getSession());this.m_linkage=f.XHashMapByString.create();this.m_disableDynamicVariablesInStory=true;this.m_disableDynamicVariablesInWidget=true;f.VdVariableModel.CURRENT_DATE=f.XDate.createDateSafe("2017-04-18");var t=f.TraceInfo.create();t.setTraceType(f.TraceType.URL);t.setTraceName(this.m_test);this.getApplication().getConnectionPool().setTraceInfo(this.m_system,t);this.setupDatasource();this.m_options=f.OlapUiPropertyListHelper.create(this.getUiManager());this.m_options.addBooleanProperty(f.Gyros.PROPERTY_USE_OLAP_ENV,"Use Olap Env",false);this.m_options.addBooleanProperty(f.Gyros.PROPERTY_FUNCTIONAL_VALUES,"Enable Functional Values",false);this.m_options.addBooleanProperty(f.Gyros.PROPERTY_DATE_PICKER_VALUE_HELP,"Enable DatePicker with ValueHelp",false);this.m_options.addBooleanProperty(f.Gyros.PROPERTY_NON_BLOCKING_REQUESTS,"Send Non-Blocking requests",false);this.m_options.addBooleanProperty(f.Gyros.PROPERTY_USE_CUSTOM_STORY_LEVEL_TEXT,"Use custom story level text",false);};f.Gyros.prototype.setupDatasource=function(){if(f.XStringUtils.isNotNullAndNotEmpty(this.m_datasource)){var s=f.QueryServiceConfig.createWithDataSourceName(this.getApplication(),this.m_system,this.m_datasource);var a=s.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(a.hasErrors()){this.m_messageManager.addAllMessages(a);return;}this.m_queryManager=a.getData();}if(f.XStringUtils.isNotNullAndNotEmpty(this.m_planningSequence)){var p=f.QFactory.createDataSource();p.setFullQualifiedName("$[][][MY_DATA_AREA]");var b=f.OlapApiModule.SERVICE_TYPE_PLANNING.createServiceConfig(this.getApplication());b.setSystemName(this.m_system);b.setDataSource(p);b.getProperties().putStringNotNull(f.PlanningConstants.PERSISTENCE_TYPE,f.CellLockingType.DEFAULT_SETTING_BACKEND.getName());var r=b.processServiceCreation(f.SyncType.BLOCKING,null,null);if(r.hasErrors()){this.m_messageManager.addAllMessages(r);return;}var c=r.getData();var d=c.getPlanningContext();var e=d.createPlanningSequenceIdentifier(this.m_planningSequence);var g=d.createPlanningCommand(e);if(g.hasErrors()){this.m_messageManager.addAllMessages(g);return;}var h=g.getData();var i=h.getCreatedPlanningCommandWithId();this.m_variableProcessor=i.getVariableProcessor();this.m_isPlanningSequence=true;}};f.Gyros.prototype.buildUi=function(g){this.m_changeDsBtn=this.addMenuBarButton("changeDatasourceBtn",null,"Change Datasource",null,this);this.m_editToggleBtn=this.addMenuBarButton("editTogglesBtn",null,"Edit Feature Toggles",null,this);this.m_mobileValueHelpBtn=this.addMenuBarButton("mobileValueHelpBtn",null,"Mobile Value Help",null,this);var r=g.newRoot(f.UiType.FLEX_LAYOUT);r.setDirection(f.UiFlexDirection.COLUMN);r.setPaddingCss("5px");if(this.m_messageManager.hasErrors()||this.getVariableProcessor()===null){this.buildGyrosErrorOutput(r);return;}var i=r.addNewItemOfType(f.UiType.FLEX_LAYOUT);i.setJustifyContent(f.UiFlexJustifyContent.SPACE_BETWEEN);i.setFlex("0 0 auto");var l=i.addNewItemOfType(f.UiType.VERTICAL_LAYOUT);l.setWidthCss("33%");this.buildContextSection(l);this.buildLevelSection(l);var c=l.addNewItemOfType(f.UiType.HORIZONTAL_LAYOUT);this.m_storyEditableCb=c.addNewItemOfType(f.UiType.CHECKBOX);this.m_storyEditableCb.setName("storyEditable").setText("Story Editable").setChecked(true);this.m_readonlyCb=c.addNewItemOfType(f.UiType.CHECKBOX);this.m_readonlyCb.setName("readonlyCb").setText("Readonly");this.m_uqmCb=c.addNewItemOfType(f.UiType.CHECKBOX);this.m_uqmCb.setName("uqmCb").setText("UQM");l.addNewItemOfType(f.UiType.SPACER);this.buildDisplaySection(l);this.buildLinkSection(l);this.buildCommandSection(l);this.m_optionsIcon=l.addNewItemOfType(f.UiType.BUTTON);this.m_optionsIcon.setName("options").setText("More Options");this.m_optionsIcon.registerOnPress(this);var a=i.addNewItemOfType(f.UiType.FLEX_LAYOUT);a.setDirection(f.UiFlexDirection.COLUMN);a.setWidthCss("66%");this.m_openBtn=a.addNewItemOfType(f.UiType.BUTTON);this.m_openBtn.setName("openBtn").setText("Open Variable Dialog");this.m_openBtn.registerOnPress(this);this.m_optimizedBtn=a.addNewItemOfType(f.UiType.BUTTON);this.m_optimizedBtn.setName("optimizedBtn").setText("Perform Story Filter Optimization");this.m_optimizedBtn.registerOnPress(this);var o=a.addNewItemOfType(f.UiType.FLEX_LAYOUT);o.setHeightCss("100%");o.setFlex("auto");var b=o.addNewItemOfType(f.UiType.FLEX_LAYOUT);b.setFlex("auto");b.setDirection(f.UiFlexDirection.COLUMN);b.setAlignItems(f.UiFlexAlignItems.CENTER);b.addNewItemOfType(f.UiType.LABEL).setText("I/O Default/Story").setHeightCss("7%");this.m_storyTa=b.addNewItemOfType(f.UiType.TEXT_AREA);this.m_storyTa.setName("storyTa");this.m_storyTa.setBackgroundColor(f.UiColor.WHITE);this.m_storyTa.setSizeCss("100%","100%");var d=o.addNewItemOfType(f.UiType.FLEX_LAYOUT);d.setFlex("auto");d.setDirection(f.UiFlexDirection.COLUMN);d.setAlignItems(f.UiFlexAlignItems.CENTER);d.addNewItemOfType(f.UiType.LABEL).setText("I/O Widget").setHeightCss("7%");this.m_widgetTa=d.addNewItemOfType(f.UiType.TEXT_AREA);this.m_widgetTa.setName("widgetTa");this.m_widgetTa.setBackgroundColor(f.UiColor.WHITE);this.m_widgetTa.setSizeCss("100%","100%");var e=o.addNewItemOfType(f.UiType.FLEX_LAYOUT);e.setFlex("auto");e.setDirection(f.UiFlexDirection.COLUMN);e.setAlignItems(f.UiFlexAlignItems.CENTER);e.addNewItemOfType(f.UiType.LABEL).setText("SAC Data").setHeightCss("7%");this.m_sacDataTa=e.addNewItemOfType(f.UiType.TEXT_AREA);this.m_sacDataTa.setName("sacDataTa");this.m_sacDataTa.setBackgroundColor(f.UiColor.WHITE);this.m_sacDataTa.setSizeCss("100%","100%");this.setupUi();this.updateState();};f.Gyros.prototype.buildGyrosErrorOutput=function(p){var e=p.addNewItemOfType(f.UiType.TEXT_AREA);e.setName("gyrosErrorOutput");e.setEnabled(false);e.setBackgroundColor(f.UiColor.TRANSPARENT);e.setWidthCss("100%");e.setHeightCss("100%");var b=f.XStringBuffer.create();b.append("Gyros could not create a variable processor to work with. Reason:\n");b.append(this.m_messageManager.getSummary());e.setText(b.toString());};f.Gyros.prototype.buildContextSection=function(p){p.addNewItemOfType(f.UiType.LABEL).setText("Context:");var g=p.addNewItemOfType(f.UiType.RADIO_BUTTON_GROUP);g.setColumnCount(2);this.m_defaultRb=g.addNewRadioButton();this.m_defaultRb.setName("defaultRb").setText("Default");this.m_defaultRb.registerOnChange(this);this.m_defaultRb.setSelected(true);this.m_storyRb=g.addNewRadioButton();this.m_storyRb.setName("storyRb").setText("Story");this.m_storyRb.registerOnChange(this);this.m_appRb=g.addNewRadioButton();this.m_appRb.setName("appRb").setText("AnalyticApp");this.m_brRb=g.addNewRadioButton();this.m_brRb.setName("brRb").setText("Board Room");};f.Gyros.prototype.buildLevelSection=function(p){p.addNewItemOfType(f.UiType.LABEL).setText("Level:");var g=p.addNewItemOfType(f.UiType.RADIO_BUTTON_GROUP);g.setColumnCount(3);this.m_noneRb=g.addNewRadioButton();this.m_noneRb.setName("noneRb").setText("None");this.m_noneRb.setSelected(true);this.m_chartRb=g.addNewRadioButton();this.m_chartRb.setName("chartRb").setText("Chart");this.m_tableRb=g.addNewRadioButton();this.m_tableRb.setName("tableRb").setText("Table");this.m_explorerRb=g.addNewRadioButton();this.m_explorerRb.setName("explorerRb").setText("Explorer");this.m_filterRb=g.addNewRadioButton();this.m_filterRb.setName("filterRb").setText("Filter");};f.Gyros.prototype.buildDisplaySection=function(p){var l=p.addNewItemOfType(f.UiType.VERTICAL_LAYOUT);l.addNewItemOfType(f.UiType.LABEL).setText("Display Variables:");this.m_displayMcb=l.addNewItemOfType(f.UiType.MULTI_COMBO_BOX);this.m_displayMcb.setName("displayVariablesMcb");};f.Gyros.prototype.buildLinkSection=function(p){var l=p.addNewItemOfType(f.UiType.VERTICAL_LAYOUT);var h=l.addNewItemOfType(f.UiType.HORIZONTAL_LAYOUT);h.addNewItemOfType(f.UiType.LABEL).setText("Show Link Variable Tooltips:");var i=h.addNewItemOfType(f.UiType.ICON).setIcon("message-information").setPaddingCss("3px");i.setTooltip("Only setting the tooltip will be interpreted as a missing link (FPA10-3392) and instead of linked valueHelp, the default will be used.");this.m_linkMcb=l.addNewItemOfType(f.UiType.MULTI_COMBO_BOX);this.m_linkMcb.setName("linkVariablesMcb");};f.Gyros.prototype.buildCommandSection=function(p){var l=p.addNewItemOfType(f.UiType.VERTICAL_LAYOUT);l.addNewItemOfType(f.UiType.LABEL).setText("Commands:");this.m_commandMcb=l.addNewItemOfType(f.UiType.MULTI_COMBO_BOX);this.m_commandMcb.setName("commandMcb");this.m_commandMcb.registerOnSelectionChange(this);var c=f.GyrosCommand.getAllCommands();for(var i=0;i<c.size();i++){var a=c.get(i);var b=this.m_commandMcb.addNewItem();b.setName(a.getName());b.setText(a.getDescription());}};f.Gyros.prototype.setupUi=function(){var v=this.getVariableProcessor().getInputEnabledVariables();this.m_displayMcb.clearItems();this.m_linkMcb.clearItems();for(var i=0;i<v.size();i++){var a=v.get(i);var d=this.m_displayMcb.addNewItem();d.setName(a.getName());d.setText(a.getText());d.setSelected(true);var l=this.m_linkMcb.addNewItem();l.setName(a.getName());l.setText(a.getText());}};f.Gyros.prototype.showVariablePrompt=function(a,o){f.OlapUiValueHelpAbstract.s_syncType=this.m_options.getBooleanValue(f.Gyros.PROPERTY_NON_BLOCKING_REQUESTS)?f.SyncType.NON_BLOCKING:f.SyncType.BLOCKING;var c=this.m_commandMcb.getSelectedItems();for(var i=0;i<c.size();i++){var b=c.get(i).getName();f.GyrosCommand.getByName(b).execute(this);}if(this.m_storyRb.isSelected()&&this.getVariableProcessor().isReinitNeeded()){var l=f.VariableProcessorCallbackLambda.createSingleUse(function(r){if(r.isValid()){this.showVariablePrompt(a,o);}}.bind(this));this.getVariableProcessor().reInitVariablesAfterSubmit(f.OlapUiValueHelpAbstract.s_syncType,l,a);return;}var v=f.XHashSetOfString.create();var s=this.m_displayMcb.getSelectedItems();for(var j=0;j<s.size();j++){v.add(s.get(j).getName());}if(this.m_defaultRb.isSelected()){this.showDefaultPrompt(a,v,o);}else if(this.m_uqmCb.isChecked()){this.showUqmPrompt(a,v,o);}else{this.showOrcaPrompt(a,v);}};f.Gyros.prototype.showDefaultPrompt=function(a,v,o){this.m_vdToken=f.XObjectExt.release(this.m_vdToken);this.m_vdDialog=f.XObjectExt.release(this.m_vdDialog);var d=f.OlapUiDisplayFactory.createFactoryForDialog(this.getUiManager());var c=f.OlapUiContext.createContext(this.getUiManager(),d);var b=f.VdConfiguration.createConfig("Variables",this.getVariableProcessor());b.setVariablesToDisplay(v);b.setEnterOnFocusLeave(false);b.setFunctionalValuesEnabled(this.m_options.getBooleanValue(f.Gyros.PROPERTY_FUNCTIONAL_VALUES));b.setUseDatePickerValueHelp(this.m_options.getBooleanValue(f.Gyros.PROPERTY_DATE_PICKER_VALUE_HELP));b.setUseDatePicker(f.isNull(this.m_queryManager)||this.m_queryManager.getSystemType().isTypeOf(f.SystemType.ABAP));var e;if(f.notNull(a)){e=this.m_vdToken=f.VdVariableForm.createAsToken(c,b);}else{e=this.m_vdDialog=f.VdVariableDialog.createAsDisplay(c,b,this);}this.m_vdDialog.registerSubmitListener(this);var g=this.getFirstVarName(v);if(o&&e.supportsStoryFilterOptimization(g)){e.performStoryFilterOptimizationWorkflow(g);}else if(f.notNull(this.m_vdToken)){var h=f.UiGenesis.create(a,f.UiPosition.CONTENT,f.UiOperation.SET,0,0);this.m_vdToken.buildUi(h);}else if(f.notNull(this.m_vdDialog)){this.m_vdDialog.open();}};f.Gyros.prototype.showOrcaPrompt=function(a,v){this.m_orcaToken=f.XObjectExt.release(this.m_orcaToken);this.m_orcaDialog=f.XObjectExt.release(this.m_orcaDialog);this.m_orcaFunctions=f.XObjectExt.release(this.m_orcaFunctions);var i=this.getUiManager().getLocalization();var p=f.VdOrcaNativeParams.create();p.queryManager=f.isNull(this.m_variableProcessor)?this.m_queryManager:null;p.varProcessor=this.getVariableProcessor();p.numberFormatter=f.GyrosNumberFormatter.create();p.dateDisplayFormat="MMM d, y";p.storyEditable=this.m_storyEditableCb.isChecked();p.readOnly=this.m_readonlyCb.isChecked();p.showChartVariables=this.m_chartRb.isSelected()||this.m_tableRb.isSelected();p.isWidget=this.m_chartRb.isSelected()||this.m_tableRb.isSelected()||this.m_explorerRb.isSelected();p.useTableMessage=this.m_tableRb.isSelected();p.analyticApp=this.m_appRb.isSelected();p.variablesToDisplay=v;p.customStoryButtonText=this.m_options.getBooleanValue(f.Gyros.PROPERTY_USE_CUSTOM_STORY_LEVEL_TEXT)?f.Gyros.PROPERTY_USE_CUSTOM_STORY_LEVEL_TEXT:null;p.presetVariablesButtonText=this.m_brRb.isSelected()?i.getText(f.VariableDialogI18n.I18N_VD_SET_FOR_CURRENT_PAGE):null;p.datasetVariablesButtonText=this.m_brRb.isSelected()?i.getText(f.VariableDialogI18n.I18N_VD_SET_FOR_ALL_PAGES):null;p.preSetVariablesEditable=this.m_brRb.isSelected()&&this.m_noneRb.isSelected();p.datasetVariablesEditable=this.m_brRb.isSelected()&&this.m_noneRb.isSelected();p.showVariantSection=this.m_brRb.isSelected()&&this.m_noneRb.isSelected();p.isPlanningSequence=this.m_isPlanningSequence;p.forcePrompt=this.m_forcePrompt;p.disableExitVariables=this.m_disableExitVariables;p.isStoryUsingDynamicVariables=!this.m_disableDynamicVariablesInStory;p.isWidgetUsingDynamicVariables=!this.m_disableDynamicVariablesInWidget;p.linkage=this.m_linkage;p.linkTooltips=this.createLinkTooltips();if(f.XStringUtils.isNotNullAndNotEmpty(this.m_storyTa.getText())){p.datasetVariables=f.JsonParserFactory.createFromSafeString(this.m_storyTa.getText());}if(f.XStringUtils.isNotNullAndNotEmpty(this.m_widgetTa.getText())){p.preSetVariables=f.JsonParserFactory.createFromSafeString(this.m_widgetTa.getText());}var s=this.m_sacDataTa.getText();if(f.XStringUtils.isNotNullAndNotEmpty(s)){var b=f.JsonParserFactory.createFromSafeString(s);p.filterVariables=b.getStructureByKey("Filter");p.dimensionDisplayInfo=b.getStructureByKey("DimensionDisplayInfo");}var c=this.getVariableProcessor().getInputEnabledAndNonTechnicalVariables();if(this.m_filterRb.isSelected()){if(v.size()===1){p.singleVariableKey=v.getValuesAsReadOnlyListOfString().get(0);}else if(c.size()>=1){var d=c.get(0).getName();p.singleVariableKey=d;p.variablesToDisplay=f.XHashSetOfString.create();p.variablesToDisplay.add(d);}}if(f.notNull(a)){this.m_orcaFunctions=this.m_orcaToken=f.VdOrcaEntryPoint.createEntryPointToken(null,p);this.m_orcaFunctions.registerSubmitListener(this);this.m_orcaToken.buildUiOnControl(a);}else{this.m_orcaFunctions=this.m_orcaDialog=f.VdOrcaEntryPoint.createEntryPointDisplay(null,p,this);this.m_orcaFunctions.registerSubmitListener(this);this.m_orcaDialog.open();}};f.Gyros.prototype.showUqmPrompt=function(a,v,o){this.m_orcaToken=f.XObjectExt.release(this.m_orcaToken);this.m_orcaDialog=f.XObjectExt.release(this.m_orcaDialog);this.m_orcaFunctions=f.XObjectExt.release(this.m_orcaFunctions);var b=this.getApplication();var p=f.PrFactory.createStructure();if(f.notNull(this.m_queryManager)){var g="gyrosId";this.m_queryManager.getTagging().put(f.VdStandalone.VARIABLE_PROCESSOR_ID,g);p.putString(f.VdStandalone.VARIABLE_PROCESSOR_ID,g);}var i=this.isBw();p.putString(f.VdStandalone.TITLE,this.getTitle());p.putString(f.VdStandalone.DATE_DISPLAY_FORMAT,"MMM d, y");p.putString(f.VdStandalone.SCENARIO,this.getScenario().getName());p.putString(f.VdStandalone.LEVEL,this.getLevel().getName());p.putBoolean(f.VdStandalone.UPDATE_DYNAMIC_VARIABLES_ON_START,false);p.putBoolean(f.VdStandalone.USE_DATEPICKER,i);p.putBoolean(f.VdStandalone.HIDE_OPERATOR_NOT_BEWEEN,!i);p.putBoolean(f.VdStandalone.HIDE_LEVEL_SECTION,this.getScenario()===f.VdOrcaScenario.ANALYTIC_APP&&!this.m_storyEditableCb.isChecked());p.putBoolean(f.VdStandalone.STORY_EDITABLE,this.m_storyEditableCb.isChecked());p.putBoolean(f.VdStandalone.READ_ONLY,this.m_readonlyCb.isChecked());p.putBoolean(f.VdStandalone.DISABLE_EXIT,this.m_disableExitVariables);p.putBoolean(f.VdStandalone.TOP_LEVEL_DYNAMIC_VARIABLES,!this.m_disableDynamicVariablesInStory);p.putBoolean(f.VdStandalone.BOTTOM_LEVEL_DYNAMIC_VARIABLES,!this.m_disableDynamicVariablesInWidget);var l=p.putNewList(f.VdStandalone.VARIABLE_NAMES);var c=v.getIterator();while(c.hasNext()){l.addString(c.next());}f.XObjectExt.release(c);p.putString(f.VdStandalone.START_VALUES_FORMAT,f.VdValueFormat.DATA_QUERY_MODEL.getName());if(f.XStringUtils.isNotNullAndNotEmpty(this.m_storyTa.getText())){p.put(f.VdStandalone.TOP_LEVEL_VALUES,f.JsonParserFactory.createFromSafeString(this.m_storyTa.getText()));}if(f.XStringUtils.isNotNullAndNotEmpty(this.m_widgetTa.getText())){p.put(f.VdStandalone.BOTTOM_LEVEL_VALUES,f.JsonParserFactory.createFromSafeString(this.m_widgetTa.getText()));}if(f.notNull(a)){this.m_orcaFunctions=this.m_orcaToken=f.VdStandalone.createTokenWithParameters(b,null,p);}else{this.m_orcaFunctions=this.m_orcaDialog=f.VdStandalone.createDisplayWithParameters(b,null,p,this);}this.m_orcaFunctions.registerSubmitListener(this);var d=this.getFirstVarName(v);if(o&&this.m_orcaFunctions.supportsStoryFilterOptimization(d)){this.m_orcaFunctions.performStoryFilterOptimizationWorkflow(d);}else if(f.notNull(this.m_orcaToken)){this.m_orcaToken.buildUiOnControl(a);}else if(f.notNull(this.m_orcaDialog)){this.m_orcaDialog.open();}};f.Gyros.prototype.getFirstVarName=function(v){if(f.XCollectionUtils.hasElements(v)){var i=v.getIterator();var a=i.next();f.XObjectExt.release(i);if(f.notNull(a)){return a;}}return this.getVariableProcessor().getInputEnabledAndNonTechnicalVariables().get(0).getName();};f.Gyros.prototype.createLinkTooltips=function(){var v=f.XHashMapByString.create();var s=this.m_linkMcb.getSelectedItems();for(var i=0;i<s.size();i++){var a=f.XStringUtils.concatenate2("varNamePlaceholder",f.XInteger.convertToString(i));var m=f.XStringUtils.concatenate2("modelNamePlaceholder",f.XInteger.convertToString(i));var t=f.XCollectionUtils.singletonList(f.XPairOfString.create(a,m));v.put(s.get(i).getName(),t);}var k=this.m_linkage.getKeysAsIteratorOfString();while(k.hasNext()){var n=k.next();v.put(n,f.XCollectionUtils.singletonList(f.XPairOfString.create(n,"modelNamePlaceholder")));}return v;};f.Gyros.prototype.onChange=function(e){this.updateState();};f.Gyros.prototype.updateState=function(){if(this.m_defaultRb.isSelected()){this.m_noneRb.setSelected(true);this.m_uqmCb.setChecked(false);}if(!this.m_storyRb.isSelected()&&(this.m_explorerRb.isSelected()||this.m_filterRb.isSelected())){this.m_noneRb.setSelected(true);}this.m_chartRb.setEnabled(!this.m_defaultRb.isSelected());this.m_tableRb.setEnabled(!this.m_defaultRb.isSelected());this.m_explorerRb.setEnabled(this.m_storyRb.isSelected());this.m_filterRb.setEnabled(this.m_storyRb.isSelected());this.m_linkMcb.setEnabled(!this.m_defaultRb.isSelected());this.m_storyTa.setEnabled(!this.m_defaultRb.isSelected());this.m_widgetTa.setEnabled(!this.m_defaultRb.isSelected());this.m_sacDataTa.setEnabled(!this.m_defaultRb.isSelected());this.m_uqmCb.setEnabled(!this.m_defaultRb.isSelected());};f.Gyros.prototype.getVariableProcessor=function(){if(f.notNull(this.m_variableProcessor)){return this.m_variableProcessor;}if(this.m_options.getBooleanValue(f.Gyros.PROPERTY_USE_OLAP_ENV)){return this.m_queryManager.getOlapEnv().getVariableProcessor();}return this.m_queryManager;};f.Gyros.prototype.getQueryManager=function(){return this.m_queryManager;};f.Gyros.prototype.setLinkage=function(l){this.m_linkage=l;};f.Gyros.prototype.onPress=function(e){var c=e.getControl();if(c===this.m_openBtn){if(f.notNull(this.m_tokenPopover)&&this.m_tokenPopover.isOpen()){this.m_tokenPopover.close();return;}if(this.m_filterRb.isSelected()){this.m_tokenPopover=this.getUiManager().newControl(f.UiType.POPOVER);this.m_tokenPopover.openAt(this.m_openBtn);this.m_tokenPopover.setWidthCss("800px");this.m_tokenPopover.setPaddingCss("8px");this.m_tokenPopover.registerOnAfterClose(this);this.showVariablePrompt(this.m_tokenPopover,false);}else{this.showVariablePrompt(null,false);}}else if(c===this.m_optimizedBtn){this.showVariablePrompt(null,true);}else if(c===this.m_optionsIcon){this.openOptionsDialog();}else if(c===this.m_changeDsBtn){this.openDatasourcePickerDialog();}else if(c===this.m_editToggleBtn){f.XObjectExt.release(this.m_featureDialog);this.m_featureDialog=f.UiFeatureToggleDialog.createFeatureDialog(this.getSession(),this.getUiManager(),this);this.m_featureDialog.open();}else if(c===this.m_mobileValueHelpBtn){this.createMobileValueHelpMenu(c);}else if(c.getUiType()===f.UiType.MENU_ITEM&&f.XString.isEqual(c.getParent().getName(),"gyrosMobileValueHelpMenu")){this.handleMobileValueHelpMenuItemPress(c);}};f.Gyros.prototype.onAfterClose=function(e){this.m_tokenPopover=f.XObjectExt.release(this.m_tokenPopover);if(f.notNull(this.m_vdToken)){this.m_vdToken.attemptSubmit();}else if(f.notNull(this.m_orcaToken)){this.m_orcaToken.attemptSubmit();}};f.Gyros.prototype.openOptionsDialog=function(){if(f.isNull(this.m_optionsPopover)){this.m_optionsPopover=this.getUiManager().newControl(f.UiType.POPOVER);this.m_optionsPopover.setWidthCss("320px");this.m_optionsPopover.setPaddingCss("15px");this.m_options.buildUi(f.UiGenesis.create(this.m_optionsPopover,f.UiPosition.CONTENT,f.UiOperation.SET,0,0));}this.m_optionsPopover.openAt(this.m_optionsIcon);};f.Gyros.prototype.openDatasourcePickerDialog=function(){var a=f.ProgramRegistration.getProgramManifest(f.AuDatasourcePicker.DEFAULT_PROGRAM_NAME);var b=f.ProgramStartCfg.create(this.getProcess(),a.getName(),null,null);var t=b.getArguments();t.putXObject(f.AuDatasourcePicker.PARAM_APPLICATION,this.getApplication());t.getArgumentStructure().putString(f.AuDatasourcePicker.PARAM_SYSTEM,this.m_system);t.putXObject(f.AuDatasourcePicker.PARAM_LISTENER,this);b.setParentProcess(this.getProcess());b.setIsCreatingChildProcess(true);b.processExecution(f.SyncType.NON_BLOCKING,null,null);};f.Gyros.prototype.onSelectionChange=function(e){this.m_linkage=f.XHashMapByString.create();};f.Gyros.prototype.onBeforeSubmit=function(v,a){};f.Gyros.prototype.onAfterSubmit=function(s,e,v,a){var b=this.getVariableProcessor();var c=v;if(this.m_options.getBooleanValue(f.Gyros.PROPERTY_FUNCTIONAL_VALUES)){c=f.VdImportExport.getValuesFromProcessor(b);}var _=f.VdOrcaValueParser.exportVariables(b,c,this.m_linkage.getKeysAsReadOnlyListOfString());if(f.notNull(_)){if(f.notNull(this.m_orcaFunctions)&&this.m_orcaFunctions.isWidgetSelected()){this.m_widgetTa.setText(f.PrUtils.serialize(_,true,true,4));}else{this.m_storyTa.setText(f.PrUtils.serialize(_,true,true,4));}}};f.Gyros.prototype.onOk=function(){if(f.notNull(this.m_orcaFunctions)){this.m_forcePrompt=this.m_orcaFunctions.isForcePrompt();this.m_disableExitVariables=this.m_orcaFunctions.isDisablingExitVariables();if(this.m_chartRb.isSelected()||this.m_tableRb.isSelected()||this.m_explorerRb.isSelected()){this.m_disableDynamicVariablesInWidget=this.m_orcaFunctions.isDisablingDynamicVariables();}else{this.m_disableDynamicVariablesInStory=this.m_orcaFunctions.isDisablingDynamicVariables();}}if(f.notNull(this.m_queryManager)&&this.m_queryManager.supportsDirectVariableTransfer()){this.m_queryManager.processQueryExecution(f.SyncType.BLOCKING,null,null);}};f.Gyros.prototype.onCancel=function(){};f.Gyros.prototype.onDatasourceSelected=function(d){if(f.isNull(d)){return;}this.m_system=d.getSystemName();this.m_datasource=d.getFullQualifiedName();this.m_planningSequence=null;f.XObjectExt.release(this.m_queryManager);f.XObjectExt.release(this.m_variableProcessor);this.setupDatasource();this.setupUi();};f.Gyros.prototype.onFeatureToggleDialogClose=function(s){if(f.isNull(s)){return;}var a=this.getSession();a.clearAllFeatureToggles();a.activateFeatureToggleSet(s);f.XObjectExt.release(this.m_queryManager);f.XObjectExt.release(this.m_variableProcessor);this.setupDatasource();this.setupUi();};f.Gyros.prototype.getScenario=function(){if(this.m_storyRb.isSelected()){return f.VdOrcaScenario.STORY;}if(this.m_appRb.isSelected()){return f.VdOrcaScenario.ANALYTIC_APP;}if(this.m_brRb.isSelected()){return f.VdOrcaScenario.BOARD_ROOM;}return null;};f.Gyros.prototype.getLevel=function(){if(this.m_tableRb.isSelected()){return f.VdOrcaLevel.TABLE;}if(this.m_chartRb.isSelected()){return f.VdOrcaLevel.CHART;}if(this.m_explorerRb.isSelected()){return f.VdOrcaLevel.EXPLORER;}if(this.m_filterRb.isSelected()){return f.VdOrcaLevel.FILTER;}return f.VdOrcaLevel.DEFAULT;};f.Gyros.prototype.isBw=function(){if(this.m_isPlanningSequence){return true;}return f.notNull(this.m_queryManager)&&this.m_queryManager.getSystemType().isTypeOf(f.SystemType.ABAP);};f.Gyros.prototype.createMobileValueHelpMenu=function(m){var a=this.m_genesis.newControl(f.UiType.MENU);a.setName("gyrosMobileValueHelpMenu");a.addNewItem().setName("gyrosMobileValueHelpCalendarSingle").setText("Calendar Single").setIcon("value-help").registerOnPress(this);a.addNewItem().setName("gyrosMobileValueHelpCalendarRange").setText("Calendar Range").setIcon("value-help").registerOnPress(this);a.addNewItem().setName("gyrosMobileValueHelpOperatorList").setText("Operator List").setIcon("value-help").registerOnPress(this);a.addNewItem().setName("gyrosMobileValueHelpSimpleList").setText("Simple List").setIcon("value-help").registerOnPress(this);a.addNewItem().setName("gyrosMobileValueHelpMemberSelector").setText("Member Selector").setIcon("value-help").registerOnPress(this);a.addNewItem().setName("gyrosMobileValueHelpOperatorWorkflow").setText("Operator Workflow").setIcon("value-help").registerOnPress(this);a.openAt(m);};f.Gyros.prototype.getFirstVarFromQueryManager=function(){if(this.getQueryManager()!==null){if(this.getQueryManager().hasVariables()){return this.getQueryManager().getVariables().get(1);}this.getGenesis().showWarningToast("The specified data source has no variables!");return null;}this.getGenesis().showErrorToast("No data source specified!");return null;};f.Gyros.prototype.handleMobileValueHelpMenuItemPress=function(m){var a=null;switch(m.getName()){case"gyrosMobileValueHelpCalendarSingle":f.VdVhMobileTester.testCalendarSingle(this.getApplication());break;case"gyrosMobileValueHelpCalendarRange":f.VdVhMobileTester.testCalendarRange(this.getApplication());break;case"gyrosMobileValueHelpOperatorList":f.VdVhMobileTester.testOperatorList(this.getApplication());break;case"gyrosMobileValueHelpSimpleList":f.VdVhMobileTester.testSimpleList(this.getApplication());break;case"gyrosMobileValueHelpMemberSelector":a=this.getFirstVarFromQueryManager();if(f.notNull(a)){f.VdVhMobileTester.testMemberSelector(this.getApplication(),a);}break;case"gyrosMobileValueHelpOperatorWorkflow":a=this.getFirstVarFromQueryManager();if(f.notNull(a)){f.VdVhMobileTester.testOperatorWorkflow(this.getApplication(),a);}break;default:}};f.QvKratos=function(){};f.QvKratos.prototype=new f.DfUiProgram();f.QvKratos.prototype._ff_c="QvKratos";f.QvKratos.DEFAULT_PROGRAM_NAME="Kratos";f.QvKratos.createRunner=function(){var r=f.KernelBoot.createByName(f.QvKratos.DEFAULT_PROGRAM_NAME);return r;};f.QvKratos.createNewMetis=function(){var p=new f.QvKratos();p.setup();return p;};f.QvKratos.prototype.m_queryName=null;f.QvKratos.prototype.m_queryManager=null;f.QvKratos.prototype.newProgram=function(){var p=new f.QvKratos();p.setup();return p;};f.QvKratos.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);};f.QvKratos.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);};f.QvKratos.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);this.setupInternal();};f.QvKratos.prototype.releaseObject=function(){f.DfUiProgram.prototype.releaseObject.call(this);this.m_queryManager=f.XObjectExt.release(this.m_queryManager);};f.QvKratos.prototype.getLogSeverity=function(){return f.Severity.PRINT;};f.QvKratos.prototype.isShowMenuBar=function(){return true;};f.QvKratos.prototype.getDefaultWindowSize=function(){return f.UiSizeValue.createByCss("60vw","60vh");};f.QvKratos.prototype.getDefaultProgramName=function(){return f.QvKratos.DEFAULT_PROGRAM_NAME;};f.QvKratos.prototype.setupInternal=function(){};f.QvKratos.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);var s=g.newControl(f.UiType.FLEX_LAYOUT);s.setName("sleMetisMainLayout");s.useMaxSpace();s.setDirection(f.UiFlexDirection.ROW);s.setAlignItems(f.UiFlexAlignItems.CENTER);s.setJustifyContent(f.UiFlexJustifyContent.CENTER);s.setWrap(f.UiFlexWrap.NO_WRAP);s.setBackgroundColor(f.UiColor.createByString("#f9fafc"));var a=s.addNewItemOfType(f.UiType.BUTTON);a.setName("selectQueryBtn");a.setText("Select Query");a.registerOnPress(this);g.setRoot(s);this.addMenuBarButton("qvKratosToolbarQueryBtn",null,"Query",null,this);this.addMenuBarButton("qvKratosToolbarVariableDialogBtn",null,"Variable Dialog",null,this).setEnabled(false);};f.QvKratos.prototype.showQuerySelectionDialog=function(){f.OqdController.create(this.getApplication(),this.getUiManager(),this).open();};f.QvKratos.prototype.showVariableDialogForcurrentQuery=function(){var e=f.VdUqmEntryPoint.createEntryPoint(this.m_queryName,this.m_queryManager.getOlapEnv().getVariableProcessor(),this);e.open();};f.QvKratos.prototype.createQueryManager=function(s,q,a){this.showLoadingIndicator();this.m_queryName=q;var b=f.QueryServiceConfig.createWithDataSourceName(this.getApplication(),s,a);b.processQueryManagerCreation(f.SyncType.NON_BLOCKING,this,null);};f.QvKratos.prototype.createQueryUi=function(){if(f.isNull(this.m_queryManager)){this.getGenesis().showErrorToast("Missing Query Manager! Something went wrong!");return;}var t=this.getMenuBar().getItemByName("qvKratosToolbarVariableDialogBtn");if(this.m_queryManager.getQueryModel().hasVariables()){t.setEnabled(true);}else{t.setEnabled(false);}var m=this.m_genesis.newControl(f.UiType.TAB_STRIP);m.setName("mainTabBar");this.createSheetDefinitionTab(m);this.createVariablesTab(m);this.m_genesis.setRoot(m);};f.QvKratos.prototype.showLoadingIndicator=function(){this.m_genesis.clearUi();var t=this.getMenuBar().getItemByName("qvKratosToolbarVariableDialogBtn");t.setEnabled(false);var a=this.m_genesis.newControl(f.UiType.ACTIVITY_INDICATOR);a.useMaxSpace();this.m_genesis.setRoot(a);};f.QvKratos.prototype.addNewTabLayout=function(t,a,i,n){var b=t.addNewItem();b.setName(n);b.setText(a);b.setIcon(i);var c=b.setNewContent(f.UiType.FLEX_LAYOUT);c.setDirection(f.UiFlexDirection.ROW);return c;};f.QvKratos.prototype.addNewListLayout=function(l,t,n){var a=l.addNewItemOfType(f.UiType.VERTICAL_LAYOUT);var b=a.addNewItemOfType(f.UiType.LABEL);b.setText(t);var c=a.addNewItemOfType(f.UiType.SCROLL_CONTAINER);var d=c.setNewContent(f.UiType.LIST);d.setName(n);d.setSelectionMode(f.UiSelectionMode.NONE);return d;};f.QvKratos.prototype.createSheetDefinitionTab=function(t){var s=this.addNewTabLayout(t,"Sheet Definition","document-text","sheetDefinitionTab");var c=this.addNewListLayout(s,"Columns","columnsList");var r=this.addNewListLayout(s,"Rows","rowsList");var a=this.addNewListLayout(s,"Free","freeList");var b=this.m_queryManager.getQueryModel().getColumnsAxis();var d=b.getDimensions();var e=d.getIterator();while(e.hasNext()){var g=e.next();var h=c.addNewItem();h.setText(g.getText());h.setDescription(g.getName());}var i=this.m_queryManager.getQueryModel().getRowsAxis();var j=i.getDimensions();var k=j.getIterator();while(k.hasNext()){var l=k.next();var m=r.addNewItem();m.setText(l.getText());m.setDescription(l.getName());}var n=this.m_queryManager.getQueryModel().getFreeAxis();var o=n.getDimensions();var p=o.getIterator();while(p.hasNext()){var q=p.next();var u=a.addNewItem();u.setText(q.getText());u.setDescription(q.getName());}};f.QvKratos.prototype.createVariablesTab=function(t){var v=this.addNewTabLayout(t,"Variables","request","variablesTab");var a=this.addNewListLayout(v,"Variables","variablesList");var b=this.m_queryManager.getQueryModel().getVariables();var c=b.getIterator();while(c.hasNext()){var d=c.next();var e=a.addNewItem();e.setText(d.getText());e.setDescription(d.getVariableType().getName());}};f.QvKratos.prototype.onPress=function(e){f.DfUiProgram.prototype.onPress.call(this,e);var c=e.getControl();var a=c.getParent();if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR){switch(e.getControl().getName()){case"qvKratosToolbarQueryBtn":this.showQuerySelectionDialog();break;case"qvKratosToolbarVariableDialogBtn":this.showVariableDialogForcurrentQuery();break;default:}}if(c.getUiType()===f.UiType.BUTTON&&f.XString.isEqual(c.getName(),"selectQueryBtn")){this.showQuerySelectionDialog();}};f.QvKratos.prototype.onQuerySelectCancel=function(){};f.QvKratos.prototype.onQuerySelect=function(s,q,a){this.createQueryManager(s,q,a);};f.QvKratos.prototype.onQueryManagerCreated=function(e,q,c){if(e.isValid()){this.m_queryManager=e.getData();this.createQueryUi();}if(e.hasErrors()){throw f.XException.createRuntimeException(e.getSummary());}};f.QvKratos.prototype.onOk=function(){};f.QvKratos.prototype.onCancel=function(){};f.StdAidos=function(){};f.StdAidos.prototype=new f.DfUiProgram();f.StdAidos.prototype._ff_c="StdAidos";f.StdAidos.DEFAULT_PROGRAM_NAME="Aidos";f.StdAidos.AIDOS_DEFAULT_QUERY_NAME_KEY="aidos_defaultQueryName";f.StdAidos.AIDOS_DEFAULT_SYSTEM_NAME_KEY="aidos_defaultSystemName";f.StdAidos.AIDOS_DEFAULT_FULL_QUERY_NAME_KEY="aidos_defaultFullQueryName";f.StdAidos.createRunner=function(){var r=f.KernelBoot.createByName(f.StdAidos.DEFAULT_PROGRAM_NAME);return r;};f.StdAidos.createNewMetis=function(){var p=new f.StdAidos();p.setup();return p;};f.StdAidos.prototype.m_sacTable=null;f.StdAidos.prototype.m_dataSourceNameLbl=null;f.StdAidos.prototype.m_queryName=null;f.StdAidos.prototype.m_systemName=null;f.StdAidos.prototype.m_fullQueryName=null;f.StdAidos.prototype.newProgram=function(){var p=new f.StdAidos();p.setup();return p;};f.StdAidos.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);};f.StdAidos.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);};f.StdAidos.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);this.setupInternal();};f.StdAidos.prototype.releaseObject=function(){this.m_sacTable=f.XObjectExt.release(this.m_sacTable);f.DfUiProgram.prototype.releaseObject.call(this);};f.StdAidos.prototype.getLogSeverity=function(){return f.Severity.PRINT;};f.StdAidos.prototype.isShowMenuBar=function(){return true;};f.StdAidos.prototype.getDefaultWindowSize=function(){return f.UiSizeValue.createByCss("75vw","60vh");};f.StdAidos.prototype.getDefaultProgramName=function(){return f.StdAidos.DEFAULT_PROGRAM_NAME;};f.StdAidos.prototype.setupInternal=function(){this.m_queryName=this.getApplication().getUserManager().getUserSettings().getStringByKeyExt(f.StdAidos.AIDOS_DEFAULT_QUERY_NAME_KEY,"");this.m_systemName=this.getApplication().getUserManager().getUserSettings().getStringByKeyExt(f.StdAidos.AIDOS_DEFAULT_SYSTEM_NAME_KEY,"");this.m_fullQueryName=this.getApplication().getUserManager().getUserSettings().getStringByKeyExt(f.StdAidos.AIDOS_DEFAULT_FULL_QUERY_NAME_KEY,"");};f.StdAidos.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);var m=g.newControl(f.UiType.FLEX_LAYOUT);m.setName("stGridDemoMainLayout");m.useMaxSpace();m.setDirection(f.UiFlexDirection.COLUMN);m.setAlignItems(f.UiFlexAlignItems.CENTER);m.setJustifyContent(f.UiFlexJustifyContent.CENTER);m.setWrap(f.UiFlexWrap.NO_WRAP);m.setBackgroundColor(f.UiColor.createByString("#f9fafc"));var t=m.addNewItemOfType(f.UiType.FLEX_LAYOUT);t.setName("stGridDemoMainLayout");t.setWidthCss("100%");t.setHeightCss("22px");t.setMarginCss("10px");t.setDirection(f.UiFlexDirection.ROW);t.setAlignItems(f.UiFlexAlignItems.CENTER);t.setJustifyContent(f.UiFlexJustifyContent.CENTER);t.setWrap(f.UiFlexWrap.NO_WRAP);var d=t.addNewItemOfType(f.UiType.LABEL);d.setName("dataSourceLabel");d.setText("Data source: ");d.setFontSizeCss("18px");t.addNewItemOfType(f.UiType.SPACER).setWidthCss("5px");this.m_dataSourceNameLbl=t.addNewItemOfType(f.UiType.LABEL);this.m_dataSourceNameLbl.setName("dataSourceNameLabel");this.m_dataSourceNameLbl.setText("table mock data");this.m_dataSourceNameLbl.setFontWeight(f.UiFontWeight.BOLD);this.m_dataSourceNameLbl.setFontSizeCss("18px");this.m_sacTable=m.addNewItemOfType(f.UiType.SAC_TABLE_GRID);this.m_sacTable.setName("sacTableGrid");this.m_sacTable.setWidthCss("100%");this.m_sacTable.setHeightCss("100%");this.m_sacTable.registerOnClick(this);this.m_sacTable.registerOnContextMenu(this);this.m_sacTable.registerOnSelectionChange(this);this.m_sacTable.registerOnButtonPress(this);g.setRoot(m);this.addMenuBarButton("stdAidosJsonModelBtn",null,"JSON Model","table-view",this);this.addMenuBarButton("stdAidosRenderQueryBtn",null,"Render Query","media-play",this);this.addMenuBarButton("stdAidosDefaultQueryBtn",null,"Default Query",null,this);if(f.XStringUtils.isNotNullAndNotEmpty(this.m_queryName)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_systemName)&&f.XStringUtils.isNotNullAndNotEmpty(this.m_fullQueryName)){this.createQueryManager(this.m_systemName,this.m_queryName,this.m_fullQueryName);}};f.StdAidos.prototype.showJsonEntryDialog=function(){var c="";if(this.m_sacTable.getModelJson()!==null){c=f.PrUtils.serialize(this.m_sacTable.getModelJson(),false,true,2);}f.SuTextEntryDialog.createDialog(this.m_genesis,"SAC Table json","json",c,this).openDialog();};f.StdAidos.prototype.showQuerySelectionDialog=function(){f.OqdController.create(this.getApplication(),this.getUiManager(),this).open();};f.StdAidos.prototype.showLoadingIndicator=function(){this.setBusy(true);};f.StdAidos.prototype.hideLoadingIndicator=function(){this.setBusy(false);};f.StdAidos.prototype.setDataSourceName=function(n){if(f.notNull(this.m_dataSourceNameLbl)){this.m_dataSourceNameLbl.setText(n);}};f.StdAidos.prototype.updateTableData=function(s,m){this.m_sacTable.setModelJson(m);this.hideLoadingIndicator();this.setDataSourceName(s);};f.StdAidos.prototype.createDefaultQueryMenu=function(q){var a=this.m_genesis.newControl(f.UiType.MENU);a.setName("queryToolbarMenu");a.setTag("queryToolbarMenu");a.addNewItem().setName("queryToolbarMenuSetAsDefault").setText("Set current query as default").setIcon("favorite").registerOnPress(this).setEnabled(f.XStringUtils.isNotNullAndNotEmpty(this.m_fullQueryName));a.addNewItem().setName("queryToolbarMenuClearDefault").setText("Clear default query").setIcon("unfavorite").registerOnPress(this);a.openAt(q);};f.StdAidos.prototype.setCurrentQueryAsDefault=function(){this.getApplication().getUserManager().getUserSettings().putString(f.StdAidos.AIDOS_DEFAULT_QUERY_NAME_KEY,this.m_queryName);this.getApplication().getUserManager().getUserSettings().putString(f.StdAidos.AIDOS_DEFAULT_SYSTEM_NAME_KEY,this.m_systemName);this.getApplication().getUserManager().getUserSettings().putString(f.StdAidos.AIDOS_DEFAULT_FULL_QUERY_NAME_KEY,this.m_fullQueryName);this.getGenesis().showInfoToast(f.XStringUtils.concatenate3("Query: ",this.m_queryName," saved as default!"));};f.StdAidos.prototype.clearDefaultQuery=function(){this.getApplication().getUserManager().getUserSettings().removeKey(f.StdAidos.AIDOS_DEFAULT_QUERY_NAME_KEY);this.getApplication().getUserManager().getUserSettings().removeKey(f.StdAidos.AIDOS_DEFAULT_SYSTEM_NAME_KEY);this.getApplication().getUserManager().getUserSettings().removeKey(f.StdAidos.AIDOS_DEFAULT_FULL_QUERY_NAME_KEY);this.getGenesis().showInfoToast("Cleared default query!");};f.StdAidos.prototype.updateSacTableWithJson=function(j){if(f.XStringUtils.isNotNullAndNotEmpty(j)){this.showLoadingIndicator();var p=f.JsonParserFactory.newInstance();var a=p.parse(j);this.updateTableData("JSON",a);this.m_systemName="";this.m_queryName="";this.m_fullQueryName="";}};f.StdAidos.prototype.createQueryManager=function(s,q,a){this.showLoadingIndicator();this.m_systemName=s;this.m_queryName=q;this.m_fullQueryName=a;var b=f.QueryServiceConfig.createWithDataSourceName(this.getApplication(),s,a);b.processQueryManagerCreation(f.SyncType.NON_BLOCKING,this,null);};f.StdAidos.prototype.updateSacTableWithQuery=function(q){var r=this.getCursorResultSet(q);var m=f.GridRendererFactory.createRenderer(f.ProtocolBindingType.SAC_TABLE_GRID).render(r);this.updateTableData(f.XStringUtils.concatenate3(this.m_systemName,": ",this.m_queryName),m);};f.StdAidos.prototype.getCursorResultSet=function(q){var r=null;var a=q.getActiveResultSetContainer();if(f.isNull(a)){this.queryLoadingError("ResultSetContainer null");}else if(a.hasErrors()){this.queryLoadingError(a.getSummary());}else{r=a.getCursorResultSet();if(f.isNull(r)){if(a.hasErrors()){this.queryLoadingError(a.getSummary());}else{this.queryLoadingError("ResultSet null");}}else if(r.hasErrors()){this.queryLoadingError(r.getSummary());}}return r;};f.StdAidos.prototype.queryLoadingError=function(m){this.hideLoadingIndicator();this.setDataSourceName("Error");this.getGenesis().showErrorToast(m);this.m_systemName="";this.m_queryName="";this.m_fullQueryName="";throw f.XException.createRuntimeException(m);};f.StdAidos.prototype.onPress=function(e){f.DfUiProgram.prototype.onPress.call(this,e);var c=e.getControl();var a=c.getParent();if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR&&f.XString.isEqual(c.getName(),"stdAidosDefaultQueryBtn")){this.createDefaultQueryMenu(c);}if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR){switch(e.getControl().getName()){case"stdAidosJsonModelBtn":this.showJsonEntryDialog();break;case"stdAidosRenderQueryBtn":this.showQuerySelectionDialog();break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU){switch(c.getName()){case"queryToolbarMenuSetAsDefault":this.setCurrentQueryAsDefault();break;case"queryToolbarMenuClearDefault":this.clearDefaultQuery();break;default:}}};f.StdAidos.prototype.onTextEntryCancel=function(){};f.StdAidos.prototype.onTextEntryFinished=function(t){this.updateSacTableWithJson(t);};f.StdAidos.prototype.onQuerySelectCancel=function(){};f.StdAidos.prototype.onQuerySelect=function(s,q,a){this.createQueryManager(s,q,a);};f.StdAidos.prototype.onQueryManagerCreated=function(e,q,c){if(e.isValid()){var t=e.getData();this.updateSacTableWithQuery(t);}if(e.hasErrors()){this.queryLoadingError(e.getSummary());}};f.StdAidos.prototype.onClick=function(e){};f.StdAidos.prototype.onContextMenu=function(e){var c=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_X,0);var a=e.getParameters().getIntegerByKeyExt(f.UiControlEvent.PARAM_CLICK_Y,0);var t=this.getGenesis().newControl(f.UiType.MENU);var b=t.addNewItem();b.setText("Test Cell action!");t.openAtPosition(c,a);};f.StdAidos.prototype.onSelectionChange=function(e){var s=e.getParameters().getStringByKeyExt(f.UiControlEvent.PARAM_SELECTION_AREA,"");var p=f.JsonParserFactory.newInstance();var a=p.parse(s);if(a.isStructure()){var t=a;var b=t.getIntegerByKey("startCol");this.getGenesis().showWarningToast(f.XInteger.convertToString(b));}};f.StdAidos.prototype.onButtonPress=function(e){var p=e.getParameters().getStringByKeyExt(f.UiControlEvent.PARAM_PRESSED_BUTTON_TYPE,null);var a=f.UiPressedButtonType.lookup(p);if(f.notNull(a)&&a===f.UiPressedButtonType.DRILL){this.getGenesis().showInfoToast("Drill icon clicked!");}};f.Spreadsheet=function(){};f.Spreadsheet.prototype=new f.DfUiProgram();f.Spreadsheet.prototype._ff_c="Spreadsheet";f.Spreadsheet.prototype.m_fileName=null;f.Spreadsheet.prototype.newProgram=function(){var n=new f.Spreadsheet();n.setup();return n;};f.Spreadsheet.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addParameter(f.DfProgram.PARAM_FILE,"The file");};f.Spreadsheet.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);this.m_fileName=this.getArgumentStructure().getStringByKey(f.DfProgram.PARAM_FILE);};f.Spreadsheet.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);var d=f.ShDocument.create();if(f.notNull(this.m_fileName)){var a=f.XFile.create(this.getSession(),this.m_fileName);var c=a.load();var j=c.getJsonContent().asStructure();var b=j.getListByKey("Cells");for(var i=0;i<b.size();i++){var e=b.getStructureAt(i);var x=e.getIntegerByKey("x");var y=e.getIntegerByKey("y");var h=d.newCell(x,y);var t=e.getStringByKey("type");if(f.XString.isEqual(t,"text")){h.setText(e.getStringByKey("text"));}else if(f.XString.isEqual(t,"double")){h.setDouble(e.getDoubleByKey("dvalue"));}else if(f.XString.isEqual(t,"int")){h.setInteger(e.getIntegerByKey("ivalue"));}else if(f.XString.isEqual(t,"expr")){h.setExpression(e.getStringByKey("expr"));}}}else{d.newCell(0,0).setText("Example Grid");d.newCell(0,1).setDouble(23.71);d.newCell(1,1).setInteger(1729);d.newCell(0,2).setExpression("set('Hello world!');");d.newCell(1,2).setExpression("set(23);");d.newCell(1,3).setExpression("set(sum(A2:B3));");}d.evaluate();var m=d.toGridStructure();var v=g.newRoot(f.UiType.VERTICAL_LAYOUT);var k=v.addNewItemOfType(f.UiType.VIZ_GRID);k.setModelJson(m);v.addNewItemOfType(f.UiType.BUTTON).setText("Hello");};f.ScAtlas=function(){};f.ScAtlas.prototype=new f.DfUiProgram();f.ScAtlas.prototype._ff_c="ScAtlas";f.ScAtlas.DEFAULT_PROGRAM_NAME="Atlas";f.ScAtlas.ASD_FILE_NAME_KEY="name";f.ScAtlas.ASD_FILE_SYSTEM_NAME_KEY="systemName";f.ScAtlas.ASD_FILE_SYSTEM_URL_KEY="systemUrl";f.ScAtlas.ASD_FILE_STORY_ID_KEY="storyId";f.ScAtlas.ASD_FILE_TYPE_KEY="type";f.ScAtlas.ASD_FILE_WIDGET_IDS_KEY="widgetIds";f.ScAtlas.ASD_FILE_LAYOUT_TYPE_KEY="layoutType";f.ScAtlas.ASD_FILE_CHART_TYPE_KEY="chartType";f.ScAtlas.ASD_FILE_TYPE_DASHBOARD="dashboard";f.ScAtlas.ASD_WIDGET_SEPARATOR_TOKEN=",";f.ScAtlas.createRunner=function(){var r=f.KernelBoot.createByName(f.ScAtlas.DEFAULT_PROGRAM_NAME);return r;};f.ScAtlas.createNewAtlasProgram=function(){var p=new f.ScAtlas();p.setup();return p;};f.ScAtlas.prototype.m_sacUrl=null;f.ScAtlas.prototype.m_layout=null;f.ScAtlas.prototype.m_chartType=null;f.ScAtlas.prototype.m_systemDict=null;f.ScAtlas.prototype.m_mainNavigationContainer=null;f.ScAtlas.prototype.m_startPage=null;f.ScAtlas.prototype.m_urlInput=null;f.ScAtlas.prototype.m_orcaService=null;f.ScAtlas.prototype.m_file=null;f.ScAtlas.prototype.m_storyFileJson=null;f.ScAtlas.prototype.newProgram=function(){var p=new f.ScAtlas();p.setup();return p;};f.ScAtlas.prototype.doSetupProgramMetadata=function(m){f.DfUiProgram.prototype.doSetupProgramMetadata.call(this,m);m.addOption(f.DfProgram.PARAM_FILE,"Specify a atlas story file","Relative URI",f.XValueType.STRING);};f.ScAtlas.prototype.evalArguments=function(){f.DfUiProgram.prototype.evalArguments.call(this);var a=this.getArgumentStructure();var b=a.getStringByKey(f.DfProgram.PARAM_FILE);if(f.notNull(b)){var s=this.getSession();var c=f.XFile.createExt(s,b,f.PathFormat.AUTO_DETECT,f.VarResolveMode.DOLLAR);if(f.isNull(c)||c.isExisting()===false){this.log2("File does not exist: ",b);}else{this.m_file=c;}}};f.ScAtlas.prototype.initializeProgram=function(){f.DfUiProgram.prototype.initializeProgram.call(this);this.setupInternal();};f.ScAtlas.prototype.releaseObject=function(){f.DfUiProgram.prototype.releaseObject.call(this);this.m_startPage=f.XObjectExt.release(this.m_startPage);this.m_mainNavigationContainer=f.XObjectExt.release(this.m_mainNavigationContainer);this.m_urlInput=f.XObjectExt.release(this.m_urlInput);this.m_orcaService=f.XObjectExt.release(this.m_orcaService);if(f.notNull(this.m_systemDict)){this.m_systemDict.clear();this.m_systemDict=f.XObjectExt.release(this.m_systemDict);}this.m_layout=null;this.m_chartType=null;this.m_file=f.XObjectExt.release(this.m_file);this.m_storyFileJson=null;};f.ScAtlas.prototype.getLogSeverity=function(){return f.Severity.PRINT;};f.ScAtlas.prototype.isShowMenuBar=function(){return true;};f.ScAtlas.prototype.getDefaultWindowSize=function(){return f.UiSizeValue.createByCss("60vw","60vh");};f.ScAtlas.prototype.getDefaultProgramName=function(){return f.ScAtlas.DEFAULT_PROGRAM_NAME;};f.ScAtlas.prototype.setupInternal=function(){this.m_layout=f.OcLayoutType.CANVAS;this.m_chartType=f.OcChartType.HIGHCHARTS;this.m_systemDict=f.XHashMapOfStringByString.create();this.m_systemDict.put("apollo",f.XStringUtils.concatenate5("http:","//TEST_Admin:Admin123Admin123:","basic@apollo.oe","mapi.only.sa","p:8000?system_type=orca"));this.m_systemDict.put("monsun",f.XStringUtils.concatenate5("http:","//TEST_firefly:Welcome1:","basic@bw.ac","ioem.c.eu-de-1.cloud.s","ap:8001?system_type=orca"));};f.ScAtlas.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);this.addMenuBarButton("scAtlasToolbarStoryBtn",null,"Story",null,this).setEnabled(false);this.addMenuBarButton("scAtlasToolbarLogoutBtn",null,"Logout","log",this).setEnabled(false);this.m_mainNavigationContainer=g.newControl(f.UiType.NAVIGATION_CONTAINER);this.m_mainNavigationContainer.useMaxSpace();this.m_mainNavigationContainer.registerOnBack(this);if(f.notNull(this.m_file)){this.openStoryFromFile(this.m_file);}else{this.createStartPage();this.m_urlInput.setText(this.m_systemDict.getByKey("apollo"));this.setOrcaUrl(this.m_systemDict.getByKey("apollo"));}g.setRoot(this.m_mainNavigationContainer);};f.ScAtlas.prototype.createStartPage=function(){if(f.isNull(this.m_startPage)&&f.notNull(this.m_mainNavigationContainer)){this.m_startPage=this.m_mainNavigationContainer.pushNewPage();this.m_startPage.setName("scAtlasMainContainer");this.m_startPage.setText("SAC Story Connector");this.m_startPage.setShowHeader(false);var s=this.m_startPage.setNewContent(f.UiType.TAB_STRIP);s.useMaxSpace();s.setName("scAtlasStartPageTabBar");var t=s.addNewItem();t.setName("scAtlasHomeTab");t.setText("Home");t.setIcon("home");this.createHomeTab(t);var a=s.addNewItem();a.setName("scAtlasSettingsTab");a.setText("Settings");a.setIcon("settings");this.createSettingsTab(a);}};f.ScAtlas.prototype.createHomeTab=function(t){var h=t.setNewContent(f.UiType.FLEX_LAYOUT);h.useMaxSpace();h.setDirection(f.UiFlexDirection.COLUMN);h.setAlignItems(f.UiFlexAlignItems.CENTER);h.addNewItemOfType(f.UiType.SPACER).setWidthCss("100%");h.addNewItemOfType(f.UiType.SPACER).setHeightCss("10px");h.addNewItemOfType(f.UiType.LABEL).setText("Select server");var a=h.addNewItemOfType(f.UiType.DROPDOWN);a.setName("hostDropdown");a.setWidthExt(350,f.UiSizeUnit.PIXEL);a.setHeightExt(200,f.UiSizeUnit.PIXEL);a.registerOnSelect(this);var c=a.addNewItem();c.setName("custom");c.setText("Custom");var s=this.m_systemDict.getKeysAsIteratorOfString();while(s.hasNext()){var b=s.next();var d=a.addNewItem();d.setName(b);d.setText(b);}a.setSelectedName("apollo");h.addNewItemOfType(f.UiType.LABEL).setText("Orca URL");this.m_urlInput=h.addNewItemOfType(f.UiType.INPUT);this.m_urlInput.setName("scAtlasUrlInput");this.m_urlInput.setPlaceholder("URL");this.m_urlInput.setText(this.m_sacUrl);this.m_urlInput.setWidthExt(350,f.UiSizeUnit.PIXEL);this.m_urlInput.registerOnLiveChange(this);this.m_urlInput.registerOnEnter(this);var l=h.addNewItemOfType(f.UiType.BUTTON);l.setName("scAtlasLoginBtn");l.setText("Login");l.setIcon("visits");l.registerOnPress(this);};f.ScAtlas.prototype.createSettingsTab=function(t){var s=t.setNewContent(f.UiType.FLEX_LAYOUT);s.useMaxSpace();s.setDirection(f.UiFlexDirection.COLUMN);s.setAlignItems(f.UiFlexAlignItems.CENTER);s.addNewItemOfType(f.UiType.SPACER).setWidthCss("100%");s.addNewItemOfType(f.UiType.SPACER).setHeightCss("10px");var c=s.addNewItemOfType(f.UiType.BUTTON);c.setName("scAtlasClearCacheBtn");c.setText("Clear Cache");c.setIcon("delete");c.setButtonType(f.UiButtonType.DESTRUCTIVE);c.registerOnPress(this);var a=s.addNewItemOfType(f.UiType.SPACER);a.setName("spacerCaccheBtn");a.setHeightValue(20);a.setHeightUnit(f.UiSizeUnit.PIXEL);s.addNewItemOfType(f.UiType.LABEL).setText("Select layout");var l=s.addNewItemOfType(f.UiType.DROPDOWN);l.setName("scAtlasLayoutDropdown");l.setWidthExt(350,f.UiSizeUnit.PIXEL);l.setHeightExt(125,f.UiSizeUnit.PIXEL);l.registerOnSelect(this);l.addNewItem().setText("Canvas").setName(f.OcLayoutType.CANVAS.getName());l.addNewItem().setText("Flow").setName(f.OcLayoutType.FLOW.getName());l.addNewItem().setText("Flow simple (only charts and data grids)").setName(f.OcLayoutType.FLOW_SIMPLE.getName());l.setSelectedName(this.m_layout.getName());var b=s.addNewItemOfType(f.UiType.SPACER);b.setName("spacerLayoutDd");b.setHeightValue(20);b.setHeightUnit(f.UiSizeUnit.PIXEL);s.addNewItemOfType(f.UiType.LABEL).setText("Select chart type");var d=s.addNewItemOfType(f.UiType.DROPDOWN);d.setName("scAtlasChartDropdown");d.setWidthExt(350,f.UiSizeUnit.PIXEL);d.setHeightExt(125,f.UiSizeUnit.PIXEL);d.registerOnSelect(this);d.addNewItem().setText("Highcharts").setName(f.OcChartType.HIGHCHARTS.getName());d.addNewItem().setText("MicroChart").setName(f.OcChartType.MICRO_CHART.getName());d.setSelectedName(this.m_chartType.getName());};f.ScAtlas.prototype.setOrcaUrl=function(o){this.m_sacUrl=o;var s=f.XUri.createFromUrl(o);var a=this.getApplication().getSystemLandscape();a.setSystemByUri(f.OcOrcaServiceConfig.ORCA_MASTER_SYSTEM_NAME,s,null);};f.ScAtlas.prototype.loginToSac=function(s){if(s){this.m_mainNavigationContainer.setBusy(true);}var c=f.OcOrcaServiceConfig.create(this.getApplication(),f.OcOrcaServiceConfig.ORCA_MASTER_SYSTEM_NAME);c.processOrcaServiceCreation(f.SyncType.NON_BLOCKING,this,null);};f.ScAtlas.prototype.goToStoryListPage=function(s){var a=f.ScAtlasStoryListView.createStoryListView(this.getGenesis(),s,this);if(f.notNull(a)){this.m_mainNavigationContainer.pushPage(a.getPage());}};f.ScAtlas.prototype.renderStory=function(s){if(f.notNull(this.m_storyFileJson)){this.renderFromFile(s);}else{var a=f.ScAtlasStoryView.createStoryView(this.getGenesis(),this.getApplication(),s,this.m_layout,this.m_chartType);this.m_mainNavigationContainer.pushPage(a.getPage());}};f.ScAtlas.prototype.openStoryFromFile=function(s){if(s.isExisting()){var a=this.m_mainNavigationContainer.pushNewPage();a.setName("scAtlasStoryFilePage");a.setText("Story");a.setBackgroundColor(f.UiColor.WHITE);a.setShowHeader(false);var b=a.setNewContent(f.UiType.ACTIVITY_INDICATOR);b.setText("Loading story...");b.useMaxSpace();s.processLoad(f.SyncType.NON_BLOCKING,this,null,f.CompressionType.NONE);}};f.ScAtlas.prototype.loadStoryFromFileJson=function(s){if(this.isStoryJsonFileValid(s)){this.m_storyFileJson=s;this.setOrcaUrl(this.m_storyFileJson.getStringByKey("systemUrl"));this.loginToSac(false);}else{this.getGenesis().showErrorToast("Invalid story file!");this.m_storyFileJson=null;}};f.ScAtlas.prototype.isStoryJsonFileValid=function(s){if(f.isNull(s)){return false;}if(!s.containsKey(f.ScAtlas.ASD_FILE_SYSTEM_NAME_KEY)){return false;}if(!s.containsKey(f.ScAtlas.ASD_FILE_SYSTEM_URL_KEY)){return false;}if(!s.containsKey(f.ScAtlas.ASD_FILE_STORY_ID_KEY)){return false;}return true;};f.ScAtlas.prototype.renderFromFile=function(s){this.m_mainNavigationContainer.clearPages();this.setTitle(this.m_file.getName());var n=this.m_storyFileJson.getStringByKeyExt(f.ScAtlas.ASD_FILE_NAME_KEY,null);var t=f.OcLayoutType.getByName(this.m_storyFileJson.getStringByKey(f.ScAtlas.ASD_FILE_LAYOUT_TYPE_KEY));if(f.isNull(t)){t=this.m_layout;}var a=f.OcChartType.lookup(this.m_storyFileJson.getStringByKey(f.ScAtlas.ASD_FILE_CHART_TYPE_KEY));if(f.isNull(a)){a=this.m_chartType;}var b=this.m_storyFileJson.getStringByKeyExt(f.ScAtlas.ASD_FILE_TYPE_KEY,null);if(f.XString.isEqual(b,f.ScAtlas.ASD_FILE_TYPE_DASHBOARD)){var w=this.m_storyFileJson.getStringByKeyExt(f.ScAtlas.ASD_FILE_WIDGET_IDS_KEY,null);var c=f.XStringTokenizer.splitString(w,f.ScAtlas.ASD_WIDGET_SEPARATOR_TOKEN);var d=f.ScAtlasDashboardView.createDashboardView(this.getGenesis(),this.getApplication(),s,c,n);this.m_mainNavigationContainer.pushPage(d.getPage());}else{var e=f.ScAtlasStoryView.createStoryView(this.getGenesis(),this.getApplication(),s,t,a);this.m_mainNavigationContainer.pushPage(e.getPage());}};f.ScAtlas.prototype.createStoryToolbarMenu=function(a){var s=this.m_genesis.newControl(f.UiType.MENU);s.setName("storyToolbarMenu");s.addNewItem().setName("atlasStoryToolbarMenuSave").setText("Save").setIcon("save").registerOnPress(this);s.openAt(a);};f.ScAtlas.prototype.onOrcaServiceCreated=function(e,o,c){if(e.isValid()){this.log("#1 success logon");this.m_orcaService=o;o.processSystemLandscapeLoad(f.SyncType.NON_BLOCKING,this,null);}else{this.log("#1 failure logon");this.log(e.getSummary());this.getGenesis().showErrorToast("Logon failed!");}};f.ScAtlas.prototype.onSystemsLoaded=function(e,s,c){if(e.isValid()){this.log("#2 success system loaded");var a=this.getApplication().getSystemLandscape();for(var i=0;i<s.size();i++){var b=s.get(i);a.setSystemByDescription(b);}if(f.notNull(this.m_storyFileJson)){this.m_orcaService.processStoryLoad(f.SyncType.NON_BLOCKING,this,null,this.m_storyFileJson.getStringByKey(f.ScAtlas.ASD_FILE_STORY_ID_KEY));}else{this.m_orcaService.processStoryCatalogLoad(f.SyncType.NON_BLOCKING,this,null,null);}}else{this.log("#2 failure system loaded");this.log(e.getSummary());this.getGenesis().showErrorToast("System load failed!");}};f.ScAtlas.prototype.onStoryCatalogLoaded=function(e,s,c){this.m_mainNavigationContainer.setBusy(false);if(e.isValid()){this.log("#3 success story catalog loaded");this.goToStoryListPage(e.getData());}else{this.log("#3 failure story catalog loaded");this.log(e.getSummary());this.getGenesis().showErrorToast("System catalog load failed!");}};f.ScAtlas.prototype.onStoryLoaded=function(e,s,c){this.m_mainNavigationContainer.setBusy(false);if(e.isValid()){this.log("#4 success story loaded");this.renderStory(s);}else{this.log("#4 failure story loaded");this.log(e.getSummary());this.getGenesis().showErrorToast("Story load failed!");}};f.ScAtlas.prototype.onFileLoaded=function(e,a,b,c){this.log("File loaded!");if(e.isValid()){if(f.notNull(b)){var j=b.getJsonContent();if(f.notNull(j)){this.loadStoryFromFileJson(j.asStructure());}else{this.getGenesis().showErrorToast("Not a json document!");}}else{this.getGenesis().showErrorToast("Something went wrong! File content is empty!");}}else{this.getGenesis().showErrorToast("Error while fetching the specified file!");}};f.ScAtlas.prototype.onStoryCatalogItemSelected=function(s){if(f.notNull(s)){this.m_mainNavigationContainer.setBusy(true);this.m_orcaService.processStoryLoad(f.SyncType.NON_BLOCKING,this,null,s.getId());this.log(s.getId());}};f.ScAtlas.prototype.onPress=function(e){f.DfUiProgram.prototype.onPress.call(this,e);var c=e.getControl();var a=c.getParent();if(f.XString.isEqual(c.getName(),"scAtlasLoginBtn")){this.setOrcaUrl(this.m_urlInput.getText());this.loginToSac(true);return;}if(f.notNull(a)&&a.getUiType()===f.UiType.TOOLBAR){switch(c.getName()){case"scAtlasToolbarStoryBtn":this.createStoryToolbarMenu(c);break;case"scAtlasToolbarLogoutBtn":this.getGenesis().showInfoToast("It works! Fake logout!");break;default:}}if(f.notNull(a)&&a.getUiType()===f.UiType.MENU){if(f.XString.isEqual(a.getName(),"editToolbarMenu")){switch(c.getName()){case"editToolbarMenuAddBtn":break;case"editToolbarMenuImportBtn":break;case"editToolbarMenuClearUserSystemsBtn":break;default:}}else if(f.XString.isEqual(a.getName(),"toolsToolbarMenu")){switch(c.getName()){case"toolsToolbarMenuConnectBtn":break;default:}}}};f.ScAtlas.prototype.onSelect=function(e){if(e.getControl().getUiType()===f.UiType.DROPDOWN){var s=e.getSelectedItem();if(f.XString.isEqual(e.getControl().getName(),"hostDropdown")){var t=s.getName();if(this.m_systemDict.containsKey(t)){this.m_urlInput.setText(this.m_systemDict.getByKey(t));this.setOrcaUrl(this.m_systemDict.getByKey(t));}else{this.m_urlInput.setText("");this.setOrcaUrl("");}}else if(f.XString.isEqual(e.getControl().getName(),"scAtlasChartDropdown")){var c=s.getName();this.m_chartType=f.OcChartType.lookup(c);}}};f.ScAtlas.prototype.onLiveChange=function(e){};f.ScAtlas.prototype.onEnter=function(e){};f.ScAtlas.prototype.onBack=function(e){};f.FirstAidTestProgram=function(){};f.FirstAidTestProgram.prototype=new f.DfUiProgram();f.FirstAidTestProgram.prototype._ff_c="FirstAidTestProgram";f.FirstAidTestProgram.DEFAULT_PROGRAM_NAME="FirstAidTest";f.FirstAidTestProgram.prototype.m_createQmBtn=null;f.FirstAidTestProgram.prototype.m_cloneQmBtn=null;f.FirstAidTestProgram.prototype.m_overviewBtn=null;f.FirstAidTestProgram.prototype.m_shellBtn=null;f.FirstAidTestProgram.prototype.m_overview=null;f.FirstAidTestProgram.prototype.newProgram=function(){var p=new f.FirstAidTestProgram();p.setup();return p;};f.FirstAidTestProgram.prototype.buildUi=function(g){f.DfUiProgram.prototype.buildUi.call(this,g);var r=g.newRoot(f.UiType.VERTICAL_LAYOUT);this.m_createQmBtn=r.addNewItemOfType(f.UiType.BUTTON);this.m_createQmBtn.setText("Create QM...");this.m_createQmBtn.registerOnPress(this);this.m_cloneQmBtn=r.addNewItemOfType(f.UiType.BUTTON);this.m_cloneQmBtn.setText("Clone last QM");this.m_cloneQmBtn.setEnabled(false);this.m_cloneQmBtn.registerOnPress(this);this.m_overviewBtn=r.addNewItemOfType(f.UiType.BUTTON);this.m_overviewBtn.setText("FirstAid Dialog");this.m_overviewBtn.registerOnPress(this);this.m_shellBtn=r.addNewItemOfType(f.UiType.BUTTON);this.m_shellBtn.setText("FirstAid Shell");this.m_shellBtn.registerOnPress(this);var d=f.QFactory.createDataSource();d.setSystemName("KIW");d.setFullQualifiedName("query:[0BOC_TEST_VARIABLE_TYPES_1]");this.onDatasourceSelected(d);};f.FirstAidTestProgram.prototype.onPress=function(e){f.DfUiProgram.prototype.onPress.call(this,e);var c=e.getControl();if(c===this.m_overviewBtn){f.XObjectExt.release(this.m_overview);this.m_overview=f.FirstAidDialog.createFirstAidDialog(this.getApplication(),this.getUiManager());this.m_overview.open();}else if(c===this.m_shellBtn){var p=this.getApplication().getProcess();if(f.notNull(p)){var n=f.ProgramArgs.create();var s=f.ProgramStartCfg.create(p,"shell",null,n);s.setIsNewConsoleNeeded(true);s.setIsCreatingChildProcess(false);s.processExecution(f.SyncType.NON_BLOCKING,null,null);}}else if(c===this.m_createQmBtn){this.createQm();}else if(c===this.m_cloneQmBtn){var o=this.getApplication().getOlapEnvironment();var a=o.getAllAreaQueryManager();var l=a.get(a.size()-1);l.cloneQueryManager();}};f.FirstAidTestProgram.prototype.createQm=function(){var a=f.ProgramRegistration.getProgramManifest(f.AuDatasourcePicker.DEFAULT_PROGRAM_NAME);var b=f.ProgramStartCfg.create(this.getProcess(),a.getName(),null,null);var t=b.getArguments();t.putXObject(f.AuDatasourcePicker.PARAM_LISTENER,this);b.setParentProcess(this.getProcess());b.setIsCreatingChildProcess(true);b.processExecution(f.SyncType.NON_BLOCKING,null,null);};f.FirstAidTestProgram.prototype.onDatasourceSelected=function(d){if(f.isNull(d)){return;}var s=f.QueryServiceConfig.createWithDataSource(this.getApplication(),d.getSystemName(),d);var r=s.processQueryManagerCreation(f.SyncType.BLOCKING,null,null);if(r.hasErrors()){this.logError(r.getSummary());}else{r.getData().getTagging().put("myTag","hoi");r.getData().getTagging().put("myTag1","hoi");r.getData().getTagging().put("myTag2","hoi");r.getData().getTagging().put("myTag3","hoi");r.getData().getTagging().put("myTag4","hoi");this.m_cloneQmBtn.setEnabled(true);}};f.ApplicationUiModule=function(){};f.ApplicationUiModule.prototype=new f.DfModule();f.ApplicationUiModule.prototype._ff_c="ApplicationUiModule";f.ApplicationUiModule.s_module=null;f.ApplicationUiModule.getInstance=function(){if(f.isNull(f.ApplicationUiModule.s_module)){f.DfModule.checkInitialized(f.SystemUiModule.getInstance());f.DfModule.checkInitialized(f.OlapApiModule.getInstance());f.DfModule.checkInitialized(f.StoryModule.getInstance());f.DfModule.checkInitialized(f.QuasarModule.getInstance());f.DfModule.checkInitialized(f.OlapUiModule.getInstance());f.ApplicationUiModule.s_module=f.DfModule.startExt(new f.ApplicationUiModule());f.ProgramRegistration.setProgramFactory(f.AnalyticCardsProgram.DEFAULT_PROGRAM_NAME,new f.AnalyticCardsProgram());f.ProgramRegistration.setProgramFactory(f.Gyros.DEFAULT_PROGRAM_NAME,new f.Gyros());f.ProgramRegistration.setProgramFactory(f.FirstAidTestProgram.DEFAULT_PROGRAM_NAME,new f.FirstAidTestProgram());f.ProgramRegistration.setProgramFactory(f.FilterDialogProgram.DEFAULT_PROGRAM_NAME,new f.FilterDialogProgram());f.ProgramRegistration.setProgramFactory(f.DimensionDialogTestProgram.DEFAULT_PROGRAM_NAME,new f.DimensionDialogTestProgram());f.ProgramRegistration.setProgramFactory(f.CatalogDialogDummyProgram.DEFAULT_PROGRAM_NAME,new f.CatalogDialogDummyProgram());f.ProgramRegistration.setProgramFactory(f.QvKratos.DEFAULT_PROGRAM_NAME,new f.QvKratos());f.ProgramRegistration.setProgramFactory(f.StdAidos.DEFAULT_PROGRAM_NAME,new f.StdAidos());f.ProgramRegistration.setProgramFactory(f.GsGalaxyStudio.DEFAULT_PROGRAM_NAME,new f.GsGalaxyStudio());f.ProgramRegistration.setProgramFactory(f.ScAtlas.DEFAULT_PROGRAM_NAME,new f.ScAtlas());f.ProgramRegistration.setProgramFactory(f.AuProteusShell.DEFAULT_PROGRAM_NAME,new f.AuProteusShell());f.ProgramRegistration.setProgramFactory(f.AuGds.DEFAULT_PROGRAM_NAME,new f.AuGds());f.GyrosCommand.staticSetupGyrosCommands();f.OpenQueryDialogI18n.staticSetupOqd();f.DfModule.stopExt(f.ApplicationUiModule.s_module);}return f.ApplicationUiModule.s_module;};f.ApplicationUiModule.prototype.getName=function(){return"ff8050.application.ui";};f.ApplicationUiModule.getInstance();return sap.firefly;});
