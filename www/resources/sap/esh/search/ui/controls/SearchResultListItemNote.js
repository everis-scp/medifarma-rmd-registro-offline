/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/esh/search/ui/controls/SearchResultListItem","sap/esh/search/ui/controls/SearchText"],function(S,a){"use strict";var n="\u2013";return S.extend("sap.esh.search.ui.controls.SearchResultListItemNote",{renderer:function(r,c){c._renderer(r);},_renderContentContainer:function(r){r.write('<div class="sapUshellSearchResultListItem-Content">');this._renderTitleContainer(r);this._renderAttributesContainer(r);r.write("</div>");},_renderTitleContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-TitleAndImageContainer">');r.write('<div class="sapUshellSearchResultListItem-TitleContainer">');t._renderCheckbox(r);var b=t.getTitleUrl();var c=t.getAggregation("_titleLink");c.setHref(b);c.setText(t.getTitle());if(b.length===0){c.setEnabled(false);}r.renderControl(c);var d=t.getAggregation("_typeText");d.setText(t.getType());r.renderControl(d);r.write("</div>");t._renderImageForPhone(r);r.write("</div>");},_renderAttributesContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItemDoc-AttributesExpandContainer');var e=t.getProperty("expanded");if(e){r.write(" sapUshellSearchResultListItem-AttributesExpanded");}r.write('">');r.write('<div class="sapUshellSearchResultListItem-AttributesAndActions">');r.write('<ul class="sapUshellSearchResultListItem-Attributes">');this._renderThumbnailSnippetContainer(r);this._renderDocAttributesContainer(r);r.write('<div class="sapUshellSearchResultListItem-ExpandSpacerAttribute" aria-hidden="true"></div>');r.write("</ul>");t._renderRelatedObjectsToolbar(r);r.write("</div>");r.write("</div>");},_renderImageForPhone:function(r){var t=this;if(t.getImageUrl()&&t.getContainsThumbnail()===true){r.write('<div class="sapUshellSearchResultListItem-TitleImage">');r.write('<div class="sapUshellSearchResultListItem-ImageContainerAlignmentHelper"></div>');r.write('<img class="sapUshellSearchResultListItem-Image" src="');r.write(t.getImageUrl());r.write('">');r.write("</div>");}},_renderDocAttributesContainer:function(r){r.write('<div class="sapUshellSearchResultListItemNote-AttributesContainer">');var i=this.getAttributes();this._renderAllAttributes(r,i);r.write("</div>");},_renderThumbnailSnippetContainer:function(r){r.write('<div class="sapUshellSearchResultListItemNote-ThumbnailSnippetContainer">');this._renderSnippetContainer(r);r.write("</div>");},_renderSnippetContainer:function(r){var b=this.getAttributes();for(var i=0;i<b.length;i++){var c=b[i];if(c.longtext){var v=new a();v.setText(c.value);v.addStyleClass("sapUshellSearchResultListItemDoc-Snippet");r.renderControl(v);}}},_renderAllAttributes:function(r,b){var t=this;var c;var l;var v;var d;var i=0,j=0;var e=4;if(t.getImageUrl()){e--;}t.destroyAggregation("_attributeValues");for(;j<e&&i<b.length;i++){c=b[i];if(c.isTitle||c.longtext){continue;}if(!c.value){continue;}l=c.name;v=c.value;if(l===undefined||v===undefined){continue;}if(!v||v===""){v=n;}d=new a();d.setText(v);d.addStyleClass("sapUshellSearchResultListItemNote-AttributeValue");d.addStyleClass("sapUshellSearchResultListItem-MightOverflow");r.renderControl(d);t.addAggregation("_attributeValues",d,true);j++;}},_getExpandAreaObjectInfo:function(){var t=this;var r=$(t.getDomRef());var b=r.find(".sapUshellSearchResultListItemDoc-AttributesExpandContainer");var c=r.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");var d=false;if(c.css("display")==="none"){c.css("display","block");d=true;}var e=b.height();var f=r.find(".sapUshellSearchResultListItem-AttributesAndActions").height();if(d){c.css("display","");}var g=[];r.find(".sapUshellSearchResultListItem-GenericAttribute").each(function(){var k=$(this);if(k.css("order")>2){g.push(this);}});var h=200;var i=h/10;var j={resultListItem:r,attributesExpandContainer:b,currentHeight:e,expandedHeight:f,elementsToFadeInOrOut:g,expandAnimationDuration:h,fadeInOrOutAnimationDuration:i,relatedObjectsToolbar:c,};return j;},hideDetails:function(){var t=this;var r=$(t.getDomRef());if(!t.isShowingDetails()){return;}var e=this._getExpandAreaObjectInfo();var b=r.find(".sapUshellSearchResultListItem-Attributes").outerHeight(true);var s=false;var d=e.attributesExpandContainer.animate({height:b,},{duration:e.expandAnimationDuration,progress:function(c,p,f){if(!s&&f<=e.fadeInOrOutAnimationDuration){s=true;var g=$(e.elementsToFadeInOrOut).animate({opacity:0,},e.fadeInOrOutAnimationDuration).promise();jQuery.when(d,g).done(function(){t.setProperty("expanded",false,true);e.attributesExpandContainer.removeClass("sapUshellSearchResultListItem-AttributesExpanded");$(e.elementsToFadeInOrOut).css("opacity","");var i=sap.ui.core.IconPool.getIconURI("slim-arrow-down");var h=t.getAggregation("_expandButton");h.setTooltip(sap.esh.search.ui.resources.i18n.getText("showDetailBtn_tooltip"));h.setIcon(i);h.rerender();});}},}).promise();},});});
