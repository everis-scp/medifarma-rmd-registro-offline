/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/m/Button","sap/m/CheckBox","sap/m/FlexBox","sap/m/FlexItemData","sap/m/Label","sap/m/List","sap/m/ListMode","sap/m/MessageBox","sap/m/StandardListItem","sap/m/Title","sap/m/VBox","sap/ui/model/BindingMode",],function(B,C,F,a,L,b,c,M,S,T,V,d){"use strict";return sap.ui.jsview("sap.esh.search.ui.userpref.SearchPrefsDialog",{createContent:function(){var t=this;var e;this.firstTimeBeforeRendering=true;var o=new T({text:sap.esh.search.ui.resources.i18n.getText("sp.personalizedSearch"),});var p=new C({id:"personalizedSearchCheckbox",selected:{path:"/personalizedSearch",mode:d.TwoWay,},text:sap.esh.search.ui.resources.i18n.getText("sp.trackPersonalizedSearch"),enabled:"{/isPersonalizedSearchEditable}",layoutData:new a({growFactor:1}),});var r=new B({text:sap.esh.search.ui.resources.i18n.getText("sp.deleteSearchTracks"),press:this.resetHistory.bind(this),enabled:{parts:["/isPersonalizedSearchEditable","/resetButtonWasClicked"],formatter:function(m,n){return m&&!n;},},});var P=new F({items:[p,r],});var f=new V({items:[o,P],});var g=new T({text:sap.esh.search.ui.resources.i18n.getText("sp.defaultSearchScope"),});var h=new C({id:"defaultSearchScopeCheckbox",selected:{path:"/favActive",mode:d.TwoWay,},text:sap.esh.search.ui.resources.i18n.getText("sp.usePersSearchScope"),});var l=new L({id:"connectorListLabel",text:sap.esh.search.ui.resources.i18n.getText("sp.connectorList"),visible:"{/favActive}",layoutData:new a({growFactor:1}),}).addStyleClass("sapUiSmallMarginTop");var i=new L({text:{parts:["/selectedDataSourceCount","/dataSourceCount"],formatter:function(m,n){return sap.esh.search.ui.resources.i18n.getText("sp.connectorListCount",[m,n,]);},},visible:"{/favActive}",}).addStyleClass("sapUiSmallMarginTop");var j=new F({items:[l,i],});var k=new b({id:"connectorListId",mode:c.MultiSelect,visible:"{/favActive}",selectionChange:function(E){t.onListItemSelectionChange(E);},}).addStyleClass("sapUiTinyMarginTop");k.bindAggregation("items","/subDataSources",function(){var m=new S({title:"{label}",selected:"{selected}",});return m;});var D=new V({items:[g,h,j,k],visible:"{/userDefinedDatasources}",}).addStyleClass("sapUiSmallMarginTop");var s=new V({items:[f,D],});e=[s];return e;},onBeforeRendering:function(){if(this.firstTimeBeforeRendering){this.firstTimeBeforeRendering=false;return;}this.getModel().reload();},resetHistory:function(){this.getModel().resetProfile().then(function(){},function(r){var e=sap.esh.search.ui.resources.i18n.getText("sp.resetFailed");e+="\n"+r;M.show(e,{title:sap.esh.search.ui.resources.i18n.getText("sp.resetFailedTitle"),icon:M.Icon.ERROR,actions:[M.Action.OK],});});},onListItemSelectionChange:function(e){this.getModel().setProperty("/selectedDataSourceCount",e.getSource().getSelectedItems().length);},});});
