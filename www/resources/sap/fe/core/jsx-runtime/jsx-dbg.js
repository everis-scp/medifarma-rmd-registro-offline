/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define([], function () {
  "use strict";

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  var writeChildren = function (val) {
    if (Array.isArray(val)) {
      return val.join("");
    } else {
      return val;
    }
  };

  var addChildAggregation = function (aggregationChildren, aggregationName, child) {
    if (child === undefined) {
      return;
    }

    if (!aggregationChildren[aggregationName]) {
      aggregationChildren[aggregationName] = [];
    }

    if (typeof child === "string" && child.trim().length > 0) {
      aggregationChildren[aggregationName].push(child);
    } else if (Array.isArray(child)) {
      child.forEach(function (subChild) {
        addChildAggregation(aggregationChildren, aggregationName, subChild);
      });
    } else {
      Object.keys(child).forEach(function (childKey) {
        addChildAggregation(aggregationChildren, childKey, child[childKey]);
      });
    }
  };

  var jsx = function (type, mSettings) {
    var metadata = type.getMetadata();
    var namesSplit = metadata.getName().split(".");
    var metadataProperties = metadata.getAllProperties();
    var metadataAggregations = metadata.getAllAggregations();
    var namespace = namesSplit.slice(0, -1);
    var name = namesSplit[namesSplit.length - 1];
    var namespaceAlias = namespace[namespace.length - 1];
    var tagName = "".concat(namespaceAlias, ":").concat(name);
    var propertiesString = [];
    var aggregationString = [];
    var defaultAggregationName = metadata.getDefaultAggregationName();
    Object.keys(metadataProperties).forEach(function (propertyName) {
      if (mSettings.hasOwnProperty(propertyName)) {
        propertiesString.push("".concat(propertyName, "=\"").concat(mSettings[propertyName], "\""));
      }
    });

    var aggregationChildren = _defineProperty({}, defaultAggregationName, []);

    addChildAggregation(aggregationChildren, defaultAggregationName, mSettings.children);
    Object.keys(metadataAggregations).forEach(function (aggregationName) {
      if ((aggregationChildren === null || aggregationChildren === void 0 ? void 0 : aggregationChildren.hasOwnProperty(aggregationName)) && aggregationChildren[aggregationName].length > 0) {
        aggregationString.push("<".concat(namespaceAlias, ":").concat(aggregationName, ">\n\t\t\t\t\t\t").concat(writeChildren(aggregationChildren[aggregationName]), "\n\t\t\t\t\t</").concat(namespaceAlias, ":").concat(aggregationName, ">"));
      }

      if (mSettings.hasOwnProperty(aggregationName)) {
        propertiesString.push("".concat(aggregationName, "='").concat(JSON.stringify(mSettings[aggregationName]), "'"));
      }
    });
    return "<".concat(tagName, " xmlns:").concat(namespaceAlias, "=\"").concat(namespace.join("."), "\" ").concat(propertiesString.join(" "), ">").concat(aggregationString.join(""), "</").concat(tagName, ">");
  };

  return jsx;
}, false);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzeC50cyJdLCJuYW1lcyI6WyJ3cml0ZUNoaWxkcmVuIiwidmFsIiwiQXJyYXkiLCJpc0FycmF5Iiwiam9pbiIsImFkZENoaWxkQWdncmVnYXRpb24iLCJhZ2dyZWdhdGlvbkNoaWxkcmVuIiwiYWdncmVnYXRpb25OYW1lIiwiY2hpbGQiLCJ1bmRlZmluZWQiLCJ0cmltIiwibGVuZ3RoIiwicHVzaCIsImZvckVhY2giLCJzdWJDaGlsZCIsIk9iamVjdCIsImtleXMiLCJjaGlsZEtleSIsImpzeCIsInR5cGUiLCJtU2V0dGluZ3MiLCJtZXRhZGF0YSIsImdldE1ldGFkYXRhIiwibmFtZXNTcGxpdCIsImdldE5hbWUiLCJzcGxpdCIsIm1ldGFkYXRhUHJvcGVydGllcyIsImdldEFsbFByb3BlcnRpZXMiLCJtZXRhZGF0YUFnZ3JlZ2F0aW9ucyIsImdldEFsbEFnZ3JlZ2F0aW9ucyIsIm5hbWVzcGFjZSIsInNsaWNlIiwibmFtZSIsIm5hbWVzcGFjZUFsaWFzIiwidGFnTmFtZSIsInByb3BlcnRpZXNTdHJpbmciLCJhZ2dyZWdhdGlvblN0cmluZyIsImRlZmF1bHRBZ2dyZWdhdGlvbk5hbWUiLCJnZXREZWZhdWx0QWdncmVnYXRpb25OYW1lIiwicHJvcGVydHlOYW1lIiwiaGFzT3duUHJvcGVydHkiLCJjaGlsZHJlbiIsIkpTT04iLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQVlBLE1BQU1BLGFBQWEsR0FBRyxVQUFTQyxHQUFULEVBQWlDO0FBQ3RELFFBQUlDLEtBQUssQ0FBQ0MsT0FBTixDQUFjRixHQUFkLENBQUosRUFBd0I7QUFDdkIsYUFBT0EsR0FBRyxDQUFDRyxJQUFKLENBQVMsRUFBVCxDQUFQO0FBQ0EsS0FGRCxNQUVPO0FBQ04sYUFBT0gsR0FBUDtBQUNBO0FBQ0QsR0FORDs7QUFRQSxNQUFNSSxtQkFBbUIsR0FBRyxVQUFTQyxtQkFBVCxFQUFtQ0MsZUFBbkMsRUFBNERDLEtBQTVELEVBQXdFO0FBQ25HLFFBQUlBLEtBQUss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LE1BQXdERCxtQkFBbUIsQ0FBQ0MsZUFBRCxDQUFuQixDQUFxQ0ksTUFBckMsR0FBOEMsQ0FBMUcsRUFBNkc7QUFDNUd5QixRQUFBQSxpQkFBaUIsQ0FBQ3hCLElBQWxCLFlBQ0txQixjQURMLGNBQ3VCMUIsZUFEdkIsNEJBRUtQLGFBQWEsQ0FBQ00sbUJBQW1CLENBQUNDLGVBQUQsQ0FBcEIsQ0FGbEIsMkJBR00wQixjQUhOLGNBR3dCMUIsZUFIeEI7QUFLQTs7QUFDRCxVQUFJYSxTQUFTLENBQUNvQixjQUFWLENBQXlCakMsZUFBekIsQ0FBSixFQUErQztBQUM5QzRCLFFBQUFBLGdCQUFnQixDQUFDdkIsSUFBakIsV0FBeUJMLGVBQXpCLGVBQTZDbUMsSUFBSSxDQUFDQyxTQUFMLENBQWdCdkIsU0FBRCxDQUFtQmIsZUFBbkIsQ0FBZixDQUE3QztBQUNBO0FBQ0QsS0FYRDtBQVlBLHNCQUFXMkIsT0FBWCxvQkFBNEJELGNBQTVCLGdCQUErQ0gsU0FBUyxDQUFDMUIsSUFBVixDQUFlLEdBQWYsQ0FBL0MsZ0JBQXVFK0IsZ0JBQWdCLENBQUMvQixJQUFqQixDQUFzQixHQUF0QixDQUF2RSxjQUFxR2dDLGlCQUFpQixDQUFDaEMsSUFBbEIsQ0FDcEcsRUFEb0csQ0FBckcsZUFFTThCLE9BRk47QUFHQSxHQXpDRDs7U0EwQ2VoQixHIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYW5hZ2VkT2JqZWN0TWV0YWRhdGEgfSBmcm9tIFwic2FwL3VpL2Jhc2VcIjtcblxudHlwZSBDb250cm9sUHJvcGVydHlOYW1lczxUPiA9IHtcblx0W0sgaW4ga2V5b2YgVF06IFRbS10gZXh0ZW5kcyBzdHJpbmcgfCBib29sZWFuIHwgRnVuY3Rpb24gfCBudW1iZXIgfCB1bmRlZmluZWQgfCBzdHJpbmdbXSA/IG5ldmVyIDogSztcbn1ba2V5b2YgVF07XG50eXBlIENvbnRyb2xQcm9wZXJ0aWVzPFQ+ID0gUGFydGlhbDxSZWNvcmQ8Q29udHJvbFByb3BlcnR5TmFtZXM8VD4sIEpTWC5FbGVtZW50Pj47XG50eXBlIE5vbkNvbnRyb2xQcm9wZXJ0aWVzPFQ+ID0gUGFydGlhbDxPbWl0PFQsIENvbnRyb2xQcm9wZXJ0eU5hbWVzPFQ+Pj47XG50eXBlIENvbnRyb2xXaXRoTWV0YWRhdGEgPSB7XG5cdGdldE1ldGFkYXRhKCk6IE1hbmFnZWRPYmplY3RNZXRhZGF0YTtcbn07XG5leHBvcnQgdHlwZSBXcmFwcGVkQ29udHJvbDxUPiA9IChtU2V0dGluZ3M6IE5vbkNvbnRyb2xQcm9wZXJ0aWVzPFQ+ICYgeyBjaGlsZHJlbj86IEpTWC5FbGVtZW50IHwgQ29udHJvbFByb3BlcnRpZXM8VD4gfSkgPT4gSlNYLkVsZW1lbnQ7XG5cbmNvbnN0IHdyaXRlQ2hpbGRyZW4gPSBmdW5jdGlvbih2YWw6IHN0cmluZyB8IHN0cmluZ1tdKSB7XG5cdGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcblx0XHRyZXR1cm4gdmFsLmpvaW4oXCJcIik7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxufTtcblxuY29uc3QgYWRkQ2hpbGRBZ2dyZWdhdGlvbiA9IGZ1bmN0aW9uKGFnZ3JlZ2F0aW9uQ2hpbGRyZW46IGFueSwgYWdncmVnYXRpb25OYW1lOiBzdHJpbmcsIGNoaWxkOiBhbnkpIHtcblx0aWYgKGNoaWxkID09PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm47XG5cdH1cblx0aWYgKCFhZ2dyZWdhdGlvbkNoaWxkcmVuW2FnZ3JlZ2F0aW9uTmFtZV0pIHtcblx0XHRhZ2dyZWdhdGlvbkNoaWxkcmVuW2FnZ3JlZ2F0aW9uTmFtZV0gPSBbXTtcblx0fVxuXHRpZiAodHlwZW9mIGNoaWxkID09PSBcInN0cmluZ1wiICYmIGNoaWxkLnRyaW0oKS5sZW5ndGggPiAwKSB7XG5cdFx0YWdncmVnYXRpb25DaGlsZHJlblthZ2dyZWdhdGlvbk5hbWVdLnB1c2goY2hpbGQpO1xuXHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGQpKSB7XG5cdFx0Y2hpbGQuZm9yRWFjaChzdWJDaGlsZCA9PiB7XG5cdFx0XHRhZGRDaGlsZEFnZ3JlZ2F0aW9uKGFnZ3JlZ2F0aW9uQ2hpbGRyZW4sIGFnZ3JlZ2F0aW9uTmFtZSwgc3ViQ2hpbGQpO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdE9iamVjdC5rZXlzKGNoaWxkKS5mb3JFYWNoKGNoaWxkS2V5ID0+IHtcblx0XHRcdGFkZENoaWxkQWdncmVnYXRpb24oYWdncmVnYXRpb25DaGlsZHJlbiwgY2hpbGRLZXksIGNoaWxkW2NoaWxkS2V5XSk7XG5cdFx0fSk7XG5cdH1cbn07XG5cbmNvbnN0IGpzeCA9IGZ1bmN0aW9uPFQ+KFxuXHR0eXBlOiBDb250cm9sV2l0aE1ldGFkYXRhLFxuXHRtU2V0dGluZ3M6IE5vbkNvbnRyb2xQcm9wZXJ0aWVzPFQ+ICYgeyBjaGlsZHJlbj86IEpTWC5FbGVtZW50IHwgQ29udHJvbFByb3BlcnRpZXM8VD4gfVxuKTogc3RyaW5nIHtcblx0Y29uc3QgbWV0YWRhdGEgPSB0eXBlLmdldE1ldGFkYXRhKCk7XG5cdGNvbnN0IG5hbWVzU3BsaXQgPSBtZXRhZGF0YS5nZXROYW1lKCkuc3BsaXQoXCIuXCIpO1xuXG5cdGNvbnN0IG1ldGFkYXRhUHJvcGVydGllczogeyBuYW1lOiBzdHJpbmcgfVtdID0gKG1ldGFkYXRhLmdldEFsbFByb3BlcnRpZXMoKSBhcyB1bmtub3duKSBhcyB7IG5hbWU6IHN0cmluZyB9W107XG5cdGNvbnN0IG1ldGFkYXRhQWdncmVnYXRpb25zOiB7IG5hbWU6IHN0cmluZyB9W10gPSAobWV0YWRhdGEuZ2V0QWxsQWdncmVnYXRpb25zKCkgYXMgdW5rbm93bikgYXMgeyBuYW1lOiBzdHJpbmcgfVtdO1xuXG5cdGNvbnN0IG5hbWVzcGFjZSA9IG5hbWVzU3BsaXQuc2xpY2UoMCwgLTEpO1xuXHRjb25zdCBuYW1lID0gbmFtZXNTcGxpdFtuYW1lc1NwbGl0Lmxlbmd0aCAtIDFdO1xuXHRjb25zdCBuYW1lc3BhY2VBbGlhcyA9IG5hbWVzcGFjZVtuYW1lc3BhY2UubGVuZ3RoIC0gMV07XG5cdGNvbnN0IHRhZ05hbWUgPSBgJHtuYW1lc3BhY2VBbGlhc306JHtuYW1lfWA7XG5cdGNvbnN0IHByb3BlcnRpZXNTdHJpbmc6IHN0cmluZ1tdID0gW107XG5cdGNvbnN0IGFnZ3JlZ2F0aW9uU3RyaW5nOiBzdHJpbmdbXSA9IFtdO1xuXHRjb25zdCBkZWZhdWx0QWdncmVnYXRpb25OYW1lID0gbWV0YWRhdGEuZ2V0RGVmYXVsdEFnZ3JlZ2F0aW9uTmFtZSgpO1xuXHRPYmplY3Qua2V5cyhtZXRhZGF0YVByb3BlcnRpZXMpLmZvckVhY2gocHJvcGVydHlOYW1lID0+IHtcblx0XHRpZiAobVNldHRpbmdzLmhhc093blByb3BlcnR5KHByb3BlcnR5TmFtZSkpIHtcblx0XHRcdHByb3BlcnRpZXNTdHJpbmcucHVzaChgJHtwcm9wZXJ0eU5hbWV9PVwiJHsobVNldHRpbmdzIGFzIGFueSlbcHJvcGVydHlOYW1lXX1cImApO1xuXHRcdH1cblx0fSk7XG5cdGNvbnN0IGFnZ3JlZ2F0aW9uQ2hpbGRyZW46IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPiA9IHtcblx0XHRbZGVmYXVsdEFnZ3JlZ2F0aW9uTmFtZV06IFtdXG5cdH07XG5cdGFkZENoaWxkQWdncmVnYXRpb24oYWdncmVnYXRpb25DaGlsZHJlbiwgZGVmYXVsdEFnZ3JlZ2F0aW9uTmFtZSwgbVNldHRpbmdzLmNoaWxkcmVuKTtcblx0T2JqZWN0LmtleXMobWV0YWRhdGFBZ2dyZWdhdGlvbnMpLmZvckVhY2goYWdncmVnYXRpb25OYW1lID0+IHtcblx0XHRpZiAoYWdncmVnYXRpb25DaGlsZHJlbj8uaGFzT3duUHJvcGVydHkoYWdncmVnYXRpb25OYW1lKSAmJiBhZ2dyZWdhdGlvbkNoaWxkcmVuW2FnZ3JlZ2F0aW9uTmFtZV0ubGVuZ3RoID4gMCkge1xuXHRcdFx0YWdncmVnYXRpb25TdHJpbmcucHVzaChcblx0XHRcdFx0YDwke25hbWVzcGFjZUFsaWFzfToke2FnZ3JlZ2F0aW9uTmFtZX0+XG5cdFx0XHRcdFx0XHQke3dyaXRlQ2hpbGRyZW4oYWdncmVnYXRpb25DaGlsZHJlblthZ2dyZWdhdGlvbk5hbWVdKX1cblx0XHRcdFx0XHQ8LyR7bmFtZXNwYWNlQWxpYXN9OiR7YWdncmVnYXRpb25OYW1lfT5gXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRpZiAobVNldHRpbmdzLmhhc093blByb3BlcnR5KGFnZ3JlZ2F0aW9uTmFtZSkpIHtcblx0XHRcdHByb3BlcnRpZXNTdHJpbmcucHVzaChgJHthZ2dyZWdhdGlvbk5hbWV9PScke0pTT04uc3RyaW5naWZ5KChtU2V0dGluZ3MgYXMgYW55KVthZ2dyZWdhdGlvbk5hbWVdKX0nYCk7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIGA8JHt0YWdOYW1lfSB4bWxuczoke25hbWVzcGFjZUFsaWFzfT1cIiR7bmFtZXNwYWNlLmpvaW4oXCIuXCIpfVwiICR7cHJvcGVydGllc1N0cmluZy5qb2luKFwiIFwiKX0+JHthZ2dyZWdhdGlvblN0cmluZy5qb2luKFxuXHRcdFwiXCJcblx0KX08LyR7dGFnTmFtZX0+YDtcbn07XG5leHBvcnQgZGVmYXVsdCBqc3g7XG4iXX0=