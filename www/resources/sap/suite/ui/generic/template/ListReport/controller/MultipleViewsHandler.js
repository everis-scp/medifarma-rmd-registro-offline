sap.ui.define(["sap/ui/base/Object","sap/suite/ui/generic/template/js/StableIdHelper","sap/suite/ui/generic/template/lib/multipleViews/MultipleViewsHandler","sap/base/util/extend","sap/suite/ui/generic/template/genericUtilities/FeError"],function(B,S,M,e,F){"use strict";var c="ListReport.controller.MultipleViewsHandler";function g(s,C,t){var G;var q;var m;var a;function o(){if(!G){return;}G.updateCounts();}function b(I,J){if(!G){return;}G.onRebindContentControl(I,J);}function r(I,P){if(!G){return null;}return G.resolveParameterizedEntitySet(I,P);}function f(I,J){return G?G.formatMessageStrip(I,J):"";}function d(){if(G){var I=G.getSelectedKey();var T=G.getContentForIappState(I);return{state:T};}return null;}function h(I){if(!G){return C.getOwnerComponent().getEntitySet()===I;}return G.hasEntity(I);}function i(I){return G&&G.formatItemTextForMultipleView(I);}function R(s){if(G){G.restoreFromIappState(s);y();}}function D(){return G&&G.determineSortOrder();}function j(I,T,J){if(!G){return false;}G.refreshOperation(I,T,J);return true;}function k(){return!!(q&&q.enableAutoBinding);}function l(){return a;}function n(){if(!G){return;}G.setActiveButtonState();}function p(){if(!G){return null;}return G.restoreActiveButtonState();}function u(I,T,P){if(!G){return;}G.setControlVariant(I,T,P);}function H(I){if(!G){return;}if(I.selectedQuickVariantSelectionKey){G.setSelectedKey(I.selectedQuickVariantSelectionKey);}}function v(){if(!m){return null;}return m==="single"?"tableViewData":"tableTabData";}function w(){return G.getSelectedKey();}function x(K){return G.setSelectedKey(K);}function O(I){var J=I.getParameter("itemContexts")&&I.getParameter("itemContexts")[0];t.oCommonEventHandlers.onListNavigate(I,s,J);}function y(){if(m==="multi"){var K=G.getSelectedKey();var I=S.getStableId({type:"ListReportTable",subType:"SmartTable",sQuickVariantKey:K});s.oSmartTable=C.byId(I);}}function z(I){if(m==="multi"){G.refreshSiblingControls(I);}}function A(){return G&&G.getMode();}function E(){var I=t.oComponentUtils.getSettings();if(I.quickVariantSelection){return s.oSmartTable;}else if(I.quickVariantSelectionX){var J=S.getStableId({type:"ListReportTable",subType:"SmartTable","sQuickVariantKey":G.getSelectedKey()});return C.byId(J);}}(function(){var I=t.oComponentUtils.getSettings();var Q=I.quickVariantSelectionX;var J=I.quickVariantSelection;if(Q&&J){throw new F(c,"Defining both QuickVariantSelection and QuickVariantSelectionX in the manifest is not allowed.");}q=Q||J;if(Q){a=Q.enableAutoBinding;if(a===null||a===undefined){Q.enableAutoBinding=true;}}if(!q){return;}var K;if(Q){m="multi";var L=S.getStableId({type:"QuickVariantSelectionX",subType:"IconTabBar"});K=C.byId(L);}else{m="single";var N=S.getStableId({type:"QuickVariantSelection",subType:"SegmentedButton"});var V=S.getStableId({type:"QuickVariantSelection",subType:"VariantSelect"});K=C.byId(N)||C.byId(V);}var P={manifestSettings:q,pathInTemplatePrivateModel:"/listReport/multipleViews",smartControl:J&&s.oSmartTable,getSmartControl:Q&&function(T){var U=S.getStableId({type:"ListReportTable",subType:"SmartTable","sQuickVariantKey":T});return C.byId(U);},switchingControl:K,smartFilterBar:s.oSmartFilterbar,getSearchValue:function(){return s.oSmartFilterbar.getBasicSearchValue();},appStateChange:function(){if(G){y();var T=s.oIappStateHandler.areDataShownInTable()||s.oWorklistData.bWorkListEnabled;s.oIappStateHandler.changeIappState(T);}},isDataToBeShown:function(){return s.oIappStateHandler.areDataShownInTable()||s.oWorklistData.bWorkListEnabled;},adaptRefreshRequestMode:function(T){return T+(s.oWorklistData.bWorkListEnabled&&T<2?2:0);},pathToActiveObjectEnabled:"/listReport/activeObjectEnabled",refreshModelOnTableRefresh:true};G=new M(C,t,P);y();})();return{onDataRequested:o,refreshOperation:j,onRebindContentControl:b,formatMessageStrip:f,getContentForIappState:d,restoreFromIappState:R,formatItemTextForMultipleView:i,getEnableAutoBinding:k,getOriginalEnableAutoBinding:l,determineSortOrder:D,setActiveButtonState:n,restoreActiveButtonState:p,setControlVariant:u,handleStartUpObject:H,onDetailsActionPress:O,getSelectedKeyPropertyName:v,getSelectedKey:w,setSelectedKey:x,hasEntitySet:h,refreshSiblingControls:z,resolveParameterizedEntitySet:r,getMode:A,getPresentationControl:E};}return B.extend("sap.suite.ui.generic.template.ListReport.controller.MultipleViewsHandler",{constructor:function(s,C,t){e(this,g(s,C,t));}});});
